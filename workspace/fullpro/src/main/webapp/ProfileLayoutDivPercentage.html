<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">

<body onload="noBack();" 
    onpageshow="if (event.persisted) noBack();" onunload="">


 



 <div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = 'https://connect.facebook.net/en_GB/sdk.js#xfbml=1&version=v2.11';
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

                 <div id="loading" style = "top:0;left:0;width: 100%; height: 100%; position: absolute; background-color: #A0C5EA ;border-style:none;z-index: 1000;">
                 <span style="position: absolute; right: 50%;top:40%;bottom:40%;font-family: cursive;" >    <font size="3" color="green" font-family=" cursive" >  loading ....   </font></span> 

                <!--   <img id="loading-image" style = "top:0;left:0;width: 100%; height: 100%; position: absolute; background-color: #A0C5EA ;border-style:none;z-index: 99" src="../../css/image.jpg"  /> -->
                  </div>
  
        <!-- start of present full screen div the headers -->

        <div id="fullScreenDiv"
                style="top:0;left:0;width: 100%; height: 100%; position: absolute; background-color: #A0C5EA ;border-style:none;">

                 <!-- div for tabs controller -->
                 <div id="zones" class="tab ui-widget"  style="top:0;bottom:96%;left:0;right:0;width: 98%;height: 3.5%; position: absolute; background-color: #fafafa;border-style:none;">

                  <button id="buttonForTrendingId" class="tablinks" onclick="openCity(event, 'fullScreenDivForTrending')"><span> <font  id="tabFour" color="black">Trending</font></span> </button>
                   <button id="buttonForThinkersId" class="tablinks" onclick="openCity(event, 'fullScreenDivForThinkers')"><span> <font  id="tabTwo" color="black"> Writers</font></span> </button>
                  <button id="buttonForBooksId" class="tablinks" onclick="openCity(event, 'fullScreenDivForBooks')"><span> <font  id="tabThree" color="black"> Books</font></span> </button>
                   <button id="defaultOpen" class="tablinks" onclick="openCity(event, 'fullScreenDivForMyHome')"> <span> <font id="tabOne" color="black"> MyLibrary</font></span> </button>

                  <!-- <input id = "searchThinkers" style="position: absolute; left: 50%;top:1px;background-color: #fafafa;color:black;font-family:cursive; ;border-style: solid;border-color:#fafafa;" value="Search thinkers .." ></input> -->
                 <!-- &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp --> 
                   <span id="waitSymbol"  style="position: absolute; right: 2%;top:1px;font-family: cursive" >    <font id="waitSymbolFont" size="3" color="black" font-family=" cursive" >loading................................................. </font></span>


                   <span  id="registerPlaceHolder" style="position: absolute; right: 2%;top:1px;font-family: cursive" >   <font id="registerFont" size="3" color="black" font-family=" cursive" ><a style="color:black"; href="http://localhost:8080/portal/UserLogin.html"> Be An Authorpreneur </a></font></span>


                   <span  id="logoutPlaceHolder"  style="position: absolute; right: 2%;top:1px;font-family: cursive" >   <font id="logoutFont" size="3" color="black" font-family=" " ><a style="color:black"; href="http://localhost:8080/portal/UserLogin.html"> logout </a></font></span>

                  <div class="fb-like" data-href="https://facebook.com/thoughtsbookdotcom" data-layout="button" data-action="like" data-size="small" data-show-faces="false" data-share="false"></div>

                </div> 
                 <!-- catch :  zones div bottom and height is 100% , similarly for my home , top and height is 100% -->


            <!-- start of present my home div -->
            <div id="fullScreenDivForMyHome" class="tabcontent"
                style="top:4%;left:0;width: 98%; height: 95.5%; position: absolute; background-color: #A0C5EA ;border-style:none;overflow-y: scroll;">
                
                
                <!--  end of the header div -->
                
                <!-- div used for the login screen -->
           <div id="myProfilePanel"
                        style="top: 5%; left: .01%; right: 74%; bottom: .01%; position: absolute; background-color: #A0C5EA ;border-style:none;">

                                 <div id="welcomeTextPanel"
                        style="top: 3%; left: 16%; right: 16%; bottom: 93.5%; position: absolute; background-color: #A0C5EA ;border-style:outset;border: 4px solid #A0C5EA ;">
                                <span >
                              
                                
                               <!--  <font id="welcomeText"  color="black"><strong>    welcome : </strong></font>  -->
                                        
                                
                                </span>

                                </div>
                                <div id="imagePanel"
                        style="top: 11%; left: 14%; right: 16%; bottom: 68.5%; position: absolute; background-color: #A0C5EA ;border-style:outset;border: 4px solid #A0C5EA ;">
                             <image id="profilePic" width="130" height="130" style="border-radius:5px" /> 
                            </div>
                            
                            <div id="adPanel"
                        style="top: 45%; left: 14%; right: 16%; bottom: 15%; overflow-y :auto;position: absolute; background-color: #A0C5EA ;border-style:outset;border: 4px solid #A0C5EA ;">
                                 
                                                <!-- <br>
                                                <br>
                                                <label id="testLabelForResponsive" style="color:black;font-style: helvetica;">  Categories : </label>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp
                                                <br>
                                                <select id="dropDown">
                                                  <option value="Please select">Please select</option>
                                                </select>
                                                <br>
                                                <br>

                                                <label id="labelForBooksResponsive" style="color:black" >  Books : </label>&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp 
                                                  <br>
                                                  <select id="dropDownBooks">
                                                  <option value="Please select book">Please select book</option>
                                                </select>
                                                <br>
                                                <br>

                                                <input size="8" id="newCategoryInputId" value="category " class="reClear2" style="border-radius:5px;" ></input> &nbsp&nbsp
                                                  <br>
                                                  <br>
                                                <button class="buttonForBooks" id="newCategoryInputButtonId"> Create </button>    
                                                 <br>
                                                 <br> -->
                                               <!--  <button id="paymentButton" > pay </button> -->
                                         

                                               

                            </div>
                                
                </div> <!-- end of profile panel -- >


                <!-- start of the right div -->

                <div id="myLibraryPanel" 
                        style="top: .01%; left: 21%; right: .01%; bottom: .01%; position: absolute; background-color:#A0C5EA ;border-style:none">
                              
                                      <div id="libraryControllerLoginPanel"
                        style="top: 1%; left: .01%; right: .5%; bottom: 85%; position: absolute; background-color: #A0C5EA ;border-style:none ; border-radius: 25px; text-align: center;overflow-y: auto"> <!-- imortant divDivision code where top and bottom percentage both have to be considered  -->
                                             
                                               
                                               
                                            

                                                <input size="10" id="newCategoryInputId" value=" Category " class="reClear2" style="border-radius:5px;" ></input> &nbsp  &nbsp  &nbsp
                                                  
                                                <button class="buttonForBooks" id="newCategoryInputButtonId"> Create Category</button> &nbsp &nbsp &nbsp  <!--  &nbsp &nbsp &nbsp  &nbsp&nbsp &nbsp &nbsp &nbsp &nbsp&nbsp &nbsp&nbsp &nbsp&nbsp &nbsp&nbsp &nbsp &nbsp &nbsp &nbsp&nbsp &nbsp&nbsp &nbsp&nbsp &nbsp&nbsp &nbsp
 -->
                                                  <br><br>

                                                   <label id="testLabelForResponsive" style="color:black;font-style: helvetica;">  Categories : </label>
                                                
                                                <select id="dropDown">
                                                  <option value="Please select">Please select</option>
                                                </select> &nbsp &nbsp &nbsp
                                                

                                                <label id="labelForBooksResponsive" style="color:black" >  Books : </label>
                                                  
                                                  <select id="dropDownBooks">
                                                  <option value="Please select book">Please select book</option>
                                                </select>  &nbsp &nbsp

                                                 
                                         
                                    </div>
                               

                                    <!--  #A0C5EA Andblack changes : line libraryBookWriteZonePanel to bottomDiv colour changed as #A0C5EA  
                                      , also inner elements color changed to black like of labels or probably somewhere of button as well -->
                                <div id="libraryBookWriteZonePanel"
                        style="top: 11%; left: 1%; right: .5%; bottom: .5%; position: absolute; background-color: #A0C5EA ;border-style:none ; border-radius: 25px;">


                                        <div id="upperDiv" style="left:28%;right:15%;top:1%; position: absolute; background-color: #A0C5EA ;z-index:5;border-radius: 25px;">
                                             
                                                <label id="labelForBookName" style="color:white;font-size: 25px"> topic title : </label> &nbsp &nbsp <input id="newBookId" size="16" value=" topic title .. " style="border-radius:5px;border-width: thin;"></input> &nbsp &nbsp &nbsp &nbsp 
                                                 <label id="labelForBookPrice" style="color:black;font-size: 25px"> book price : </label> &nbsp &nbsp
                                                <input id="bookPriceId" size="16" value="0" style="border-radius:5px;border-width: thin;"></input>
                                                <!-- <br> -->
                                                <br>  <br>
                                                 <label style="left:.01%; position: absolute;color:black " id="labelForTopicNumber"> CHAPTER :  </label><select id="topicDropDown" style="left:20%; position: absolute; ">
                                                 <optgroup >
                                                  <option class="service-small" value="1">1</option>
                                                  <option value="2">2</option>
                                                  <option value="3">3</option>
                                                  <option value="4">4</option>
                                                  <option value="5">5</option>
                                                  <option value="6">6</option>
                                                  <option value="7">7</option>
                                                  <option value="8">8</option>
                                                  <option class="service-small" value="9">9</option>
                                                  <option value="10">10</option>
                                                  <option value="11">11</option>
                                                  <option value="12">12</option>
                                                  <option value="13">13</option>
                                                  <option value="14">14</option>
                                                  <option value="15">15</option>
                                                  <option value="16">16</option>
                                                  <option value="17">17</option>
                                                  <option value="18">18</option>
                                                  <option value="19">19</option>
                                                  <option value="20">20</option>
                                                  <option value="21">21</option>
                                                  <option value="22">22</option>
                                                  <option value="23">23</option>
                                                  <option value="24">24</option>
                                                  <option value="25">25</option>
                                                  <option value="26">26</option>
                                                  <option value="27">27</option>
                                                  <option value="28">28</option>
                                                  <option value="29">29</option>
                                                  <option value="30">30</option>
                                                  <option value="31">31</option>
                                                  <option value="32">32</option>
                                                  <option value="33">33</option>
                                                  <option value="34">34</option>
                                                  <option value="35">35</option>
                                                  <option value="36">36</option>
                                                  <option value="37">37</option>
                                                  <option value="38">38</option>
                                                  <option value="39">39</option>
                                                  <option value="40">40</option>
                                                  <option value="41">41</option>
                                                  <option value="42">42</option>
                                                  <option value="43">43</option>
                                                  <option value="44">44</option>
                                                  <option value="45">45</option>
                                                  <option value="46">46</option>
                                                  <option value="47">47</option>
                                                  <option value="48">48</option>
                                                  <option value="49">49</option>
                                                  <option value="50">50</option>
                                                  </optgroup></select>
                                                   
                                                     <input size="13" id="newTopicInputId" style="left:35%; position: absolute;border-radius:5px;border-width: thin;" value="topic image" class="reClear2"></input> <br><br>   <!-- &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp --><button style="right:2%; position: absolute;color:black " class="buttonForBooksPost"  title="create new book / update existing book contents" class="masterTooltip" id="newBookButtonId" ><span > <font id="postBook" color="white"> POST </font></span> </button>  <!-- <label>  BOOK-PRICE (INR) : </label> <input size="4" id="bookPrice" style="border-radius:5px;" value="0.00" class="reClear2"></input> -->  <!-- <button id="addImageId">Add Image</button> --> <label style="left:1%; position: absolute; color:black" id="labelForCoverImage"> topic image * :  </label><input style="left:35%; position: absolute;color:black " type="file" id="imageFile" />
                                                
                                                
                                        </div>


                                        <div id="innerDiv" style="left:1%;right:1%;top:18%; position: absolute; background-color: #A0C5EA ;z-index:5;">
                                <p id="titleId"></p>
                                        
                                        <div id="divTextArea" style="width:90%;font-size:22px;z-index:5;position: absolute;outline:none;white-space: pre-wrap;font-weight:590;font-color:black ;font-style: helvetica;border-width: thin;word-wrap: break-word;background-color: white;" class="notes"  contenteditable="true" class="textEditor" >

  1. Please register to write and enjoy maintaining your personal online library . And best part is your library can be read by all . This platform is a huge write and earn oppurtunity . blue 'create' buttons will help you write . Please create a category of your choice and select the category from 'categories' list before creating a book 

  2. First chapter is topic image . To upload topic  image , click on 'Choose File' button and wait to see your image file name appearing next to 'Choose File' button . Hit post button , chapter 1 is created.
  
  3. Other chapters are text content , hit post button to create chapters 2 , 3 and so on.

  4. We pay you as per the number of views you are getting on your post . Our social media team also helps your books becoming viral . Please email to us on thoughtsbookteam@gmail.com for promotion / payment purposes .

  Just write it , bring it on ! 

                                                
                                        </div>

                                        </div>


<!-- 
                                       
                                                

                                </div>

                         

                </div>                <!-- end of the my library div -->


                 

        
        </div> 

        <!-- Following code is for the pop up div at another z index which will render the contents of the book : -->
        <!-- Following code is for the pop up div at another z index which will render the contents of the book : -->
        <div id="bookLayout" style="left:3%;top:3%;right:3%;bottom:3%;width: 96%; height: 96%; position: absolute; background-color: black;border-radius: 25px;z-index:5;display:none;">
                

                <div id="topDivBookLayout" style="left:27%;right:1%;top:2%;bottom:92%;height:3%;width:50%; position: absolute; background-color: black;z-index:;border-radius: 25px;">
                                <table align="center" >
                                <tr>
                                <th><label id="bookTitleWhileRead"> Book name : </label></th>
                            </tr>
                            <tr>
                                <th><pre><label id="labelForTopicNumberWhileRead">TOPIC NUMBER  </label><select id="topicDropDownWhileRead">
                                                
                                                  <optgroup >
                                                  <option class="service-small" value="1">1</option>
                                                  <option value="2">2</option>
                                                  <option value="3">3</option>
                                                  <option value="4">4</option>
                                                  <option value="5">5</option>
                                                  <option value="6">6</option>
                                                  <option value="7">7</option>
                                                  <option value="8">8</option>
                                                  <option class="service-small" value="9">9</option>
                                                  <option value="10">10</option>
                                                  <option value="11">11</option>
                                                  <option value="12">12</option>
                                                  <option value="13">13</option>
                                                  <option value="14">14</option>
                                                  <option value="15">15</option>
                                                  <option value="16">16</option>
                                                  <option value="17">17</option>
                                                  <option value="18">18</option>
                                                  <option value="19">19</option>
                                                  <option value="20">20</option>
                                                  <option value="21">21</option>
                                                  <option value="22">22</option>
                                                  <option value="23">23</option>
                                                  <option value="24">24</option>
                                                  <option value="25">25</option>
                                                  <option value="26">26</option>
                                                  <option value="27">27</option>
                                                  <option value="28">28</option>
                                                  <option value="29">29</option>
                                                  <option value="30">30</option>
                                                  <option value="31">31</option>
                                                  <option value="32">32</option>
                                                  <option value="33">33</option>
                                                  <option value="34">34</option>
                                                  <option value="35">35</option>
                                                  <option value="36">36</option>
                                                  <option value="37">37</option>
                                                  <option value="38">38</option>
                                                  <option value="39">39</option>
                                                  <option value="40">40</option>
                                                  <option value="41">41</option>
                                                  <option value="42">42</option>
                                                  <option value="43">43</option>
                                                  <option value="44">44</option>
                                                  <option value="45">45</option>
                                                  <option value="46">46</option>
                                                  <option value="47">47</option>
                                                  <option value="48">48</option>
                                                  <option value="49">49</option>
                                                  <option value="50">50</option>
                                                  </optgroup>
                                                  </select> <label id="topicFetchedWhileRead"></label>
                                </pre></th>        
                            </tr>
                            </table>
                        </div>
        
                <div id="innerDivBookLayout" style="left:7%;right:3%;top:12%;bottom:6%; position: absolute; background-color: black;z-index:5;border-radius: 25px;overflow-y: auto;">
                <p id="titleId"></p>
                        
                        <div  id="divTextAreaForRead" style="width:95%;left:3%;right:3%;top:5%;bottom:5%;font-size:18px;z-index:5;position: absolute;outline:none; border: solid;border-width: thin;black-space : pre-wrap ; overflow-y: auto;" class="notes" contenteditable="true" class="textEditor">

                                
                        </div>
                </div>

                <div id="bottomDivBookLayout" style="left:3%;right:3%;top:92%;bottom:2.5%; position: absolute; background-color: black;z-index:5;border-radius: 25px;">
                        <table align="center">
                        <tr>
                        <th><button class="buttonCloseBook" id="closeButton">   Close  </button></th>
                    </tr>
                    </table>
                </div>
                

        </div>
                

        </div> <!-- end of full screen div for myHome present -->
      </div>


         <!-- start of presentThinkers div -->
         <div id="fullScreenDivForThinkers" class="tabcontent"
                style="top:4%;left:0;width: 98%; height: 95.5%; position: absolute; background-color: #A0C5EA ;border-style:none;overflow-y: scroll;">
                
               

                


                <div id="libraryBookWriteZonePanelBooks1"
                        style="top: 5%; left: 21%; right: .5%; bottom: 1%; position: absolute; background-color: #A0C5EA ;border-style:none ; border-radius: 25px;">
                                       <span id="waitSymbolForWritersTab"  style="position: absolute; right: 80%;top:1px;font-family: cursive;" >    <font size="3" color="green" font-family=" cursive" >loading...  </font></span> 

                                        <div id="upperDivBooks1" style="left:26%;right:23%;top:1%; position: absolute; background-color: #A0C5EA ;z-index:5;border-radius: 25px;">

                                           
                                                
                                                  <input id = "searchWriters" style="position: absolute; font-size:20px;left:1%;background-color: #fafafa;color:black;font-family:cursive ;border-style: solid;border-color:#fafafa;" value="hit enter , search writers " ></input> 

                                                  <br>
                                                  <br>
                                                  <br>
                                                 <!--  <br> -->
                                               
                                                <!--  <div id="bottomDivBooks" style=" position: absolute;top:10%;background-color: black;z-index:15;border-radius: 25px;"> -->
                                               <!--   <pre>    -->  
                                                <label size="" id="labelForBookNameBooks1" style="color:white;font-size:25px">  Dear writers , please write a book to introduce yourself </label> <!-- <input id="newBookIdBooks" size="20" value=" book title " style="border-radius:5px;"></input>  &nbsp<button class="buttonForBooks" title="create new book / update existing book contents" class="masterTooltip" id="newBookButtonIdBooks" >Create / Update Book</button>  -->
                                               <br>
                                                <br>

                                              </div>
                                            </div>


                                               <div id="innerDivBooksBookLayoutTrendingWrapperForWriters" 
                style="left:5%;right:5%;top:22%;position: absolute;scrollbar-face-color: #A0C5EA ; background-color: #A0C5EA ;border-style:none;text-align: center; ">




              



                
              </div> 




                               


                 

        
         

        <!-- Following code is for the pop up div at another z index which will render the contents of the book : -->
        <!-- Following code is for the pop up div at another z index which will render the contents of the book : -->
       


                
        </div>

        



         <!-- start of presentBooks div -->
         <div id="fullScreenDivForBooks" class="tabcontent"
                style="top:4%;left:0;width: 98%; height:95.5%; position: absolute; background-color: #A0C5EA ;border-style:none;overflow-y: scroll;">
                
               
                

                 <div id="myProfilePanelBooks"
                        style="top: 5%; left: .01%; right: 74%; bottom: .01%; position: absolute; background-color: #A0C5EA ;border-style:none;">

                                 <div id="welcomeTextPanelBooks" 
                        style="top: 3%; left: 16%; right: 16%; bottom: 93.5%; position: absolute; background-color: #A0C5EA ;border-style:outset;border: 4px solid #A0C5EA ;">

                             
                              
                                
                                <!--  <font id="welcomeTextBooks"  color="white"><strong>    welcome : </strong></font>  
                                  var bookButton  = $("<button name=\'"+bookName+"\'>Read</button>");
                              bookButton.prop("class","buttonForBooks"); -->
                              <button id="writerConnectButton" class="buttonForwriters">Connect : </button>
                                        
                                
                               

                                </div>
                                <div id="imagePanelBooks"
                        style="top: 11%; left: 14%; right: 16%; bottom: 68.5%; position: absolute; background-color: #A0C5EA ;border-style:outset;border: 4px solid #A0C5EA ;">
                             <image id="profilePicBooks" width="130" height="130" style="border-radius:5px" src="css/image.jpg"/> 
                            </div>
                            
                            <div id="adPanelBooks"
                        style="top: 65%; left: 3%; right: 16%; position: absolute; background-color: #A0C5EA ;border-style:outset;border: 4px solid #A0C5EA ;">
                                 
                                               
                                       <button class="buttonCloseBook" id="paymentButtonOther"  style=" position:absolute;top:1%;" >   Buy  </button>

                                       <br>
                                       <br>
                                        <br>
                                       <br>

                                        <input id = "transactionId" style=" position:absolute;top:55%;font-size:20px;background-color: #fafafa;color:black;font-family:cursive ;border-style: solid;border-color:#fafafa;" value=" paste payment id to unlock book " ></input> 

                                       <br>
                                       <br>
                                        <br>
                                       <br>

                                          <button class="buttonCloseBook" id="bookUnlockId" style=" position:absolute;top:99%;">   Unlock Book  </button>

                                               

                            </div>
                                
                </div> <!-- end of profile panel -- >


             


                               <!--  <div id="libraryBookWriteZonePanelBooks1"
                        style="top: 5%; left: 1%; right: .5%; bottom: 1%; position: absolute; background-color: #FFFFFF;border-style:none ; border-radius: 25px; overflow-y :auto;"> 
                           <div id="myLibraryPanelBooks" 
                        style="top: .01%; left: 24%; right: .01%; bottom: .01%; position: absolute; background-color:#A0C5EA ;border-style:none">
                              
                                      <div id="libraryControllerLoginPanelBooks"
                        style="top: 1%; left: 25%; right: .5%;position: absolute; background-color: #A0C5EA ;border-style:none ; border-radius: 25px; overflow-y :auto;">


                                       
                                     
                                           <label id="testLabelForResponsiveBooks" style="color:black;font-style: helvetica;">  Categories : </label>
                                                
                                                <select id="dropDownCategoryBooks">
                                                  <option value="Please select">Please select</option>
                                                </select> &nbsp &nbsp &nbsp
                                                

                                                <label id="labelForBooksResponsiveBooks" style="color:black" >  Books : </label>
                                                  
                                                  <select id="dropDownBooksBooks">
                                                  <option value="Please select book">Please select book</option>
                                                </select> 

                                           
                                                 


                                    </div>  top: 3%; left: 1%; right: .5%; bottom: .5%; -->
                               


                                <div id="libraryBookWriteZonePanelBooks"
                        style="top: 5%; left: 21%; right: .5%; bottom: 1%; position: absolute; background-color: #A0C5EA ;border-style:none ; border-radius: 25px;">
                                       <span id="waitSymbolForBooksTab"  style="position: absolute; right: 80%;top:1px;font-family: cursive;" >    <font size="3" color="green" font-family=" cursive" >loading...  </font></span>

                                        <div id="upperDivBooks" style="left:26%;right:23%;top:1%; position: absolute; background-color: #A0C5EA ;z-index:5;border-radius: 25px;">

                                           
                                                
                                                  <input id = "searchBooks" style="position: absolute; font-size:20px;left:1%;background-color: #fafafa;color:black;font-family:cursive ;border-style: solid;border-color:#fafafa;" value="Search books ,hit enter to search " ></input> 

                                                  <br>
                                                  <br>
                                                  <br>

                                                    <div id="adPanelBooks1"
                        style="top: 99%; left: 40%; right: 16%; position: absolute; background-color: #A0C5EA ;border-style:outset;border: 4px solid #A0C5EA ;">
                                 
                                               
                                       <button class="buttonCloseBook" id="paymentButtonOther1"  style=" position:absolute;top:1%;" >   Buy  </button>

                                       &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp

                                         <button class="buttonCloseBook" id="bookUnlockId1" style=" position:absolute;top:99%;">   Unlock Book  </button>

                                       <br>
                                        <br>
                                       <br>

                                        <input id = "transactionId1" style=" position:absolute;top:55%;font-size:20px;background-color: #fafafa;color:black;font-family:cursive ;border-style: solid;border-color:#fafafa;" value=" paste payment id to unlock book " ></input> 

                                     
                                       <br>

                                        

                                               

                                      </div>



                                                 <!--  <br> -->
                                               
                                                <!--  <div id="bottomDivBooks" style=" position: absolute;top:10%;background-color: black;z-index:15;border-radius: 25px;"> -->
                                               <!--   <pre>    -->  
                                                <label size="" id="labelForBookNameBooks" style="color:white;font-size:25px">        Book Name :  </label> <!-- <input id="newBookIdBooks" size="20" value=" book title " style="border-radius:5px;"></input>  &nbsp<button class="buttonForBooks" title="create new book / update existing book contents" class="masterTooltip" id="newBookButtonIdBooks" >Create / Update Book</button>  -->
                                               <br>
                                                <br>
                                                <label id="labelForTopicNumberBooks" style="color:black"> Chapter </label><select id="topicDropDownBooks">
                                                   <optgroup >
                                                  <option class="service-small" value="1">1</option>
                                                  <option value="2">2</option>
                                                  <option value="3">3</option>
                                                  <option value="4">4</option>
                                                  <option value="5">5</option>
                                                  <option value="6">6</option>
                                                  <option value="7">7</option>
                                                  <option value="8">8</option>
                                                  <option class="service-small" value="9">9</option>
                                                  <option value="10">10</option>
                                                  <option value="11">11</option>
                                                  <option value="12">12</option>
                                                  <option value="13">13</option>
                                                  <option value="14">14</option>
                                                  <option value="15">15</option>
                                                  <option value="16">16</option>
                                                  <option value="17">17</option>
                                                  <option value="18">18</option>
                                                  <option value="19">19</option>
                                                  <option value="20">20</option>
                                                  <option value="21">21</option>
                                                  <option value="22">22</option>
                                                  <option value="23">23</option>
                                                  <option value="24">24</option>
                                                  <option value="25">25</option>
                                                  <option value="26">26</option>
                                                  <option value="27">27</option>
                                                  <option value="28">28</option>
                                                  <option value="29">29</option>
                                                  <option value="30">30</option>
                                                  <option value="31">31</option>
                                                  <option value="32">32</option>
                                                  <option value="33">33</option>
                                                  <option value="34">34</option>
                                                  <option value="35">35</option>
                                                  <option value="36">36</option>
                                                  <option value="37">37</option>
                                                  <option value="38">38</option>
                                                  <option value="39">39</option>
                                                  <option value="40">40</option>
                                                  <option value="41">41</option>
                                                  <option value="42">42</option>
                                                  <option value="43">43</option>
                                                  <option value="44">44</option>
                                                  <option value="45">45</option>
                                                  <option value="46">46</option>
                                                  <option value="47">47</option>
                                                  <option value="48">48</option>
                                                  <option value="49">49</option>
                                                  <option value="50">50</option>
                                                  </optgroup>
                                                </select> <label id="labelForTopicNumberBooks1" style="color:black"> </label><input size="14" id="newTopicInputIdBooks" style="border-radius:5px;" value="" class="reClear2"></input><div style="  position: absolute;top:7%;background-color: black;z-index:115;border-radius: 25px;" >
                                          
                                               
                                               <!--  </div> -->
                                                <br>
                                                
                                               
                               <!--  </pre> -->
                                        </div>

                                       <!--   <div id="upperDivBooksrtt" style="left:25%;right:23%;top:10%;z-index: 6;bottom: 95% position: absolute; background-color: black;border-radius: 25px;">

                                         </div> -->




                                                
                                        </div>




                                        <div id="innerDivBooks" style="left:1%;right:1%;top:21%; position: absolute; background-color: black;z-index:5;"  >

                                       <!--   <div id="upperDivBooksrtt" style="position: absolute;border-radius: 25px;z-index:300;top:5%;bottom:90%;left:2%;right:2%;background-color: #A0C5EA " class="sharethis-inline-share-buttons" >
                                           
                                          <div  class="sharethis-inline-share-buttons" style="position: absolute;top:2%:left:2%;right:2%;bottom:2%;z-index:3000"></div> 
                                         </div>   -->

                                         
                                        <!--  class="sharethis-inline-share-buttons" -->
                                        
                                        <div id="divTextAreaBooks" style="width:87%;font-size:22px;z-index:5;position: absolute;outline:none;white-space: pre-wrap;font-weight:590;font-color:black ;font-style: helvetica;border-width: thin;background-color: white;color:black ;" class="notes" contenteditable="true" class="textEditor" class="disableRightClick" >

                                          
                                         



                                                
                                        </div>
                                        </div>



                                  
                                                

                                </div>

                         

                </div>                <!-- end of the my library div -->


                 

        
        </div> 

        <!-- Following code is for the pop up div at another z index which will render the contents of the book : -->
        <!-- Following code is for the pop up div at another z index which will render the contents of the book : -->
        <div id="bookLayoutBooks" style="left:3%;top:3%;right:3%;bottom:3%;width: 96%; height: 96%; position: absolute; background-color: black;border-radius: 25px;z-index:5;display:none;">
                

                <div id="topDivBooksBookLayout" style="left:27%;right:30%;top:2%;bottom:92%;height:3%;width:50%; position: absolute; background-color: black;z-index:;border-radius: 25px;">
                                <table align="center">
                                <tr>
                                <th><label id="bookTitleWhileReadBooks"> Book name : </label></th>
                                
                            </tr>
                            <tr>
                                <th><pre><label>TOPIC NUMBER  </label><select id="topicDropDownWhileReadBooks">
                                                   <optgroup >
                                                  <option class="service-small" value="1">1</option>
                                                  <option value="2">2</option>
                                                  <option value="3">3</option>
                                                  <option value="4">4</option>
                                                  <option value="5">5</option>
                                                  <option value="6">6</option>
                                                  <option value="7">7</option>
                                                  <option value="8">8</option>
                                                  <option class="service-small" value="9">9</option>
                                                  <option value="10">10</option>
                                                  <option value="11">11</option>
                                                  <option value="12">12</option>
                                                  <option value="13">13</option>
                                                  <option value="14">14</option>
                                                  <option value="15">15</option>
                                                  <option value="16">16</option>
                                                  <option value="17">17</option>
                                                  <option value="18">18</option>
                                                  <option value="19">19</option>
                                                  <option value="20">20</option>
                                                  <option value="21">21</option>
                                                  <option value="22">22</option>
                                                  <option value="23">23</option>
                                                  <option value="24">24</option>
                                                  <option value="25">25</option>
                                                  <option value="26">26</option>
                                                  <option value="27">27</option>
                                                  <option value="28">28</option>
                                                  <option value="29">29</option>
                                                  <option value="30">30</option>
                                                  <option value="31">31</option>
                                                  <option value="32">32</option>
                                                  <option value="33">33</option>
                                                  <option value="34">34</option>
                                                  <option value="35">35</option>
                                                  <option value="36">36</option>
                                                  <option value="37">37</option>
                                                  <option value="38">38</option>
                                                  <option value="39">39</option>
                                                  <option value="40">40</option>
                                                  <option value="41">41</option>
                                                  <option value="42">42</option>
                                                  <option value="43">43</option>
                                                  <option value="44">44</option>
                                                  <option value="45">45</option>
                                                  <option value="46">46</option>
                                                  <option value="47">47</option>
                                                  <option value="48">48</option>
                                                  <option value="49">49</option>
                                                  <option value="50">50</option>
                                                  </optgroup>
                                                </select> <label id="topicFetchedWhileReadBooks"></label>
                                </pre></th>        
                            </tr>
                            </table>
                        </div>
        
                <div id="innerDivBooksBookLayout" style="left:7%;right:3%;top:12%;bottom:6%; position: absolute; background-color: black;z-index:5;border-radius: 25px;overflow-y: auto;">
                <p id="titleIdBooks"></p>
                        
                        <div readonly id="divTextAreaForReadBooks" style="width:95%;left:3%;right:3%;top:5%;bottom:5%;font-size:18px;z-index:5;position: absolute;outline:none;border: solid;border-width: thin;overflow-y: auto;black-space : pre-wrap ;" class="notes" contenteditable="true" class="textEditor">

                                
                        </div>
                </div>

                <div id="bottomDivBooksBookLayout" style="left:33%;right:28%;top:92%;bottom:2.5%; position: absolute; background-color: black;z-index:5;border-radius: 25px;">
                        <table align="center">
                        <tr>
                        <th><button class="buttonCloseBook" id="closeButtonBooks">   Close  </button></th>
                    </tr>
                    </table>
                </div>
                

          </div>



        </div> <!-- end of presentBooks div -->




           <!-- start of trendingDiv-->

          <div id="loadingWall" 
                style="top:3%;left:0;width: 100%; height: 100% ;position: absolute; background-color: #A0C5EA ;border-style:none;overflow-y: auto;z-index: 1111 ;display: hidden">

                 <span style="position: absolute; right: 50%;top:40%;bottom:40%;font-family: cursive;" >    <font size="3" color="green" font-family=" cursive" >  loading  ... </font></span> 

                
                  </div> 

          <div id="fullScreenDivForTrending" class="tabcontent"
                style="top:4%;left:0;width: 98%; height: 95.5%; position: absolute; background-color: #A0C5EA ;border-style:none;overflow-y: scroll; ">
                
               
              
         <!--  <div id="trending" style="left:3%;top:3%;right:3%;bottom:3%;width: 96%; height: 96%; position: absolute; background-color: #A0C5EA ;border-radius: 25px;"> -->
                
                 <!--  wrapper div-->
                  <div id="leftBooksBookLayoutTrendingWrapper" 
                style="top:4%;left:.01%;right:98%; bottom:1%;position: absolute; background-color: #A0C5EA ;border-style:none; ">

              </div>

             <div id="innerDivBooksBookLayoutTrendingWrapperTopHolder" 
                style="left:5%;right:5%;top:6%;position: absolute;scrollbar-face-color: #A0C5EA ; background-color: #A0C5EA ;border-style:none;text-align: center; ">


                  <button id="trending" class="buttonForBooksBlue" align="left"> <span > <font  id="trendingFont" color="white"> THOUGHTSBOOK.COM - THE LEARNING MACHINE !</font></span>  </button>&nbsp&nbsp
              <!--   <button id="sports" class="buttonForBooksBlue" > <span > <font id="newsDataFont" color="black"> SPORTS </font></span>  </button>&nbsp&nbsp
                <button id="entertainment" class="buttonForBooksBlue" > <span > <font  id="literatureDataFont" color="black"> ENTERTAINMENT </font></span>  </button>&nbsp&nbsp
                <button id="literature" class="buttonForBooksBlue" > <span > <font  id="entertainmentDataFont" color="black"> LITERATURE </font></span>  </button>&nbsp&nbsp
              
             
                <button id="defense" class="buttonForBooksBlue" > <span > <font id="technologyDataFont"  color="black"> DEFENSE </font></span>  </button>&nbsp&nbsp
                <button id="health" class="buttonForBooksBlue" > <span > <font id="healthDataFont"  color="black"> HEALTH </font></span>  </button>&nbsp&nbsp
                   <button id="international" class="buttonForBooksBlue" > <span > <font  id="defenseDataFont" color="black"> INTERNATIONAL </font></span>  </button>&nbsp&nbsp
                <button id="technology" class="buttonForBooksBlue" > <span > <font  id="sportsDataFont" color="black"> TECHNOLOGY </font></span>  </button>
 -->


                <p id="hiddenData"> <span > <font id="hiddenDataFont"  color="#A0C5EA "> SPORTS </font> </span></p>



                



              </div>


                  <div id="innerDivBooksBookLayoutTrendingWrapper" 
                style="left:5%;right:5%;top:18%;position: absolute;scrollbar-face-color: #A0C5EA ; background-color: #A0C5EA ;border-style:none;text-align: center; ">




              



                
              </div>  <!--  end of wrapper div -->

                <div id="rightBooksBookLayoutTrendingWrapper"
                style="top:4%;left:98%;right:.01%;bottom:1%; position: absolute; background-color: #A0C5EA ;border-style:none; ">

              </div>
         <!--  </div> -->



        </div>   <!-- end of trending div -->




         
       
        </div>  <!-- end of full screen div present -->






</body>


<head>
  <title> thoughtsbook.com - the learning machine !!! </title>
 <meta charset="UTF-8" name="description" content=" A solution to learning on any topic  , be it anything - sports , academics , technology  , defense , entertainment , literature , absolutely any topic  .... " />
 <!--  <meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1">   -->
   

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.0/jquery.min.js"></script> 
<script type="text/javascript" src="//platform-api.sharethis.com/js/sharethis.js#property=59f741dd36cd2f0014cf012c&product=inline-share-buttons"></script>





<style>

optgroup { font-weight: bolder;background-color: #A0C5EA ;color: black; }

.notes {
   /* background-attachment: local;
    background-image:
        linear-gradient(to right, black 10px, transparent 10px),
        linear-gradient(to left, black 10px, transparent 10px),
        repeating-linear-gradient(black, black 30px, #ccc 30px, #ccc 31px, black 31px);
    line-height: 31px;
    padding: 8px 10px;*/
}
.buttonForBooks{
    background-color: #A0C5EA ; /* blue */
    border: none;
    color: white;
    padding: 7px 16px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 14px;
    border-radius:5px;
}

.buttonForwriters{
    background-color: #245998 ; 
    border: none;
    color: white;
    padding: 12px 26px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 12px;
    border-radius:5px;
}


.buttonForBooksPost{
    background-color: blue ; /* blue */
    border: none;
    color: white;
    padding: 7px 16px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 14px;
    border-radius:5px;
}

.buttonForBooksBlue{
    background-color:   #A0C5EA ; /* blue */
    border: none;
    color: #A0C5EA ;
    padding: 6px 10px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 18px;
    border-radius:5px;
    border-color: black
}.buttonForBooksWall{
    background-color: #A0C5EA ; /* blue */
    border: none;
    color: white;
    padding: 7px 16px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 16px;
    width:100%;
}
.buttonCloseBook {
    background-color: green ; 
    border: none;
    color: white;
    padding: 12px 26px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 12px;
    border-radius:5px;
}
.tooltip {
    display:none;
    position:absolute;
    border:1px solid #333;
    background-color:#161616;
    border-radius:5px;
    padding:10px;
    color:#fff;
    font-size:12px Arial;
}

/* Style the tab */
div.tab {
    overflow: hidden;
    border: 1px solid #ccc;
    background-color: #f1f1f1;
   
}

/* Style the buttons inside the tab */
div.tab button {
    background-color: inherit;
    float: left;
    border: none;
    outline: none;
    cursor: pointer;
    padding: 4px 14px;
    transition: 0.3s;
    font-size: 15px;
    font-color:white;
    font-family: ;
   
}

/* Change background color of buttons on hover */
div.tab button:hover {
    background-color: #A0C5EA ;
    
}

/* Create an active/current tablink class */
div.tab button.active {
    background-color: #A0C5EA ;
   
}

/* Style the tab content */
.tabcontent {
    display: none;
    padding: 1px 8px;
    border: 1px solid red;
    border-top: none;
    
}

@media (min-width: 768)
{
       body
       {
           font-size: 17px; 
       }
      
}

</style>
<title>thoughtsbook</title>        
 



<script type="text/javascript">


$(document).ready(function(){


  // startOfDocumentReadyMethod

window.history.forward();
    function noBack() { window.history.forward(); }

        // to show the wait page until page loading completes
        // $("#loading").show();

        // start of code for tooltip

        $('.masterTooltip').hover(function(){
        // Hover over code
        var title = $(this).attr('title');
        $(this).data('tipText', title).removeAttr('title');
        $('<p class="tooltip"></p>')
        .text(title)
        .appendTo('body')
        .fadeIn('slow');
            }, function() {
                    // Hover out code
                    $(this).attr('title', $(this).data('tipText'));
                    $('.tooltip').remove();
            }).mousemove(function(e) {
                    var mousex = e.pageX + 20; //Get X coordinates
                    var mousey = e.pageY + 10; //Get Y coordinates
                    $('.tooltip')
                    .css({ top: mousey, left: mousex })
        });
        
        // end of code for tooltip
           // $("#trending").focus();
           $("#hiddenDataFont").text("trending");
           // alert($("#hiddenDataFont").text());



           $("#searchBooks").click(function(){
            $("#searchBooks").val("hit enter,search books ");
           });



           $("#adPanelBooks1").hide();
    
            // sample jquery get method check on portal dev
             /*jQuery.ajax({
                        url: "http://localhost:8080/odlPortal/odlPortal/login/aparnesh/gaurav",
                        dataType: 'text',
                        success: function(data){
                            // alert("came in the call back function"+data);
                            alert(" result :  "+data);
                    }   
                        }); */


            // sample jquery post method check on portal dev
             /*jQuery.ajax({
                        url: "http://localhost:8080/odlPortal/odlPortal/loginOdlPortal",
                        type:"POST",
                        contentType: "text/plain",
                        data: "**********************REGISTRATION DATA**********************",
                        success: function(data){
                            // alert("Registered : "+data);
                            // alert("registered:"+data);
                            alert("data is : "+data);
                    }   
                });*/

// $('html, body').animate({ scrollTop:  $(SELECTOR).offset().top - 50 }, 'slow' fullScreenDivForTrending


    // section for wallCoding
    // section for wallCoding
              
    // this part would do the device responsiveness work , it would increase font size and weight of elements which are indicative , 
    // thankfully , the core text is already coming good with varying device sizes . 


    // alert(window.devicePixelRatio); // 2,3,2.625,3.5
    if(window.devicePixelRatio==2||window.devicePixelRatio==3||window.devicePixelRatio==2.625||window.devicePixelRatio==3.5){
      // eventOne.preventDefault();
         $("#testLabelForResponsive").prop("style","font-size:30px;color:black;font-weight:bold;");
         $("#labelForBooksResponsive").prop("style","font-size:30px;color:black;font-weight:bold;");


          $("#testLabelForResponsiveBooks").prop("style","font-size:30px;color:black;font-weight:bold;");
          $("#labelForBooksResponsiveBooks").prop("style","font-size:30px;color:black;font-weight:bold;");



           $("#labelForTopicNumber").prop("style","font-size:25px;font-weight:bold;color:black");
             $("#labelForTopicNumberBooks").prop("style","font-size:25px;font-weight:bold;color:black");
               $("#labelForTopicNumberThinkers").prop("style","font-size:25px;font-weight:bold;color:black");


                $("#labelForBookNameBooks").prop("style","font-size:25px;font-weight:bold;color:white;");
                 $("#labelForTopicNumberBooks1").prop("style","font-size:25px;font-weight:bold;color:black");

                    $("#newTopicInputIdBooks").hide();
                         $("#topicDropDownBooks").hide();
                         $("#newBookIdBooks").hide();
                         $("#labelForTopicNumberBooks").hide();

                         $("#testLabelForResponsiveBooks").hide();
                         $("#labelForBooksResponsiveBooks").hide();
                         $("#dropDownBooksBooks").hide();
                         $("#dropDownCategoryBooks").hide();

                       





            $("#labelForTopicNumberWhileRead").prop("style","font-size:25px;font-weight:bold");

             $("#labelForBookName").prop("style","font-size:25px;font-weight:bold;color:white");


             $("#searchBooks").prop("style","position: absolute; left: .01%;right:5%;background-color: #fafafa;color:black;font-family:cursive; ;border-style: solid;border-color:#fafafa;font-size:35px;font-weight:bold;");


              $("#adPanelBooks1").show();
               $("#paymentButtonOther1").prop("style","border-radius:5px;font-size:30px;font-weight:bold;");   
                $("#bookUnlockId1").prop("style","border-radius:5px;font-size:30px;font-weight:bold;");   
                $("#transactionId1").prop("style","border-radius:5px;font-size:30px;font-weight:bold;");


              /*$("#adPanelBooks1").prop("style","position: absolute; left: .01%;right:5%;background-color: #fafafa;color:black;font-family:cursive; ;border-style: solid;border-color:#fafafa;font-size:35px;font-weight:bold;");*/


             // adPanelBooks



               $("#searchWriters").prop("style","position: absolute; left: .01%;background-color: #fafafa;color:black;font-family:cursive; ;border-style: solid;border-color:#fafafa;font-size:35px;font-weight:bold;");

               $("#labelForBookNameBooks1").prop("style","font-size:35px;font-weight:bold;color:white");


           // bookTitleWhileRead

           //working here 
           $("#bookTitleWhileRead").prop("style","font-size:30px;font-weight:bold");
           $("#topDiv").prop("style","left:27%;right:10%;top:2%;bottom:92%;height:3%;width:90%; position: absolute; background-color: black;z-index:5;border-radius: 25px;");


             $("#innerDivBooksBookLayoutTrendingWrapperTopHolder").prop("style","left:5%;right:5%;top:16%;position: absolute;scrollbar-face-color: #A0C5EA ; background-color: #A0C5EA ;border-style:none;text-align: center; ");


               $("#innerDivBooksBookLayoutTrendingWrapper").prop("style","left:5%;right:5%;top:30%;position: absolute;scrollbar-face-color: #A0C5EA ; background-color: #A0C5EA ;border-style:none;text-align: center;");

           // $("#labelForTopicName").prop("style","font-size:25px;font-weight:bold");
         $("#newCategoryInputId").prop("style","border-radius:5px;font-size:30px;font-weight:bold;");
          $("#closeButton").prop("style","border-radius:5px;font-size:30px;font-weight:bold;");   
          $("#newCategoryInputButtonId").prop("style","font-size:25px;");

         $("#newBookId").prop("style","border-radius:5px;font-size:30px;font-weight:bold;");
         $("#newTopicInputId").prop("style","border-radius:5px;font-size:30px;font-weight:bold;");

          $("#newBookIdBooks").prop("style","border-radius:5px;font-size:30px;font-weight:bold;");
         $("#newTopicInputIdBooks").prop("style","border-radius:5px;font-size:30px;font-weight:bold;");

          $("#newBookIdThinkers").prop("style","border-radius:5px;font-size:30px;font-weight:bold;");
         $("#newTopicInputIdThinkers").prop("style","border-radius:5px;font-size:30px;font-weight:bold;");


         $("#topicDropDown").prop("style","font-size:30px;font-weight: bolder");
         $("#topicDropDownWhileRead").prop("style","font-size:30px;font-weight: bolder");
         $("#topicFetchedWhileRead").prop("style","font-size:30px;font-weight: bolder");

           $("#topicDropDownBooks").prop("style","font-size:30px;font-weight: bolder");
         $("#topicDropDownWhileReadBooks").prop("style","font-size:30px;font-weight: bolder");
         $("#topicFetchedWhileReadBooks").prop("style","font-size:30px;font-weight: bolder");

          $("#topicDropDownThinkers").prop("style","font-size:30px;font-weight: bolder");
         $("#topicDropDownWhileReadThinkers").prop("style","font-size:30px;font-weight: bolder");
         $("#topicFetchedWhileReadThinkers").prop("style","font-size:30px;font-weight: bolder");


         $("#dropDown").prop("style","font-size: 30px;font-weight: bolder;background-color: black;color: #A0C5EA ;");
         $("#dropDownBooks").prop("style","font-size: 30px;font-weight: bolder;background-color: black;color: #A0C5EA ;");

           $("#dropDownCategoryBooks").prop("style","font-size: 30px;font-weight: bolder;background-color: black;color: #A0C5EA ;");
            $("#dropDownBooksBooks").prop("style","font-size: 30px;font-weight: bolder;background-color: black;color: #A0C5EA ;");
         
           $("#dropDownThinkers").prop("style","font-size: 30px;font-weight: bolder;background-color: black;color: #A0C5EA ;");
         $("#dropDownBooksThinkers").prop("style","font-size: 30px;font-weight: bolder;background-color: black;color: #A0C5EA ;");


        

   


                                        $("#divTextArea").prop("style","width:100%;font-size:35px;z-index:5;position: absolute;outline:none;white-space: pre-wrap;font-weight:590;font-color:black ;font-style: helvetica;border:solid;border-width: thin;word-wrap: break-word;background-color: white;");



$("#divTextAreaBooks").prop("style","width:100%;font-size:35px;z-index:5;position: absolute;outline:none;white-space: pre-wrap;font-weight:590;font-color:black ;font-style: helvetica;border: solid;border-width: thin;background-color: white;color:black;");


 $("#divTextAreaThinkers").prop("style","width:90%;left:5%;right:5%;top:5%;bottom:5%;font-size:35px;z-index:5;position: absolute;outline:none;black-space: pre-wrap;text-shadow:none;font-weight:bold;font-style: helvetica;border:solid;border-width: thin;overflow-y:auto;word-wrap: break-word;background-color:black;");



         $("#divTextAreaForRead").prop("style","width:90%;left:5%;right:5%;top:5%;bottom:5%;font-size:50px;z-index:5;position: absolute;outline:none; border: solid;border-width: thin;black-space : pre-wrap ; overflow-y: auto");

           $("#divTextAreaForReadBooks").prop("style","width:90%;left:5%;right:5%;top:5%;bottom:5%;font-size:50px;z-index:5;position: absolute;outline:none; border: solid;border-width: thin;black-space : pre-wrap ; overflow-y: auto");

             $("#divTextAreaForReadThinkers").prop("style","width:90%;left:5%;right:5%;top:5%;bottom:5%;font-size:50px;z-index:5;position: absolute;outline:none; border: solid;border-width: thin;black-space : pre-wrap ; overflow-y: auto");

          // $("#logoutFont").prop("weight","bold");
         $("#welcomeText").prop("size","6px");

       $("#logoutFont").prop("size","5");
         $("#registerFont").prop("size","5");

        
         $("#welcomeText").prop("weight","bold");
         $("#tabOne").prop("size","5px");
         $("#tabOne").prop("weight","bold");
         $("#tabTwo").prop("size","5px");
         $("#tabTwo").prop("weight","bold");
         $("#tabThree").prop("size","5px");
         $("#tabThree").prop("weight","bold");
         $("#tabFour").prop("size","5px");
         $("#tabFour").prop("weight","bold");
          $("#postBook").prop("size","5px");
         $("#postBook").prop("weight","bold");

          $("#trendingFont").prop("size","5px");
         $("#trendingFont").prop("weight","bold");

          $("#newsDataFont").prop("size","5px");
         $("#newsDataFont").prop("weight","bold");

          $("#sportsDataFont").prop("size","5px");
         $("#sportsDataFont").prop("weight","bold");

          $("#literatureDataFont").prop("size","5px");
         $("#literatureDataFont").prop("weight","bold");

          $("#entertainmentDataFont").prop("size","5px");
         $("#entertainmentDataFont").prop("weight","bold");

          $("#technologyDataFont").prop("size","5px");
         $("#technologyDataFont").prop("weight","bold");

          $("#healthDataFont").prop("size","5px");
         $("#healthDataFont").prop("weight","bold");

           $("#defenseDataFont").prop("size","5px");
         $("#defenseDataFont").prop("weight","bold");

           $("#waitSymbolFont").prop("size","5px");
         $("#waitSymbolFont").prop("weight","bold");

         $("#bookDescriptionOnWall").prop("size","5px");
         $("#bookDescriptionOnWall").prop("weight","bold");

         



         // style="left:35%;right:23%;top:1%;bottom:91%; position: absolute; background-color: black;z-index:5;border-radius: 25px;"
         $("#myLibraryPanel").prop("style","top: .01%; left: 2%; right: .01%; bottom: .01%; position: absolute; background-color:#A0C5EA ;border-style:none");
         $("#upperDiv").prop("style","left:4%;right:3%;top:1%;bottom:91%; position: absolute; background-color: #A0C5EA ;z-index:5;border-radius: 25px;");
         $("#bottomDiv").prop("style","left:20%;right:4%;top:90.5%;bottom:1%; position: absolute; background-color: #A0C5EA ;z-index:5;border-radius: 25px;");
           // style="top: .01%; left: 21%; right: .01%; bottom: .01%; position: absolute; background-color:#A0C5EA ;border-style:none">
           // left:33%;right:4%;top:90.5%;bottom:1%; position: absolute; background-color: black;z-index:5;border-radius: 25px;

          /*  $("#myLibraryPanelBooks").prop("style","top: .01%; left: 2%; right: .01%; bottom: .01%; position: absolute; background-color:#A0C5EA ;border-style:none"); */
         $("#upperDivBooks").prop("style","left:4%;right:3%;top:1%;bottom:91%; position: absolute; background-color: #A0C5EA ;z-index:5;border-radius: 25px;");
         $("#upperDivBooks1").prop("style","left:5%;right:23%;top:1%; position: absolute; background-color: #A0C5EA ;z-index:5;border-radius: 25px;");
         
           /* $("#innerDivBooks").prop("style","left:1%;right:1%;top:15%; position: absolute; background-color: black;z-index:5;");
          $("#bottomDivBooks").prop("style","left:20%;right:4%;top:90.5%;bottom:1%; position: absolute; background-color: #A0C5EA ;z-index:5;border-radius: 25px;");*/

           $("#myLibraryPanelThinkers").prop("style","top: .01%; left: 2%; right: .01%; bottom: .01%; position: absolute; background-color:#A0C5EA ;border-style:none");
         $("#upperDivThinkers").prop("style","left:36%;right:3%;top:1%;bottom:91%; position: absolute; background-color: #A0C5EA ;z-index:5;border-radius: 25px;");
          $("#bottomDivThinkers").prop("style","left:20%;right:4%;top:90.5%;bottom:1%; position: absolute; background-color: #A0C5EA ;z-index:5;border-radius: 25px;");
        

         $("#labelForCoverImage").hide();
         $("#imageFile").hide();

         $("#myProfilePanelBooks").hide();

      
          $("#libraryBookWriteZonePanelBooks").prop("style","top: 5%; left: 3%; right: .5%; bottom: 1%; position: absolute; background-color: #A0C5EA ;border-style:none ; border-radius: 25px;");

       
    }



   


              
               


        // start of history api usecase
        var currentUrl = window.location.href;
        if(currentUrl.indexOf("library") > 0 ){

                 //startOfGuest
                 // alert("startOfGuest");

                var currentUrlParsed = currentUrl.split("library"); 
                // alert("currentUrlParsed is: "+currentUrlParsed);
                var userCategoryBookParsed = currentUrlParsed[1].split("/");
                var userName = userCategoryBookParsed[1];
                var categoryName = userCategoryBookParsed[2];
                var bookTrimmedName = userCategoryBookParsed[3];
                /*alert("userName is : "+userName);
                alert("category name is : "+categoryName);
                alert("bookTrimmedName is : "+bookTrimmedName);*/
                // alert("userName is : "+userName);

                // initializing the wait symbol while jquery ajax call
                // $("#waitSymbol").show();
               

                 $("#welcomeText").text("Thinker :  "+userName);  

                 // disabling some of the buttons for the logged out user
                 $("#logoutPlaceHolder").hide(); // disabling the logout button , enabling of login button should come here itself by writing one more  span in html
                 // by keeing that hidden and showing for logged user entrance .
                 // alert("here");
                  $("#newBookButtonId").hide(); // disabling create / update book button for logged out user  , working presently on this .

                  if(window.devicePixelRatio==2){
                      $("#newBookButtonId").hide();
                      $("#newCategoryInputButtonId").hide();
                      $("#newCategoryInputId").hide();
                  }

                  $("#newCategoryInputButtonId").hide();
                  $("#newCategoryInputId").hide();

                  $("#newBookButtonId").hide();
                  $("#labelForCoverImage").hide();
                  $("#imageFile").hide();

                  $("#dropDown").hide();
                  $("#dropDownBooks").hide();
                  $("#topicDropDown").prop("disabled","true");
                  $("#testLabelForResponsive").hide();
                  $("#labelForBooksResponsive").hide();

                  $("#newCategoryInputButtonId").hide();
                  $("#newBookButtonId").hide();
                  $("#libraryControllerLoginPanel").hide();
                  $("#postBook").hide();

                  $("#bookPriceId").hide();
                  $("#transactionId").hide();
                  $("#bookUnlockId").hide();
                  $("#paymentButtonOther").hide();
                  $("#labelForBookPrice").hide();

                  // $("#labelForBookName").hide();

                   $("#newTopicInputIdBooks").hide();
                         $("#topicDropDownBooks").hide();
                         $("#newBookIdBooks").hide();
                         $("#labelForTopicNumberBooks").hide();

                          $("#testLabelForResponsiveBooks").hide();
                         $("#labelForBooksResponsiveBooks").hide();
                         $("#dropDownBooksBooks").hide();
                         $("#dropDownCategoryBooks").hide();
                         // $("#buttonForBooks").hide();

                         


                   var topicNumber = ($("#topicDropDown").val());

                 $("#fullScreenDivForMyHome").scroll(function() {
      
                      if(($(this).scrollTop() + $(this).innerHeight()) >= ($(this)[0].scrollHeight)){

                          // alert("bookScreen scrolled alert");
                          
                           if(topicNumber=="1"){
                             topicNumber = parseInt(topicNumber) + 2;
                          }
                          else{
                           topicNumber = parseInt(topicNumber) + 1;
                         }
                           // alert(topicNumber);

                             doit(userName,categoryName,bookTrimmedName,topicNumber);

                     }
                   });

                  $("div").on("contextmenu",function(){
                    alert("right click disabled everywhere on this platform to ensure privacy of licensed books and respect of original work");
                    return false;
                       }); 

    
                  $("#waitSymbol").show();

                  // alert(bookTrimmedName);

                  // case when guest only gives library/username
                  if(bookTrimmedName==undefined){
                   $("#profilePicThinkers").prop("src","../css/image.jpg");
                   $("#profilePicBooks").prop("src","../css/image.jpg");
                  }
                  // case when guest only gives library/username/category/bookname
                  else{
                    $("#profilePicThinkers").prop("src","../../../css/image.jpg");
                    $("#profilePicBooks").prop("src","../../../css/image.jpg");
                  }

                  // zones hiding 
                  // $("#zones").hide();

                  // to be handled ( this shouldn't be editable )

                  $("textarea").prop("readonly","true");
                  // $("input").prop("disabled","true");

                  $("#newBookId").prop("disabled","true");
                  $("#newBookIdThinkers").prop("disabled","true");
                  $("#newBookIdBooks").prop("disabled","true");

                  $("#newTopicInputId").prop("disabled","true");
                   $("#newTopicInputIdThinkers").prop("disabled","true");
                    $("#newTopicInputIdBooks").prop("disabled","true");
                 
                 var  tablinks = document.getElementsByClassName("tablinks");
                 tablinks[3].className += " active";
                 document.getElementById("defaultOpen").click();
                 $("#divTextArea").text(" Select the categories and the books in those categories to read the creations of the user '"+userName+"'");
                 // alert(bookTrimmedName);
                    var bookNameOriginal = bookTrimmedName;
                    bookTrimmedName =  bookTrimmedName.replace(/-/g, '_');
                    // alert(bookTrimmedName);
                    bookTrimmedName =  bookTrimmedName.replace('+', ' ');
                    // alert(bookTrimmedName);
             

                         jQuery.ajax({
                            url: "http://localhost:8080/portal/portal/login/getBookDetailsByBookId/"+userName+"/"+categoryName+"/"+bookTrimmedName+":2",
                            dataType: 'text',
                            success: function(data){
                              // alert(data);


                               if(data.length==0){
                                    data = "<pre>Thanks ! </pre>&&**2:"
                              }

                              // alert(data);

                              var dataToBeRendered = data.split("&&**");
                              // alert(dataToBeRendered[0]);
                                    var pageContetnsWithPreTage = dataToBeRendered[0].split("pre>");
                                    var pageContentWithoutPre = pageContetnsWithPreTage[1];
                                    var pageContetnsWithPreTageArray = pageContentWithoutPre.split("</");
                                    var pageContentWithoutPreValue = pageContetnsWithPreTageArray[0];
                             // $("#divTextAreaBooks").text(pageContentWithoutPreValue);
                           
                       // alert(bookNameOriginal);


                                                                                  jQuery.ajax({
                        url: "http://localhost:8080/portal/portal/login/getBookDetails/"+userName+"/"+categoryName+"/"+bookTrimmedName,
                        dataType: 'text',
                         async : false,
                        success: function(data){
                            // alert("came in the call back function"+data);
                            // alert(" book details are :  "+data);
                            // resetting the editor after the save action 
                            // alert("data received is : "+data);
                            // alert("categoryname is : "+categoryName);
                            if(categoryName==null){
                              // alert("matched here"); 
                             }
                             else{
                              // alert("here");
                               history.pushState(data, bookNameOriginal , "http://localhost:8080/portal/library/"+userName+"/"+categoryName+"/"+bookNameOriginal);
                                 bookNameOriginal =  bookNameOriginal.replace(/%20/g, ' ');
                                 bookNameOriginal =  bookNameOriginal.replace(/_/g, ' ');
                               document.title = "  "+bookNameOriginal + "  , written by   ''"+userName+"''  in category  ''"+categoryName+"'' ";
                             }
                             var splittedData = data.split("&&**");
                             var receivedTopicFromDatabaseArray = splittedData[1];
                             var pageContent = splittedData[0];
                             // parsing page content to remove pre tags
                                var pageContetnsWithPreTage = pageContent.split("pre>");
                                var pageContentWithoutPre = pageContetnsWithPreTage[1];
                                var pageContetnsWithPreTageArray = pageContentWithoutPre.split("</");
                                var pageContentWithoutPreValue = pageContetnsWithPreTageArray[0];
                             // end of parsing of page contents to remove pre tags
                             var topicNameArray = receivedTopicFromDatabaseArray.split(":");
                             var topicName = topicNameArray[1];
                     $("#newTopicInputId").val(topicName);
                         $("#divTextArea").html(pageContentWithoutPreValue);

                            }

                          });


                         // check
                         // alert(bookTrimmedName);

                         var bookPrice = "";

                            jQuery.ajax({
                             url: "http://localhost:8080/portal/portal/login/getBookPrice/"+bookTrimmedName,
                             dataType: 'text',
                             async : false,
                             success: function(data){
                                   bookPrice = data;
                                   // alert(bookPrice);
                             }   
                             });




                            if(bookPrice.length>0){

                              // alert("the book has some price");

                            // var bookPrice = "11";



                           






                              pageContentWithoutPreValue = pageContentWithoutPreValue.substring(0,300);

                              // var bookPrice = "40";


                              // make a jquery call to knwo the price  of the book referred over here 

                           

                              // alert("there");
                           var addedString = " Please purchase this book  '"+bookTrimmedName+"' to continue reading by paying '"+bookPrice+"' rupees   . Here are three simple steps to follow  (1) Please login by clicking on the 'write and earn ' button on top right (2) After logging in , please come on the books  section and search for this book '"+bookTrimmedName+"'. (3) Use the blue 'buy' button to do the purchase . Please note that online purchase feature is currently only for Computer/PC/laptops. " ;




                             // $("#divTextAreaBooks").text(pageContentWithoutPreValue);
                               $("#divTextArea").append("<br>")
                                  $("#divTextArea").append("<br>")
                                    $("#divTextArea").append("<br>")
                                      $("#divTextArea").append("CHAPTER : "+"2"+"  ! ")
                                       $("#divTextArea").append("<br>")
                                  $("#divTextArea").append("<br>")
                                    $("#divTextArea").append("<br>")
                               $("#divTextArea").append(pageContentWithoutPreValue+"                 PREVIEW ENDS ! ......................SORRY , this is a licensed book . Please read below instructions to BUY this book to continue reading .."+"<br>"+"<br>"+"<br>"+"<br>"+addedString);

                                // $("#topicDropDown").val("1");
                             }






                         // check
                         else{
                           $("#divTextArea").append("<br>")
                                  $("#divTextArea").append("<br>")
                                    $("#divTextArea").append("<br>")
                                      $("#divTextArea").append("CHAPTER : "+"2"+"  ! ")
                                       $("#divTextArea").append("<br>")
                                  $("#divTextArea").append("<br>")
                                    $("#divTextArea").append("<br>")                                                        
                         
                          $("#divTextArea").append(pageContentWithoutPreValue);    
                           $("#divTextArea").append("<br>")
                                    $("#divTextArea").append("<br>")                                                     
                         $("#topicDropDown").val("1");
                       }
                         // $("#newBookId").val(bookTrimmedName);


                        
                    // bookTrimmedName =  bookTrimmedName.replace(/+/g, ' ');
                      bookTrimmedName =  bookTrimmedName.replace(/%20/g, ' ');
                        bookTrimmedName =  bookTrimmedName.replace(/_/g, ' ');

                         $("#labelForBookName").text("Topic : "+bookTrimmedName);


                         $("#newTopicInputId").hide();
                         $("#topicDropDown").hide();
                         $("#newBookId").hide();
                         $("#labelForTopicNumber").hide();

                      if(window.devicePixelRatio==2){

                          $("#labelForBookName").prop("style","font-size:35px;font-weight:bold;color:white");

                         }


                      

                    }   
                        });

                    // displaying the list of categories for the logged out user
                    var listOfCategories = "";
                    var ddl = "#dropDown";
                    var ddlBooks = "#dropDownBooks";
                                    jQuery.ajax({
                                                    url: "http://localhost:8080/portal/portal/login/getCategoriesListForUser/"+userName,
                                                    dataType: 'text',
                                                    success: function(data){
                                                        // alert("came in the call back function"+data);
                                                        // alert(" result :  "+data);
                                                        listOfCategories = data;
                                                           // alert("1");
                                                           // alert("data is : "+data);
                                                        // alert("list of categories is : "+listOfCategories);
                                                        var parsedListOfCategories = listOfCategories.split(",");
                                                        for(var i=0;i<parsedListOfCategories.length;i++){
                                                                  // alert(":"+parsedListOfCategories[i]+":");
                                                                 $(ddl).append('<option value="' + parsedListOfCategories[i] + '">' + parsedListOfCategories[i] + "</option>'");
                                                                 // alert($(ddl).val());
                                                        }
                                                }   
                                                    }); 

                 

                    // displyaing of the profile pic for the logged out user 
                    $("#waitSymbol").show();
                    jQuery.ajax({
                            url: "http://localhost:8080/portal/portal/login/getUserData/"+userName,
                            dataType: 'text',
                            success: function(data){
                             getElement("profilePic").src = "";
                             getElement("profilePic").src  = data;
                             // an ajax db call to be made to fetch the list of books as per the user id and the category clicked 
                             testString = "Book1IntitialBook";
                             $("#waitSymbol").hide();
                    }   
                    });


                   

                     

                    // get element by id method
                      function getElement(id) { return document.getElementById(id); } 

                     

                  


                     // start of method for closing of read view for logged out user

                    $("#closeButton").click(function(){
                            // alert(username[1]+""+categoryname);
                            $("#bookLayout").hide();

                            

                    });
                    

  
                    
                   
                  

               





              // search books functionality
            $("#searchBooks").keypress(function(e) {
                 // $("#newCategoryInputId").val("");
                   e.stopImmediatePropagation();
                    
                   if(e.which == 13) {
                   var bookNameEntered = $("#searchBooks").val();
                     $("#waitSymbolBooks").show();

                         $("#divTextAreaBooks").empty();
                            $("#divTextAreaBooks").text("");
                               $("#divTextAreaBooks").html("");


                

                    jQuery.ajax({
                        url: "http://localhost:8080/portal/portal/login/getUserNameAndCategoryFromDistinctBookName/"+bookNameEntered,
                        dataType: 'text',
                        success: function(data){
                          
                             // alert(" userList :  "+data);
                           var bookNameEntered = $("#searchBooks").val();
                           var userNameAndCategorySplittedArray = data.split(",");
                           var userNameFetched = userNameAndCategorySplittedArray[0];
                           var categoryFetched = userNameAndCategorySplittedArray[1];


                   // $("#divTextAreaBooks").text("");
                   $("#newTopicInputIdBooks").val("");
                   $("#newBookIdBooks").val("");
                   $("#topicDropDownBooks").val("1");

                 $("#welcomeTextBooks").text("Thinker :  "+userNameFetched);  


                 // disabling some of the buttons for the logged out user
                 //
                  // disabling the logout button , enabling of login button should come here itself by writing one more  span in html
                 // by keeing that hidden and showing for logged user entrance .
                 // alert("here");
                  $("#newBookButtonIdBooks").hide(); // disabling create / update book button for logged out user  , working presently on this .
                  $("#newCategoryInputButtonIdBooks").hide();
                  $("#newCategoryInputIdBooks").hide();
                  $("textarea").prop("readonly","true");
                  $("#newBookIdBooks").prop("readonly","true");

                   $("#dropDownCategoryBooks").hide();
                  $("#dropDownBooksBooks").hide();
                  $("#topicDropDownBooks").prop("disabled","true");
                  $("#testLabelForResponsiveBooks").hide();
                  $("#labelForBooksResponsiveBooks").hide();


                         $("#divTextAreaBooks").empty();
                            $("#divTextAreaBooks").text("");
                               $("#divTextAreaBooks").html("");

                  //  //$("#waitSymbolBooks").hide();

                  // zones hiding 
                  // $("#zones").hide();


                  
                
                  // hide register/login place holder
                   $("#registerPlaceHolderBooks").hide();
                    // $("#logoutPlaceHolder").hide();
                    var firstVariableForDropdownBooks = "Please select";
                     $("#dropDownCategoryBooks").empty();
                      $("#dropDownCategoryBooks").append('<option value="' + firstVariableForDropdownBooks + '">' + firstVariableForDropdownBooks + "</option>'");

              
                
                     //########
              /*  jQuery.ajax({
                        url: "http://localhost:8080/portal/portal/login/getBookDetails/"+userNameFetched+"/"+categoryFetched+"/"+bookNameEntered,
                        dataType: 'text',
                        success: function(data){
                           


                         $("#divTextAreaBooks").empty();
                            $("#divTextAreaBooks").text("");
                               $("#divTextAreaBooks").html("");


                            if(categoryFetched==null){
                              // alert("matched here"); 
                             }
                             else{
                              
                             }
                             var splittedData = data.split("&&**");
                             var receivedTopicFromDatabaseArray = splittedData[1];
                             var pageContent = splittedData[0];
                             // parsing page content to remove pre tags
                                var pageContetnsWithPreTage = pageContent.split("pre>");
                                var pageContentWithoutPre = pageContetnsWithPreTage[1];
                                var pageContetnsWithPreTageArray = pageContentWithoutPre.split("</");
                                var pageContentWithoutPreValue = pageContetnsWithPreTageArray[0];
                             // end of parsing of page contents to remove pre tags
                             var topicNameArray = receivedTopicFromDatabaseArray.split(":");
                             var topicName = topicNameArray[1];
                     $("#newTopicInputIdBooks").val(topicName);
                         
                         $("#divTextAreaBooks").html(pageContentWithoutPreValue);

                            jQuery.ajax({
                            url: "http://localhost:8080/portal/portal/login/getBookDetailsByBookId/"+userNameFetched+"/"+categoryFetched+"/"+bookNameEntered+":2",
                            dataType: 'text',
                            success: function(data){
                              var dataToBeRendered = data.split("&&**");
                             
                                    var pageContetnsWithPreTage = dataToBeRendered[0].split("pre>");
                                    var pageContentWithoutPre = pageContetnsWithPreTage[1];
                                    var pageContetnsWithPreTageArray = pageContentWithoutPre.split("</");
                                    var pageContentWithoutPreValue = pageContetnsWithPreTageArray[0];
                            


                                var bookPrice = "";

                            jQuery.ajax({
                             url: "http://localhost:8080/portal/portal/login/getBookPrice/"+bookNameEntered,
                             dataType: 'text',
                             async : false,
                             success: function(data){
                                   bookPrice = data;
                                   
                             }   
                             });



                            // alert(bookPrice);
                            if(bookPrice.length>0){

                            


                              pageContentWithoutPreValue = pageContentWithoutPreValue.substring(0,300);

                              

                           

                           alert("here");
                           var addedString = " Please purchase this book  '"+bookNameEntered+"' to continue reading by paying '"+bookPrice+"' rupees   . Here are three simple steps to follow  (1) Please login by clicking on the 'write and earn ' button on top right (2) After logging in , please come on the books  section and search for this book '"+bookNameEntered+"'. (3) Use the blue 'buy' button to do the purchase . Please note that online purchase feature is currently only for Computer/PC/laptops. " ;




                             // $("#divTextAreaBooks").text(pageContentWithoutPreValue);
                               $("#divTextAreaBooks").append("<br>")
                                  $("#divTextAreaBooks").append("<br>")
                                    $("#divTextAreaBooks").append("<br>")
                                      $("#divTextAreaBooks").append("CHAPTER : "+"2"+"  ! ")
                                       $("#divTextAreaBooks").append("<br>")
                                  $("#divTextAreaBooks").append("<br>")
                                    $("#divTextAreaBooks").append("<br>")
                               $("#divTextAreaBooks").append(pageContentWithoutPreValue+"......"+"<br>"+"<br>"+"<br>"+"<br>"+addedString);


                             }


                             // check
                             else{
                               $("#divTextAreaBooks").append("<br>")
                                  $("#divTextAreaBooks").append("<br>")
                                    $("#divTextAreaBooks").append("<br>")
                                      $("#divTextAreaBooks").append("CHAPTER : "+"2"+"  ! ")
                                       $("#divTextAreaBooks").append("<br>")
                                  $("#divTextAreaBooks").append("<br>")
                                    $("#divTextAreaBooks").append("<br>")
                               $("#divTextAreaBooks").append(pageContentWithoutPreValue);
                             }

                               //s

                                


                               //e






                            }

                          });
                           history.pushState(data, "title" , "http://localhost:8080/portal/library/"+userNameFetched+"/"+categoryFetched+"/"+bookNameEntered);


                         $("#topicDropDownBooks").val("1");
                         $("#newBookIdBooks").val(bookNameEntered);



                          bookNameEntered =  bookNameEntered.replace(/%20/g, ' ');
                        bookNameEntered =  bookNameEntered.replace(/_/g, ' ');

                         $("#labelForBookNameBooks").text("Topic : "+bookNameEntered);


                         $("#newTopicInputIdBooks").hide();
                         $("#topicDropDownBooks").hide();
                         $("#newBookIdBooks").hide();
                         $("#labelForTopicNumberBooks").hide();

                      if(window.devicePixelRatio==2){

                          $("#labelForBookNameBooks").prop("style","font-size:35px;font-weight:bold;color:white");

                         }



                    }   
                        });
*/
//###########


                         jQuery.ajax({
                            url: "http://localhost:8080/portal/portal/login/getBookDetailsByBookId/"+userNameFetched+"/"+categoryFetched+"/"+bookNameEntered+":2",
                            dataType: 'text',
                            success: function(data){
                              // alert(data);


                               if(data.length==0){
                                    data = "<pre>Thanks ! </pre>&&**2:"
                              }

                              // alert(data);

                              var dataToBeRendered = data.split("&&**");
                              // alert(dataToBeRendered[0]);
                                    var pageContetnsWithPreTage = dataToBeRendered[0].split("pre>");
                                    var pageContentWithoutPre = pageContetnsWithPreTage[1];
                                    var pageContetnsWithPreTageArray = pageContentWithoutPre.split("</");
                                    var pageContentWithoutPreValue = pageContetnsWithPreTageArray[0];
                             // $("#divTextAreaBooks").text(pageContentWithoutPreValue);
                           
                       // alert(bookNameOriginal);


                                                                                  jQuery.ajax({
                        url: "http://localhost:8080/portal/portal/login/getBookDetails/"+userNameFetched+"/"+categoryFetched+"/"+bookNameEntered,
                        dataType: 'text',
                         async : false,
                        success: function(data){
                            // alert("came in the call back function"+data);
                            // alert(" book details are :  "+data);
                            // resetting the editor after the save action 
                            // alert("data received is : "+data);
                            // alert("categoryname is : "+categoryName);
                           
                             var splittedData = data.split("&&**");
                             var receivedTopicFromDatabaseArray = splittedData[1];
                             var pageContent = splittedData[0];
                             // parsing page content to remove pre tags
                                var pageContetnsWithPreTage = pageContent.split("pre>");
                                var pageContentWithoutPre = pageContetnsWithPreTage[1];
                                var pageContetnsWithPreTageArray = pageContentWithoutPre.split("</");
                                var pageContentWithoutPreValue = pageContetnsWithPreTageArray[0];
                             // end of parsing of page contents to remove pre tags
                             var topicNameArray = receivedTopicFromDatabaseArray.split(":");
                             var topicName = topicNameArray[1];
                     $("#newTopicInputIdBooks").val(topicName);
                         $("#divTextAreaBooks").html(pageContentWithoutPreValue);

                            }

                          });


                         // check
                         // alert(bookTrimmedName);

                         var bookPrice = "";

                            jQuery.ajax({
                             url: "http://localhost:8080/portal/portal/login/getBookPrice/"+bookNameEntered,
                             dataType: 'text',
                             async : false,
                             success: function(data){
                                   bookPrice = data;
                                   // alert(bookPrice);
                             }   
                             });




                            if(bookPrice.length>0){

                              // alert("the book has some price");

                            // var bookPrice = "11";



                           






                              pageContentWithoutPreValue = pageContentWithoutPreValue.substring(0,300);

                              // var bookPrice = "40";


                              // make a jquery call to knwo the price  of the book referred over here 

                           

                              // alert("there");
                           var addedString = " Please purchase this book  '"+bookNameEntered+"' to continue reading by paying '"+bookPrice+"' rupees   . Here are three simple steps to follow  (1) Please login by clicking on the 'write and earn ' button on top right (2) After logging in , please come on the books  section and search for this book '"+bookNameEntered+"'. (3) Use the blue 'buy' button to do the purchase . Please note that online purchase feature is currently only for Computer/PC/laptops. " ;




                             // $("#divTextAreaBooks").text(pageContentWithoutPreValue);
                               $("#divTextAreaBooks").append("<br>")
                                  $("#divTextAreaBooks").append("<br>")
                                    $("#divTextAreaBooks").append("<br>")
                                      $("#divTextAreaBooks").append("CHAPTER : "+"2"+"  ! ")
                                       $("#divTextAreaBooks").append("<br>")
                                  $("#divTextAreaBooks").append("<br>")
                                    $("#divTextAreaBooks").append("<br>")
                               $("#divTextAreaBooks").append(pageContentWithoutPreValue+"                 PREVIEW ENDS ! ......................SORRY , this is a licensed book . Please read below instructions to BUY this book to continue reading .."+"<br>"+"<br>"+"<br>"+"<br>"+addedString);

                                // $("#topicDropDownBooks").val("1");
                             }






                         // check
                         else{
                           $("#divTextAreaBooks").append("<br>")
                                  $("#divTextAreaBooks").append("<br>")
                                    $("#divTextAreaBooks").append("<br>")
                                      $("#divTextAreaBooks").append("CHAPTER : "+"2"+"  ! ")
                                       $("#divTextAreaBooks").append("<br>")
                                  $("#divTextAreaBooks").append("<br>")
                                    $("#divTextAreaBooks").append("<br>")                                                        
                         
                          $("#divTextAreaBooks").append(pageContentWithoutPreValue);    
                           $("#divTextAreaBooks").append("<br>")
                                    $("#divTextAreaBooks").append("<br>")                                                     
                         $("#topicDropDownBooks").val("1");
                       }
                         // $("#newBookId").val(bookTrimmedName);


                        
                    // bookTrimmedName =  bookTrimmedName.replace(/+/g, ' ');
                      bookNameEntered =  bookNameEntered.replace(/%20/g, ' ');
                        bookNameEntered =  bookNameEntered.replace(/_/g, ' ');

                         $("#labelForBookNameBooks").text("Topic : "+bookNameEntered);


                        /* $("#newTopicInputId").hide();
                         $("#topicDropDown").hide();
                         $("#newBookId").hide();
                         $("#labelForTopicNumber").hide();*/

                      if(window.devicePixelRatio==2){

                          $("#labelForBookNameBooks").prop("style","font-size:35px;font-weight:bold;color:white");

                         }


                      

                    }   
                        });


                    // displaying the list of categories for the logged out user
                    var listOfCategories = "";
                    var ddl = "#dropDownCategoryBooks";
                    var ddlBooks = "#dropDownBooksBooks";
                                    jQuery.ajax({
                                                    url: "http://localhost:8080/portal/portal/login/getCategoriesListForUser/"+userNameFetched,
                                                    dataType: 'text',
                                                    success: function(data){
                                                        // alert("came in the call back function"+data);
                                                        // alert(" result :  "+data);
                                                        listOfCategories = data;
                                                           // alert("1");
                                                           // alert("data is : "+data);
                                                        // alert("list of categories is : "+listOfCategories);
                                                        var parsedListOfCategories = listOfCategories.split(",");
                                                        for(var i=0;i<parsedListOfCategories.length;i++){
                                                                  // alert(":"+parsedListOfCategories[i]+":");
                                                                 $(ddl).append('<option value="' + parsedListOfCategories[i] + '">' + parsedListOfCategories[i] + "</option>'");
                                                                 // alert($(ddl).val());
                                                        }
                                                }   
                                                    }); 

                 

                    // displyaing of the profile pic for the logged out user 
                    //  //$("#waitSymbolBooks").show();
                    jQuery.ajax({
                            url: "http://localhost:8080/portal/portal/login/getUserData/"+userNameFetched,
                            dataType: 'text',
                            success: function(data){
                             getElement("profilePicBooks").src = "";
                             // console.log(data);
                             getElement("profilePicBooks").src  = data;
                             // an ajax db call to be made to fetch the list of books as per the user id and the category clicked 
                             testString = "Book1IntitialBook";
                             //  //$("#waitSymbolBooks").hide();
                    }   

                    });

                    // get element by id method
                      function getElement(id) { return document.getElementById(id); } 

                 



                     // start of method for closing of read view for logged out user

                    $("#closeButtonBooks").click(function(){
                            $("#bookLayoutBooks").hide();
                    });



                       var topicNumber = ($("#topicDropDownBooks").val());
                    $("#fullScreenDivForBooks").scroll(function() {
      
                      if(($(this).scrollTop() + $(this).innerHeight()) >= ($(this)[0].scrollHeight)){

                          // alert("bookScreen scrolled alert");

                          if(topicNumber=="1"){
                             topicNumber = parseInt(topicNumber) + 2;
                          }
                          else{
                           topicNumber = parseInt(topicNumber) + 1;
                         }
                           // alert("here"+topicNumber);
                           jQuery.ajax({
                            url: "http://localhost:8080/portal/portal/login/getBookDetailsByBookId/"+userName+"/"+categoryName+"/"+bookTrimmedName+":"+topicNumber,
                            dataType: 'text',
                            async : false,
                            success: function(data){


                              
                                if(data.length==0){
                                // alert("here visitor");
                                    // doitOne("#divTextAreaBooks");

                                    doitOne3("#divTextAreaBooks");
                                  }


                                 var dataToBeRendered = data.split("&&**");
                              // alert(dataToBeRendered[0]);
                                    var pageContetnsWithPreTage = dataToBeRendered[0].split("pre>");
                                    var pageContentWithoutPre = pageContetnsWithPreTage[1];
                                    var pageContetnsWithPreTageArray = pageContentWithoutPre.split("</");
                                    var pageContentWithoutPreValue = pageContetnsWithPreTageArray[0];



                             // $("#divTextAreaBooks").text(pageContentWithoutPreValue);
                           
                                $("#divTextAreaBooks").append("<br>")
                                  $("#divTextAreaBooks").append("<br>")
                                    $("#divTextAreaBooks").append("<br>")
                                      $("#divTextAreaBooks").append("CHAPTER : "+topicNumber+"  ! ")
                                       $("#divTextAreaBooks").append("<br>")
                                  $("#divTextAreaBooks").append("<br>")
                                    $("#divTextAreaBooks").append("<br>")
                               $("#divTextAreaBooks").append(pageContentWithoutPreValue);

                            }

                          });



                     }
                   });


                    }   
                        }); 



                   // $("#waitSymbol").hide();

                }
            
            });
            // end of search books funcionality



            $("#loading").hide();

        } 
        // endOfGuest use case , end of script for logged out user


         


        // alert("startOfThinker");
        var parameters = location.search.substring(1).split("&");
        var username = parameters[0].split("=");
        var password = parameters[1].split("=");
        var testString = "initial string";


        // hiding the register button for logged in user
        $("#registerPlaceHolder").hide();

        // search bar hidinng
        $("#searchThinkers").hide();

        // search books bar hiding
        $("#searchBooks").hide();
        
        // hide register/login place holder
        $("#registerPlaceHolder").hide();

        // $("#trending").focus();

          $("#newTopicInputIdBooks").hide();
                         $("#topicDropDownBooks").hide();
                         $("#newBookIdBooks").hide();
                         $("#labelForTopicNumberBooks").hide();

                          $("#testLabelForResponsiveBooks").hide();
                         $("#labelForBooksResponsiveBooks").hide();
                         $("#dropDownBooksBooks").hide();
                         $("#dropDownCategoryBooks").hide();

        // alert("hello");
                        $("div").on("contextmenu",function(){
                           alert("right click disabled everywhere on this platform to ensure privacy of licensed books and respect of original work");
                           return false;
                       }); 
     

       $("#paymentButtonOther").click(function (event) {   

        // alert("username : "+username[1]);
        if(username[1]=='guest'){
          alert('please login to buy ');
         window.location.replace("http://localhost:8080/portal/UserLogin.html");
        }

        else{

          var bookPriceLocal = "1";
            var bookName = $("#searchBooks").val();

            jQuery.ajax({
                             url: "http://localhost:8080/portal/portal/login/getBookPrice/"+bookName,
                             dataType: 'text',
                             async : false,
                             success: function(data){
                                   bookPriceLocal = data;
                                   // alert(bookPrice);
                             }   
                             });



          alert(" BUYING NOTE * : Please copy paste the system generated PAYMENT ID to unlock the book after getting successful trasaction screen . Book Price is :  "+bookPriceLocal+" rupees .");
          window.open("https://www.instamojo.com/@thoughtsbook");
        }
      });


       $("#bookUnlockId").click(function(event){

        // start from  here trying to post with header

        // alert("username : "+username[1]);
        var  readerName = username[1];
        var bookName = $("#searchBooks").val();
        /*alert(readerName);
        alert(bookName);*/

             var transactionIdVariable = $("#transactionId").val();
             // alert(":"+trasactionId+":");
             transactionIdVariable = transactionIdVariable.trim();
             // alert("http://localhost:8080/portal/portal/login/unlockBook/"+transactionIdVariable);
            jQuery.ajax({
                                url: "http://localhost:8080/portal/portal/login/unlockBook/"+transactionIdVariable+"/"+readerName+"/"+bookName,
                                 dataType: 'text',
                                success: function(data){
                                // here , as part of the data received in callback should be the list of books as per the user id and cateogory
                                // which also includes the book which just recently got saved . 

                                if(data=="paid"){
                                  alert("thanks for succesful payment verification . Your book has been unlocked . Please hit enter to search again the same book to read whole book");
                                }
                                else{
                                  alert("Some issues in paymnet , looks like full payment hasn't been done . Please mail at thoughtsbookteam@gmail.com with your paymnet id .");
                                }
                              }


       });

          });


        $("#paymentButtonOther1").click(function (event) {   

        // alert("username : "+username[1]);
        if(username[1]=='guest'){
          alert('please login to buy ');
         window.location.replace("http://localhost:8080/portal/UserLogin.html");
        }

        else{

          var bookPriceLocal = "1";
            var bookName = $("#searchBooks").val();

            jQuery.ajax({
                             url: "http://localhost:8080/portal/portal/login/getBookPrice/"+bookName,
                             dataType: 'text',
                             async : false,
                             success: function(data){
                                   bookPriceLocal = data;
                                   // alert(bookPrice);
                             }   
                             });



          alert(" BUYING NOTE * : Please copy paste the system generated PAYMENT ID to unlock the book after getting successful trasaction screen . Book Price is :  "+bookPriceLocal+" rupees .");
          window.open("https://www.instamojo.com/@thoughtsbook");
        }
      });


       $("#bookUnlockId1").click(function(event){

        // start from  here trying to post with header

        // alert("username : "+username[1]);
        var  readerName = username[1];
        var bookName = $("#searchBooks").val();
        /*alert(readerName);
        alert(bookName);*/

             var transactionIdVariable = $("#transactionId1").val();
             // alert(":"+trasactionId+":");
             transactionIdVariable = transactionIdVariable.trim();
             // alert("http://localhost:8080/portal/portal/login/unlockBook/"+transactionIdVariable);
            jQuery.ajax({
                                url: "http://localhost:8080/portal/portal/login/unlockBook/"+transactionIdVariable+"/"+readerName+"/"+bookName,
                                 dataType: 'text',
                                success: function(data){
                                // here , as part of the data received in callback should be the list of books as per the user id and cateogory
                                // which also includes the book which just recently got saved . 

                                if(data=="paid"){
                                  alert("thanks for succesful payment verification . Your book has been unlocked . Please hit enter to search again the same book to read whole book");
                                }
                                else{
                                  alert("Some issues in paymnet , looks like full payment hasn't been done . Please mail at thoughtsbookteam@gmail.com with your paymnet id .");
                                }
                              }


       });

          });




       $("#agreeId").click(function (event) {   
          var purposeCode =  $("#purposeOfPaymentCodeId").text();
          alert(purposeCode);
          jQuery.ajax({
                        url: "http://localhost:8080/portal/portal/register/moveFromInboxToDatabase/"+purposeCode,
                        dataType: 'text',
                        success: function(data){
                            // alert("came in the call back function"+data);
                            alert(data);
                    }   
                        });
      });




        function getElement(id) { return document.getElementById(id); } // Get el by ID helper function


         


        // alert("username is : "+username[1]);
        // alert("username is : "+username[1]);


        // Following lines of code in succession without line gap is to fetch the list of categories and list of books from database
        // and then render it in the dropdown of categories and in the dropdown of books.
        var listOfCategories = "";
        var ddl = "#dropDown";
        var ddlBooks = "#dropDownBooks";
                        jQuery.ajax({
                                        url: "http://localhost:8080/portal/portal/login/getCategoriesListForUser/"+username[1],
                                        dataType: 'text',
                                        success: function(data){
                                            // alert("came in the call back function"+data);
                                            // alert(" result :  "+data);
                                            listOfCategories = data;
                                               // alert("1");
                                               // alert("data is : "+data);
                                            // alert("list of categories is : "+listOfCategories);
                                            var parsedListOfCategories = listOfCategories.split(",");
                                            for(var i=0;i<parsedListOfCategories.length;i++){
                                                     $(ddl).append('<option value="' + parsedListOfCategories[i] + '">' + parsedListOfCategories[i] + "</option>'");
                                            }
                                    }   
                                        }); 


                        
        var value = "aparnesh";
        var name = "aparnesh";
        
   // $(ddl).append('<option value="' + value + '">' + name + "</option>'");
   $(ddlBooks).append('<option value="' + value + '">' + name + "</option>'");
   // end of relevant codes for appending categories list and book list to drop downs




        /*alert("username is : "+username[1]);*/
        // alert("password is . : "+password[1]);    
       var credentials =  username[1]+":"+password[1];
       // alert("credentials are : "+credentials);

         jQuery.ajax({
                url: "http://localhost:8080/portal/portal/login/"+credentials,
                dataType: 'text',
                        success: function(data){    
                // alert("came in the call back function"+data);
                if(data=="authenticated"){
                         // alert("authenticated");
                         // alert("user is : "+username[1])
                          // alert("password is . : "+password[1]); 
                           $("#welcomeText").text(" ");  
                         $("#welcomeText").text("("+username[1]+")");  
                         // here in future /library/username history api url should be placed
                         // alert("one");
                         if(!(username[1]=="guest")){
                          // alert("two");
                          history.pushState(data, "title", "http://localhost:8080/portal/library/"+username[1]);
                        }
                        else{
                          history.pushState(data,  "title", "http://localhost:8080/portal");
                          // alert("coming here");
                           $("#newBookButtonId").hide(); 
                           $("#newCategoryInputButtonId").hide();
                           $("#newCategoryInputId").hide();
                           $("#logoutPlaceHolder").hide();
                           $("#registerPlaceHolder").show();

                           $("#labelForCoverImage").hide();
                           $("#newBookButtonId").hide();
                           $("#imageFile").hide();

                           userNameForGuestCase = "guest";
                           // $("#newBookButtonId").hide();

                           
                        }

                        
                }
                else{
                      // function getElement(id) { return document.getElementById(id); } 
                      // getElement("profilePic").src = "asdfsfdasfasdfasdfsadf";
                      // document.getElementById("profilePic") = " ";
                      // $("#profilePic").empty();
                      alert("Invalid credentials , Kingly re-login !");
                      javascript:window.history.back(1);
                }
        }   
        });


         $("#waitSymbol").show();
         jQuery.ajax({
                url: "http://localhost:8080/portal/portal/login/getUserData/"+username[1],
                dataType: 'text',
                success: function(data){
                 getElement("profilePic").src = "";
                 // console.log(data);
                 getElement("profilePic").src  = data;
                 // an ajax db call to be made to fetch the list of books as per the user id and the category clicked 
                 testString = "Book1IntitialBook";
                 // alert("hello");
                 $("#waitSymbol").hide();
        }   
        });


      
         // create category on button function ends

function displayBook(nestedDivElementLeftForCategory,passedString){
        // alert("these books are being displayed !"+passedString);
                        nestedDivElementLeftForCategory.empty();

                        // iterate the logic to have multiple buttons with the name of the passed string . 
                        for(var i=0;i<3;i++){
                        var buttonElement = $("<button></button>");
                        // alert("passed string is : "+passedString);
                        buttonElement.text(passedString+i);
                        buttonElement.attr("style","color:#A0C5EA ;font-family: cursive");
                        buttonElement.click(function(e){
                                $("#bookLayout").show(); 
                        });
                        nestedDivElementLeftForCategory.append(buttonElement);
                        }



                        // first alert string elements from a string array
                        // for(var i=0;i<3;i++){
                                // alert(i);
                        // }

        // return string1+"!!!!";
}

$("#closeButton").click(function(){
        $("#bookLayout").hide();
});



$("#newCategoryInputButtonId").click(function(){
        var categoryValue = $("#newCategoryInputId").val();
        jQuery.ajax({
                                        url: "http://localhost:8080/portal/portal/register/attachUserNameWithCategory/"+username[1]+"/"+categoryValue,
                                        dataType: 'text',
                                        success: function(data){
                                        // alert("came in the call back function"+data);
                                        alert(data);
                                       


                                 var listOfCategories = "";
                                                        var ddl = "#dropDown";
                                                        var ddlBooks = "#dropDownBooks";
                                                        var firstVariableForDropdown = "Please select";
                                                        var firstVariableForBookDropdown = "Please select book";

                                                                                              // code for general reset
                                                                                             $("#divTextArea").text("");
                                                                                             $("#newTopicInputId").val("");
                                                                                             $("#newBookId").val("");
                                                                                             $("#topicDropDown").val("1");
                                                                                             $(ddlBooks).empty();
                                                                                             $(ddlBooks).append('<option value="' + firstVariableForBookDropdown + '">' + firstVariableForBookDropdown + "</option>'");





                                                                        jQuery.ajax({
                                                                                        url: "http://localhost:8080/portal/portal/login/getCategoriesListForUser/"+username[1],
                                                                                        dataType: 'text',
                                                                                        success: function(data){
                                                                                            // alert("came in the call back function"+data);
                                                                                            // alert(" result :  "+data);
                                                                                            listOfCategories = data;
                                                                                            // alert("list of categories is : "+listOfCategories);
                                                                                            // alert("list of categories is : "+listOfCategories);
                                                                                            var parsedListOfCategories = listOfCategories.split(",");
                                                                                            $(ddl).empty();
                                                                                            $(ddl).append('<option value="' + firstVariableForDropdown + '">' + firstVariableForDropdown + "</option>'");
                                                                                            for(var i=0;i<parsedListOfCategories.length;i++){
                                                                                                     $(ddl).append('<option value="' + parsedListOfCategories[i] + '">' + parsedListOfCategories[i] + "</option>'");
                                                                                            }

                                                                                            
                                                                                    }   
                                                                                        });   


                                }   
                                });


                                              

});



// start of newbook create button click code
$("#newBookButtonId").click(function(){

        // alert($("#dropDown").val());
        if($("#dropDown").val().trim() =="Please select".trim()){
          alert("Please select category from the drop down");
        }

        else{

        // alert("button clicked");
        // good source
        var newBookName = $("#newBookId").val();
        // alert("new book name is : "+newBookName);
        var user = username[1];
        // alert("username is : "+user);
        var categoryName = $("#dropDown").val();
        // alert("category name is : "+categoryName);
        // $("#divTextArea").css('black-space', 'pre-wrap');
       
        // alert("topic contents are : "+topicContents);
        var topicNumber = $("#topicDropDown").val();
        // alert("topic number : "+topicNumber);
         var topicName = $("#newTopicInputId").val();
        // alert("topic name is : "+topicName);

        var bookPriceInRupee = $("#bookPriceId").val();
        alert(bookPriceInRupee);
        var consolidateTopicNumberAndName = topicNumber + ":" + topicName;
        // alert("consolidateTopicNumberAndName"+consolidateTopicNumberAndName);
      
        // alert("data for post is : "+dataForPost);
         var dataForPostForTopicOne = bookPriceInRupee+"gauravnishu"+user+"nishugaurav"+categoryName+"nishugaurav"+newBookName+"nishugaurav"+consolidateTopicNumberAndName+"nishugaurav";

        var topicContents = "";
        if(topicNumber=="1"){

         readFile1(dataForPostForTopicOne,user,categoryName);
            // alert("image uploaded"); 

        }
        else{
        topicContents = "<pre>"+$("#divTextArea")[0].innerText+"</pre>"; // previously innerText was used here for text display
          var dataForPost = "zero"+"gauravnishu"+user+"nishugaurav"+categoryName+"nishugaurav"+newBookName+"nishugaurav"+consolidateTopicNumberAndName+"nishugaurav"+topicContents;
        // topicContents = "<pre>" + topicContents + "</pre>";
        // alert(" formatted topic contents are : "+topicContents);
      
         // alert(" formatted topic contents are : "+topicContents);
       

        var ddlBooks = "#dropDownBooks";
    var listOfBooks = "";
    var firstVariableForDropdown = "Please select book";


       
                         jQuery.ajax({
                                url: "http://localhost:8080/portal/portal/register/attachBookDetailsWithCategoryAndUserNameThroughPost",
                                type:"POST",
                                contentType: "text/plain",
                                data: dataForPost,
                                success: function(data){
                                // here , as part of the data received in callback should be the list of books as per the user id and cateogory
                                // which also includes the book which just recently got saved . 

                                alert(data + " , plesae click in the books dropdown above to view the created book ");


                                jQuery.ajax({
                                url: "http://localhost:8080/portal/portal/login/getBookListForUserAndCategory/"+username[1]+"/"+categoryName,
                                dataType: 'text',
                                success: function(data){
                                    
                                                            listOfBooks = data;
                                                            
                                                            
                                                            var parsedListOfBooks = listOfBooks.split(",");
                                                            var parsedListOfBooks1=parsedListOfBooks.filter(function(itm,i,parsedListOfBooks){
                                                                    return i==parsedListOfBooks.indexOf(itm);
                                                                                });
                                                            $(ddlBooks).empty();
                                                            $(ddlBooks).append('<option value="' + firstVariableForDropdown + '">' + firstVariableForDropdown + "</option>'");
                                                            for(var i=1;i<parsedListOfBooks1.length;i++){

                                                                     $(ddlBooks).append('<option value="' + parsedListOfBooks1[i] + ' - ( full-view )">' + parsedListOfBooks1[i] + " - ( full-view )</option>'");
                                                                     $(ddlBooks).append('<option value="' + parsedListOfBooks1[i] + ' - ( create-mode )">' + parsedListOfBooks1[i] + "- ( create-mode )</option>'");
                                                            }
                                                    
                                                   
                            }   
                                }); 



                         // code for screen clear
                         $("#divTextArea").text("");
                         $("#newTopicInputId").val("");
                         $("#newBookId").val("");
                         $("#topicDropDown").val("1");


                            }   
                            });



                        /**/
                      }// end of else case where case is of topic number other than one 
               }// end of else statemenet where category is selected for book creation / updation                                      

}); // end of new book create button click code




// adding functionality to append images to write zone

function getElement(id) { return document.getElementById(id); } // Get el by ID helper function

function readFile1(dataForPostForTopicOne,user,categoryName) {
  var urlDataww = "";
 // alert("came in read file method");
  if (getElement("imageFile").files && getElement("imageFile").files[0]) {
    // alert("in the if case");
    var FR= new FileReader();
    FR.onload = function(e) {
      // alert(username+"  "+password+"  "+emailId);
     

     urlDataww  = e.target.result;
      // alert("result :"+result);
             var imageElement = $('<img id="dynamic" style="height: 100%; width: 100%;  ">');
 // alert(urlDataww);
 imageElement.attr('src', urlDataww);
  $("#divTextArea").html("");
 imageElement.appendTo('#divTextArea');

         topicContents = "<pre>"+$("#divTextArea")[0].innerHTML+"</pre>"; 
         dataForPostForTopicOne = dataForPostForTopicOne + topicContents;
      
                    var ddlBooks = "#dropDownBooks";
    var listOfBooks = "";
    var firstVariableForDropdown = "Please select book";


       
                         jQuery.ajax({
                                url: "http://localhost:8080/portal/portal/register/attachBookDetailsWithCategoryAndUserNameThroughPost",
                                type:"POST",
                                contentType: "text/plain",
                                data: dataForPostForTopicOne,
                                success: function(data){
                                // here , as part of the data received in callback should be the list of books as per the user id and cateogory
                                // which also includes the book which just recently got saved . 

                                alert(data+" : please click on the books dropdown above to view the created books !");


                                jQuery.ajax({
                                url: "http://localhost:8080/portal/portal/login/getBookListForUserAndCategory/"+user+"/"+categoryName,
                                dataType: 'text',
                                success: function(data){
                                    
                                                            listOfBooks = data;
                                                            
                                                            
                                                            var parsedListOfBooks = listOfBooks.split(",");
                                                            var parsedListOfBooks1=parsedListOfBooks.filter(function(itm,i,parsedListOfBooks){
                                                                    return i==parsedListOfBooks.indexOf(itm);
                                                                                });
                                                            $(ddlBooks).empty();
                                                            $(ddlBooks).append('<option value="' + firstVariableForDropdown + '">' + firstVariableForDropdown + "</option>'");
                                                            for(var i=1;i<parsedListOfBooks1.length;i++){

                                                                     $(ddlBooks).append('<option value="' + parsedListOfBooks1[i] + ' - ( full-view )">' + parsedListOfBooks1[i] + " - ( full-view )</option>'");
                                                                     $(ddlBooks).append('<option value="' + parsedListOfBooks1[i] + ' - ( create-mode )">' + parsedListOfBooks1[i] + "- ( create-mode )</option>'");
                                                            }
                                                    
                                                   
                            }   
                                }); 



                         // code for screen clear
                         $("#divTextArea").text("");
                         $("#newTopicInputId").val("");
                         $("#newBookId").val("");
                         $("#topicDropDown").val("1");


                            }   
                            });


       // end of post data entry
                                

    };
    
    FR.readAsDataURL( getElement("imageFile").files[0]);
   
  }
   
  }



// end of adding funcationality to append images to write zone 

 $("#dropDown").change(function(){

           $("#imageFile").show();
           $("#labelForCoverImage").show();
            // alert("hello drop down"+this.value); 
            // alert("1");
            var selectedDropDownValue = this.value;
            var ddlBooks = "#dropDownBooks";
            var listOfBooks = "";
            var firstVariableForDropdown = "Please select book";
            // alert("drop down category is : "+selectedDropDownValue);
                    $("#waitSymbol").show();
                    jQuery.ajax({
                                url: "http://localhost:8080/portal/portal/login/getBookListForUserAndCategory/"+username[1]+"/"+selectedDropDownValue,
                                dataType: 'text',
                                success: function(data){
                                    // alert("came in the call back function"+data);
                                    // alert(" result :  "+data);
                                                            listOfBooks = data;
                                                            // alert("list of categories is : "+listOfCategories);
                                                            var parsedListOfBooksRepeated = listOfBooks.split(",");
                                                            // alert("parsed list of books is  : "+parsedListOfBooks);
                                                            var parsedListOfBooks=parsedListOfBooksRepeated.filter(function(itm,i,parsedListOfBooksRepeated){
                                                                    return i==parsedListOfBooksRepeated.indexOf(itm);
                                                                });
                                                            // alert("parsed list of books is  : "+parsedListOfBooks);
                                                            $(ddlBooks).empty();
                                                            $(ddlBooks).append('<option value="' + firstVariableForDropdown + '">' + firstVariableForDropdown + "</option>'");
                                                            for(var i=1;i<parsedListOfBooks.length;i++){
                                                                     $(ddlBooks).append('<option value="' + parsedListOfBooks[i] + ' - ( full-view )">' + parsedListOfBooks[i] + " - ( full-view )</option>'");
                                                                     $(ddlBooks).append('<option value="' + parsedListOfBooks[i] + ' - ( create-mode )">' + parsedListOfBooks[i] + "- ( create-mode )</option>'");
                                                            }
                                                            $("#waitSymbol").hide();
                            }   
                                }); 



                                                                                              // resetCode
                                                                                             $("#divTextArea").text("");
                                                                                             $("#newTopicInputId").val("bookCover image");
                                                                                             $("#newTopicInputId").prop("disabled","true");
                                                                                             $("#divTextArea").prop("disabled","true");
                                                                                             $("#newBookId").val("");
                                                                                             $("#topicDropDown").val("1");
                                                                                             

      });         




 

         $("#dropDownBooks").change(function(){

           $("#imageFile").show();
           $("#labelForCoverImage").show();
             
            var bookName = this.value;
          
            // alert("book name is : "+bookName);
            var userName = username[1];
            // alert("username is : "+userName);
            var categoryName = $("#dropDown").val();
            // alert("category is : "+categoryName);

            var bookSplitName = bookName.split("-");
            var bookTrimmedName = bookSplitName[0].trim();
            // alert("book trimmed name is :"+bookTrimmedName+":");


            // $("#bookLayout").show(); 
                    if(bookName.indexOf("create-mode") > 0 ){
                            // alert("matched");
                    
                    // intitalizing wait
                    $("#waitSymbol").show();
                    jQuery.ajax({
                        url: "http://localhost:8080/portal/portal/login/getBookDetails/"+userName+"/"+categoryName+"/"+bookTrimmedName,
                        dataType: 'text',
                        success: function(data){
                            // alert("came in the call back function"+data);
                            // alert(" book details are :  "+data);
                            // resetting the editor after the save action 
                            // alert("data received is : "+data);
                            var orignalBookTrimmedName = bookTrimmedName;
                                bookTrimmedName =  bookTrimmedName.replace(/_/g, '-');
                                bookTrimmedName =  bookTrimmedName.replace(' ', '+');
                              history.pushState(data, "title", "http://localhost:8080/portal/library/"+userName+"/"+categoryName+"/"+bookTrimmedName);
                                // history.pushState(data, "book-title", "http://localhost:8080/portal/portal/login/getBookDetails/"+userName+"/"+categoryName+"/"+bookTrimmedName);
                             var splittedData = data.split("&&**");
                             var receivedTopicFromDatabaseArray = splittedData[1];
                             var pageContent = splittedData[0];
                             // parsing page content to remove pre tags
                                var pageContetnsWithPreTage = pageContent.split("pre>");
                                var pageContentWithoutPre = pageContetnsWithPreTage[1];
                                var pageContetnsWithPreTageArray = pageContentWithoutPre.split("</");
                                var pageContentWithoutPreValue = pageContetnsWithPreTageArray[0];
                             // end of parsing of page contents to remove pre tags
                             var topicNameArray = receivedTopicFromDatabaseArray.split(":");
                             var topicName = topicNameArray[1];
                     $("#newTopicInputId").val(topicName);
                        // alert("page content while rendering : "+pageContentWithoutPreValue);
                         $("#divTextArea").html(pageContentWithoutPreValue); // use of text function previously instead of html function 
                         $("#topicDropDown").val("1");
                         $("#newBookId").val(orignalBookTrimmedName);

                         // closing wait symbol
                        $("#waitSymbol").hide();

                    }   
                        });

                        }

                        else{
                                $("#waitSymbol").show();
                                jQuery.ajax({
                        url: "http://localhost:8080/portal/portal/login/getBookDetails/"+userName+"/"+categoryName+"/"+bookTrimmedName,
                        dataType: 'text',
                        success: function(data){
                            // alert("came in the call back function"+data);
                            // alert(" book details are :  "+data);
                            // resetting the editor after the save action 
                             $("#bookLayout").show(); 
                             $("#bookTitleWhileRead").text("Book Name : "+bookTrimmedName + " ( Category : "+categoryName+" )");

                                  // parsing page content to remove pre tags
                                var pageContetnsWithPreTage = data.split("pre>");
                                var pageContentWithoutPre = pageContetnsWithPreTage[1];
                                var pageContetnsWithPreTageArray = pageContentWithoutPre.split("</");
                                var pageContentWithoutPreValue = pageContetnsWithPreTageArray[0];
                                 $("#divTextAreaForRead").text(pageContentWithoutPreValue);
                                 $("#topicDropDownWhileRead").val("1");
                                 $("#topicFetchedWhileRead").text("");
                                 $("#waitSymbol").hide();
                                
                    }   
                        });

                        }
           

      });         

            $("#topicDropDown").change(function(){
            // alert(" Value of selected book title : "+this.value); 
            var topicNumber = this.value;
            // alert("book name is : "+bookName);
            var userName = username[1];
            // alert("username is : "+userName);
            var categoryName = $("#dropDown").val();
            // alert("category is : "+categoryName);

            var bookName = $("#newBookId").val();
            var bookId = bookName+":"+topicNumber;
              $("#newTopicInputId").removeAttr("disabled");
                    // rough work : "getBookDetailsByBookId/{username}/{category}/{bookId}"
                    $("#waitSymbol").show();
                    jQuery.ajax({
                        url: "http://localhost:8080/portal/portal/login/getBookDetailsByBookId/"+userName+"/"+categoryName+"/"+bookId,
                        dataType: 'text',
                        success: function(data){
                            // alert("came in the call back function"+data);
                            // alert(" book details are :  "+data);
                            // resetting the editor after the save action 
                            // alert("data received is : "+data);
                            if(topicNumber=="1"){
                                  // alert("in the topic number one of topic wise fetching");
                                  $("#imageFile").show();
                                  $("#labelForCoverImage").show();


                                 var splittedData = data.split("&&**");
                                 var receivedTopicFromDatabaseArray = splittedData[1];
                                 var pageContent = splittedData[0];
                                 var topicNameArray = receivedTopicFromDatabaseArray.split(":");
                                 var topicName = topicNameArray[1];
                                   $("#newTopicInputId").val(topicName);
                                // parsing page content to remove pre tags
                                var pageContetnsWithPreTage = pageContent.split("pre>");
                                var pageContentWithoutPre = pageContetnsWithPreTage[1];
                                var pageContetnsWithPreTageArray = pageContentWithoutPre.split("</");
                                var pageContentWithoutPreValue = pageContetnsWithPreTageArray[0];
                                $("#divTextArea").html(pageContentWithoutPreValue);
                                 $("#newTopicInputId").prop("disabled","true");
                                $("#waitSymbol").hide();
                            }
                            else{
                              // removing the add book cover button for topics other than first number
                              $("#imageFile").hide();
                              $("#labelForCoverImage").hide();
                             

                            if(data.length>0){
                              // alert("topic exists");
                             var splittedData = data.split("&&**");
                             var receivedTopicFromDatabaseArray = splittedData[1];
                             var pageContent = splittedData[0];
                             var topicNameArray = receivedTopicFromDatabaseArray.split(":");
                             var topicName = topicNameArray[1];
                     $("#newTopicInputId").val(topicName);
                     // parsing page content to remove pre tags
                                var pageContetnsWithPreTage = pageContent.split("pre>");
                                var pageContentWithoutPre = pageContetnsWithPreTage[1];
                                var pageContetnsWithPreTageArray = pageContentWithoutPre.split("</");
                                var pageContentWithoutPreValue = pageContetnsWithPreTageArray[0];
                         $("#divTextArea").text(pageContentWithoutPreValue);
                         $("#waitSymbol").hide();
                         // $("#topicDropDown").val("1");
                         // $("#newBookId").val(bookTrimmedName);
                       }
                         else{
                            // alert("topic doesn't exist");
                             $("#divTextArea").text(" No contents for this topic ! . It's empty .");
                           
                             $("#newTopicInputId").val("");
                              if(topicNumber=="2"){
                                   // $("#newTopicInputId").val("preface-contents");
                                    // $("#newTopicInputId").prop("disabled","true");
                              }
                                $("#waitSymbol").hide();
                           }
                         }

                    }   
                        });


      });       


            // to eliminate hiphen from book name
            $("#newBookId").keypress(function() {
             var keyInput = $(this).val();
             // alert("keyinput"+ keyInput);
              if(keyInput.indexOf("-") > 0 ){
                alert("We request you not to have hiphen character in book name");
                 $("#newBookId").val("");
              }
            });
            // end of code to eliminate hiphen from book name

             // to have character count in category
            $("#newCategoryInputId").keypress(function() {
                 // $("#newCategoryInputId").val("");
             var keyInput = $("#newCategoryInputId").val();
             // alert("keyinput"+ keyInput);
              if(keyInput.length > 12 ){
                alert("We request you to have category less than 12 characters");
                 $("#newCategoryInputId").val("");
              }
            });
            // end of character count in category


              // search suggestion for thinkers 

              // end of search suggestion for thinkers

              // search thinkers functionality
         


               $("#divTextAreaBooks").empty();
                            $("#divTextAreaBooks").text("");
                               $("#divTextAreaBooks").html("");

              // search books functionality
            $("#searchBooks").keypress(function(e) {
                 // $("#newCategoryInputId").val("");

                 // alert("here");
                   e.stopImmediatePropagation();
                   if(e.which == 13) {
                   var bookNameEntered = $("#searchBooks").val();
                   
                   $("#waitSymbolForBooksTab").show();
                   $("#waitSymbol").show();

                     $("#divTextAreaBooks").empty();
                            $("#divTextAreaBooks").text("");
                               $("#divTextAreaBooks").html("");

                   
                    jQuery.ajax({
                        url: "http://localhost:8080/portal/portal/login/getUserNameAndCategoryFromDistinctBookName/"+bookNameEntered,
                        dataType: 'text',
                        success: function(data){
                            // alert("came in the call back function"+data);
                           
                            // data = data.substring(1,data.length);
                             // alert(" userList :  "+data);

                              $("#waitSymbolForBooksTab").show();
                   $("#waitSymbol").show();


                               var bookNameEntered = $("#searchBooks").val();
                           var userNameAndCategorySplittedArray = data.split(",");
                           var userNameFetched = userNameAndCategorySplittedArray[0];
                           var categoryFetched = userNameAndCategorySplittedArray[1];

                           var userNameFetchedRecord = "";
                           userNameFetchedRecord = userNameFetched;


                   $("#newTopicInputIdBooks").val("");
                   $("#newBookIdBooks").val("");
                   $("#topicDropDownBooks").val("1");

                 // $("#welcomeTextBooks").text("Thinker :  "+userNameFetched);  
                   $("#writerConnectButton").text("Writer : "+userNameFetched);  

                   $("#writerConnectButton").click(function(){

                    // alert("clicked"+$(this).text());
                    var name = $(this).text();
                    var splittedName = name.split(":");
                    splittedName = splittedName[1].trim();
                    // alert(" We are soon introducing friendship feature with writers , please hold on ! ");

                   });


                 // disabling some of the buttons for the logged out user
                 //
                  // disabling the logout button , enabling of login button should come here itself by writing one more  span in html
                 // by keeing that hidden and showing for logged user entrance .
                 // alert("here");
                  $("#newBookButtonIdBooks").hide(); // disabling create / update book button for logged out user  , working presently on this .
                  $("#newCategoryInputButtonIdBooks").hide();
                  $("#newCategoryInputIdBooks").hide();
                  // $("textarea").prop("readonly","true");
                  $("#newBookIdBooks").prop("readonly","true");

                  $("#dropDownCategoryBooks").hide();
                  $("#dropDownBooksBooks").hide();
                  $("#topicDropDownBooks").prop("disabled","true");
                  $("#testLabelForResponsiveBooks").hide();
                  $("#labelForBooksResponsiveBooks").hide();


                    $("#divTextAreaBooks").empty();
                            $("#divTextAreaBooks").text("");
                               $("#divTextAreaBooks").html("");

                   // //$("#waitSymbolBooks").hide();

                  // zones hiding 
                  // $("#zones").hide();


                  
                
                  // hide register/login place holder
                   $("#registerPlaceHolderBooks").hide();
                    // $("#logoutPlaceHolder").hide();
                    var firstVariableForDropdownBooks = "Please select";
                     $("#dropDownCategoryBooks").empty();
                      $("#dropDownCategoryBooks").append('<option value="' + firstVariableForDropdownBooks + '">' + firstVariableForDropdownBooks + "</option>'");

              
                // getting book details for guest


                  /* var condition  = "false";
                     var  readerName = username[1];

                     // code to determine whether the paid status of the book is true or false 

                              jQuery.ajax({
                        url: "http://localhost:8080/portal/portal/login/getPaymentHistoryStatusOfBook/"+readerName+"/"+bookNameEntered,
                        dataType: 'text',
                        async : false,
                        success: function(data){

                          condition = data;
                          // alert("condition :: "+data);

                        }



                        });*/


                             



                //#####################

               /* jQuery.ajax({
                        url: "http://localhost:8080/portal/portal/login/getBookDetails/"+userNameFetched+"/"+categoryFetched+"/"+bookNameEntered,
                        dataType: 'text',
                        success: function(data){
                          
                              $("#divTextAreaBooks").empty();
                            $("#divTextAreaBooks").text("");
                               $("#divTextAreaBooks").html("");


                               
                            if(categoryFetched==null){
                              // alert("matched here"); 
                             }
                             else{
                              
                             }
                             var splittedData = data.split("&&**");
                             var receivedTopicFromDatabaseArray = splittedData[1];
                             var pageContent = splittedData[0];
                             // parsing page content to remove pre tags
                                var pageContetnsWithPreTage = pageContent.split("pre>");
                                var pageContentWithoutPre = pageContetnsWithPreTage[1];
                                var pageContetnsWithPreTageArray = pageContentWithoutPre.split("</");
                                var pageContentWithoutPreValue = pageContetnsWithPreTageArray[0];
                             // end of parsing of page contents to remove pre tags
                             var topicNameArray = receivedTopicFromDatabaseArray.split(":");
                             var topicName = topicNameArray[1];
                     $("#newTopicInputIdBooks").val(topicName);
                         // alert("again trying to do change here ");
                         $("#divTextAreaBooks").html(pageContentWithoutPreValue); // changed it from textToHtml for image rendering , search for textToHtml in this case



                        

                         
                          jQuery.ajax({
                            url: "http://localhost:8080/portal/portal/login/getBookDetailsByBookId/"+userNameFetched+"/"+categoryFetched+"/"+bookNameEntered+":2",
                            dataType: 'text',
                            async : false,
                            success: function(data){
                              var dataToBeRendered = data.split("&&**");
                              // alert(dataToBeRendered[0]);
                                    var pageContetnsWithPreTage = dataToBeRendered[0].split("pre>");
                                    var pageContentWithoutPre = pageContetnsWithPreTage[1];
                                    var pageContetnsWithPreTageArray = pageContentWithoutPre.split("</");
                                    var pageContentWithoutPreValue1 = pageContetnsWithPreTageArray[0];

                         
                           if(condition=="false"){

                            var bookPrice = "11";



                              jQuery.ajax({
                             url: "http://localhost:8080/portal/portal/login/getBookPrice/"+bookNameEntered,
                             dataType: 'text',
                             async : false,
                             success: function(data){
                                   bookPrice = data;
                                   // alert(bookPrice);
                             }   
                             });






                              pageContentWithoutPreValue1 = pageContentWithoutPreValue1.substring(0,300);

                           

                           var addedString = " Please purchase this book  '"+bookNameEntered+"' to continue reading by paying '"+bookPrice+"' rupees  . Use the 'Buy' blue coloured button on the left / top of the book cover image  . Here are four simple steps to follow  (1) Please login in case you are not logged in to buy the book.  (2) Please copy the system generated PAYMNET ID after successful trasaction (3) Paste it to unlock the book to continue reading  (4) Search the same book again and this time you will be able to read the full book you purchased . Please note that online purchase feature is currently only for Computer/PC/laptops. " ;




                             // $("#divTextAreaBooks").text(pageContentWithoutPreValue);
                               $("#divTextAreaBooks").append("<br>")
                                  $("#divTextAreaBooks").append("<br>")
                                    $("#divTextAreaBooks").append("<br>")
                                      $("#divTextAreaBooks").append("CHAPTER : "+"2"+"  ! ")
                                       $("#divTextAreaBooks").append("<br>")
                                  $("#divTextAreaBooks").append("<br>")
                                    $("#divTextAreaBooks").append("<br>")
                               $("#divTextAreaBooks").append(pageContentWithoutPreValue1+"......"+"<br>"+"<br>"+"<br>"+"<br>"+addedString);


                              $("#paymentButtonOther").show();
                              $("#transactionId").show();
                              $("#bookUnlockId").show();


                               if(window.devicePixelRatio==2||window.devicePixelRatio==3||window.devicePixelRatio==2.625||window.devicePixelRatio==3.5){

                                  $("#adPanelBooks1").show();

                               }


                          
                              



                             }

                             else{


                              $("#paymentButtonOther").hide();
                              $("#transactionId").hide();
                              $("#bookUnlockId").hide();


                              if(window.devicePixelRatio==2||window.devicePixelRatio==3||window.devicePixelRatio==2.625||window.devicePixelRatio==3.5){

                                  $("#adPanelBooks1").hide();

                               }

                             
                             


                                $("#divTextAreaBooks").append("<br>")
                                  $("#divTextAreaBooks").append("<br>")
                                    $("#divTextAreaBooks").append("<br>")
                                      $("#divTextAreaBooks").append("CHAPTER : "+"2"+"  ! ")
                                       $("#divTextAreaBooks").append("<br>")
                                  $("#divTextAreaBooks").append("<br>")
                                    $("#divTextAreaBooks").append("<br>")
                               $("#divTextAreaBooks").append(pageContentWithoutPreValue1);

                             }



                          


                            }

                          });  


                           history.pushState(data, "title" , "http://localhost:8080/portal/library/"+userNameFetched+"/"+categoryFetched+"/"+bookNameEntered);
                    
                         $("#topicDropDownBooks").val("1");
                         $("#newBookIdBooks").val(bookNameEntered);


                          bookNameEntered =  bookNameEntered.replace(/%20/g, ' ');
                        bookNameEntered =  bookNameEntered.replace(/_/g, ' ');

                         $("#labelForBookNameBooks").text("Topic : "+bookNameEntered);


                         $("#newTopicInputIdBooks").hide();
                         $("#topicDropDownBooks").hide();
                         $("#newBookIdBooks").hide();
                         $("#labelForTopicNumberBooks").hide();

                      if(window.devicePixelRatio==2){

                          $("#labelForBookNameBooks").prop("style","font-size:35px;font-weight:bold;color:white");

                         }




                      

                    }   
                        }); */


                          // ###############
                          


                           jQuery.ajax({
                            url: "http://localhost:8080/portal/portal/login/getBookDetailsByBookId/"+userNameFetched+"/"+categoryFetched+"/"+bookNameEntered+":2",
                            dataType: 'text',
                            async : false,
                            success: function(data){
                              // alert(data);


                               if(data.length==0){
                                    data = "<pre>Thanks ! </pre>&&**2:"
                              }

                              // alert(data);

                              var dataToBeRendered = data.split("&&**");
                              // alert(dataToBeRendered[0]);
                                    var pageContetnsWithPreTage = dataToBeRendered[0].split("pre>");
                                    var pageContentWithoutPre = pageContetnsWithPreTage[1];
                                    var pageContetnsWithPreTageArray = pageContentWithoutPre.split("</");
                                    var pageContentWithoutPreValue = pageContetnsWithPreTageArray[0];
                             // $("#divTextAreaBooks").text(pageContentWithoutPreValue);
                           
                       // alert(bookNameOriginal);


                                                                                  jQuery.ajax({
                        url: "http://localhost:8080/portal/portal/login/getBookDetails/"+userNameFetched+"/"+categoryFetched+"/"+bookNameEntered,
                        dataType: 'text',
                         async : false,
                        success: function(data){
                            // alert("came in the call back function"+data);
                            // alert(" book details are :  "+data);
                            // resetting the editor after the save action 
                            // alert("data received is : "+data);
                            // alert("categoryname is : "+categoryName);
                           
                             var splittedData = data.split("&&**");
                             var receivedTopicFromDatabaseArray = splittedData[1];
                             var pageContent = splittedData[0];
                             // parsing page content to remove pre tags
                                var pageContetnsWithPreTage = pageContent.split("pre>");
                                var pageContentWithoutPre = pageContetnsWithPreTage[1];
                                var pageContetnsWithPreTageArray = pageContentWithoutPre.split("</");
                                var pageContentWithoutPreValue = pageContetnsWithPreTageArray[0];
                             // end of parsing of page contents to remove pre tags
                             var topicNameArray = receivedTopicFromDatabaseArray.split(":");
                             var topicName = topicNameArray[1];
                     $("#newTopicInputIdBooks").val(topicName);
                         $("#divTextAreaBooks").html(pageContentWithoutPreValue);

                            }

                          });


                         // check
                         // alert(bookTrimmedName);


                         var condition  = "false";
                     var  readerName = username[1];

                     // code to determine whether the paid status of the book is true or false 

                              jQuery.ajax({
                        url: "http://localhost:8080/portal/portal/login/getPaymentHistoryStatusOfBook/"+readerName+"/"+bookNameEntered,
                        dataType: 'text',
                        async : false,
                        success: function(data){

                          condition = data;
                          // alert("condition :: "+data);

                        }



                        });



                         var bookPrice = "";

                            jQuery.ajax({
                             url: "http://localhost:8080/portal/portal/login/getBookPrice/"+bookNameEntered,
                             dataType: 'text',
                             async : false,
                             success: function(data){
                                   bookPrice = data;
                                   // alert(bookPrice);
                             }   
                             });




                              if(condition=="false"){

                            // var bookPrice = "11";


                              // alert("the book has some price");

                            // var bookPrice = "11";



                           






                              pageContentWithoutPreValue = pageContentWithoutPreValue.substring(0,300);

                              // var bookPrice = "40";


                              // make a jquery call to knwo the price  of the book referred over here 

                           

                              // alert("there");
                           var addedString = " Please purchase this book  '"+bookNameEntered+"' to continue reading by paying '"+bookPrice+"' rupees  . Use the 'Buy' blue coloured button on the left / top of the book cover image  . Here are four simple steps to follow  (1) Please login in case you are not logged in to buy the book.  (2) Please copy the system generated PAYMNET ID after successful trasaction (3) Paste it to unlock the book to continue reading  (4) Search the same book again and this time you will be able to read the full book you purchased . Please note that online purchase feature is currently only for Computer/PC/laptops. " ;




                             // $("#divTextAreaBooks").text(pageContentWithoutPreValue);
                               $("#divTextAreaBooks").append("<br>")
                                  $("#divTextAreaBooks").append("<br>")
                                    $("#divTextAreaBooks").append("<br>")
                                      $("#divTextAreaBooks").append("CHAPTER : "+"2"+"  ! ")
                                       $("#divTextAreaBooks").append("<br>")
                                  $("#divTextAreaBooks").append("<br>")
                                    $("#divTextAreaBooks").append("<br>")
                               $("#divTextAreaBooks").append(pageContentWithoutPreValue+"                 PREVIEW ENDS ! ......................SORRY , this is a licensed book . Please read below instructions to BUY this book to continue reading .."+"<br>"+"<br>"+"<br>"+"<br>"+addedString);
                                

                                  $("#paymentButtonOther").show();
                              $("#transactionId").show();
                              $("#bookUnlockId").show();


                               if(window.devicePixelRatio==2||window.devicePixelRatio==3||window.devicePixelRatio==2.625||window.devicePixelRatio==3.5){

                                  $("#adPanelBooks1").show();

                               }
                               // $("#topicDropDownBooks").val("1");


                             }






                         // check
                         else{

                            $("#paymentButtonOther").hide();
                              $("#transactionId").hide();
                              $("#bookUnlockId").hide();


                              if(window.devicePixelRatio==2||window.devicePixelRatio==3||window.devicePixelRatio==2.625||window.devicePixelRatio==3.5){

                                  $("#adPanelBooks1").hide();

                               }




                           $("#divTextAreaBooks").append("<br>")
                                  $("#divTextAreaBooks").append("<br>")
                                    $("#divTextAreaBooks").append("<br>")
                                      $("#divTextAreaBooks").append("CHAPTER : "+"2"+"  ! ")
                                       $("#divTextAreaBooks").append("<br>")
                                  $("#divTextAreaBooks").append("<br>")
                                    $("#divTextAreaBooks").append("<br>")                                                        
                         
                          $("#divTextAreaBooks").append(pageContentWithoutPreValue);    
                           $("#divTextAreaBooks").append("<br>")
                                    $("#divTextAreaBooks").append("<br>")                                                     
                         $("#topicDropDownBooks").val("1");
                       }
                         // $("#newBookId").val(bookTrimmedName);


                        
                    // bookTrimmedName =  bookTrimmedName.replace(/+/g, ' ');
                      bookNameEntered =  bookNameEntered.replace(/%20/g, ' ');
                        bookNameEntered =  bookNameEntered.replace(/_/g, ' ');

                         $("#labelForBookNameBooks").text("Topic : "+bookNameEntered);


                        /* $("#newTopicInputId").hide();
                         $("#topicDropDown").hide();
                         $("#newBookId").hide();
                         $("#labelForTopicNumber").hide();*/

                      if(window.devicePixelRatio==2){

                          $("#labelForBookNameBooks").prop("style","font-size:35px;font-weight:bold;color:white");

                         }



                          history.pushState(data, "title" , "http://localhost:8080/portal/library/"+userNameFetched+"/"+categoryFetched+"/"+bookNameEntered);
                    
                         $("#topicDropDownBooks").val("1");
                         $("#newBookIdBooks").val(bookNameEntered);


                          bookNameEntered =  bookNameEntered.replace(/%20/g, ' ');
                        bookNameEntered =  bookNameEntered.replace(/_/g, ' ');

                         $("#labelForBookNameBooks").text("Topic : "+bookNameEntered);


                         $("#newTopicInputIdBooks").hide();
                         $("#topicDropDownBooks").hide();
                         $("#newBookIdBooks").hide();
                         $("#labelForTopicNumberBooks").hide();

                      if(window.devicePixelRatio==2){

                          $("#labelForBookNameBooks").prop("style","font-size:35px;font-weight:bold;color:white");

                         }




                      

                    }   
                        });



               

                    // displaying the list of categories for the logged out user
                    var listOfCategories = "";
                    var ddl = "#dropDownCategoryBooks";
                    var ddlBooks = "#dropDownBooksBooks";
                                    jQuery.ajax({
                                                    url: "http://localhost:8080/portal/portal/login/getCategoriesListForUser/"+userNameFetched,
                                                    dataType: 'text',
                                                    success: function(data){
                                                        // alert("came in the call back function"+data);
                                                        // alert(" result :  "+data);
                                                        listOfCategories = data;
                                                          
                                                        var parsedListOfCategories = listOfCategories.split(",");
                                                        for(var i=0;i<parsedListOfCategories.length;i++){
                                                                  // alert(":"+parsedListOfCategories[i]+":");
                                                                 $(ddl).append('<option value="' + parsedListOfCategories[i] + '">' + parsedListOfCategories[i] + "</option>'");
                                                                 // alert($(ddl).val());
                                                        }
                                                }   
                                                    }); 

                 

                    // displyaing of the profile pic for the logged out user 
                     // //$("#waitSymbolBooks").show();
                    jQuery.ajax({
                            url: "http://localhost:8080/portal/portal/login/getUserData/"+userNameFetched,
                            dataType: 'text',
                            success: function(data){
                             getElement("profilePicBooks").src = "";
                             // console.log(data);
                             getElement("profilePicBooks").src  = data;
                             // an ajax db call to be made to fetch the list of books as per the user id and the category clicked 
                             testString = "Book1IntitialBook";
                              //$("#waitSymbolBooks").hide();
                    }   
                    });

                    // get element by id method
                      function getElement(id) { return document.getElementById(id); } 

                    // displaying categories for the logged out user , displaying books based on category
                         $("#dropDownCategoryBooks").change(function(){
                        var selectedDropDownValue = this.value;
                        var ddlBooks = "#dropDownBooksBooks";
                        var listOfBooks = "";
                        var firstVariableForDropdown = "Please select book";
                        // alert("drop down category is : "+selectedDropDownValue);

                                jQuery.ajax({
                                            url: "http://localhost:8080/portal/portal/login/getBookListForUserAndCategory/"+userNameFetched+"/"+selectedDropDownValue,
                                            dataType: 'text',
                                             async:false,
                                            success: function(data){
                                                // alert("came in the call back function"+data);
                                                // alert(" result :  "+data);
                                                                        listOfBooks = data;
                                                                        // alert("list of categories is : "+listOfCategories);
                                                                        var parsedListOfBooksRepeated = listOfBooks.split(",");
                                                                        // alert("parsed list of books is  : "+parsedListOfBooks);
                                                                        var parsedListOfBooks=parsedListOfBooksRepeated.filter(function(itm,i,parsedListOfBooksRepeated){
                                                                                return i==parsedListOfBooksRepeated.indexOf(itm);
                                                                            });
                                                                        // alert("parsed list of books is  : "+parsedListOfBooks);
                                                                        $(ddlBooks).empty();
                                                                        $(ddlBooks).append('<option value="' + firstVariableForDropdown + '">' + firstVariableForDropdown + "</option>'");
                                                                        for(var i=1;i<parsedListOfBooks.length;i++){
                                                                                 $(ddlBooks).append('<option value="' + parsedListOfBooks[i] + ' - ( full-view )">' + parsedListOfBooks[i] + " - ( full-view )</option>'");
                                                                                 $(ddlBooks).append('<option value="' + parsedListOfBooks[i] + ' - ( quick-view )">' + parsedListOfBooks[i] + "- ( quick-view )</option>'");
                                                                        }
                                        }   

                                            }); 
                                 // code for general reset
                                                                                             $("#divTextAreaBooks").text("");
                                                                                             $("#newTopicInputIdBooks").val("");
                                                                                             $("#newBookIdBooks").val("");
                                                                                             $("#topicDropDownBooks").val("1");

                  });         


                         
                   
                    // end of displaying categories for the logged out user


                    // to show book for reading on clicking on the books in the drop down list
                    $("#dropDownBooksBooks").change(function(){
                         
                        var bookName = this.value;
                      
                        // alert("book name is : "+bookName);
                        // var userName = username[1];
                        // alert("username is : "+userName);
                        var categoryName = $("#dropDownCategoryBooks").val();
                        // alert("category is : "+categoryName);

                        var bookSplitName = bookName.split("-");
                        var bookTrimmedName = bookSplitName[0].trim();
                        // alert("book trimmed name is :"+bookTrimmedName+":");


                        // $("#bookLayout").show(); 
                                if(bookName.indexOf("quick-view") > 0 ){
                                        // alert("matched");
                                
                                // intitalizing wait
                                // $("#waitSymbol").show();
                                // alert("category name is : "+categoryName);

                                if(categoryName=="Please select"){
                                  // alert("matched");
                                categoryName = $("#dropDownCategoryBooks").text();

                                 var categoryParsed = categoryName.split("\n");
                                   // alert("topic number is :"+categoryParsed[1]+":");
                                  categoryName = categoryParsed[1].trim();
                                }

                                 // //$("#waitSymbolBooks").show();
                                jQuery.ajax({
                                    url: "http://localhost:8080/portal/portal/login/getBookDetails/"+userNameFetched+"/"+categoryName+"/"+bookTrimmedName,
                                    dataType: 'text',
                                    success: function(data){
                                        // alert("came in the call back function"+data);
                                        // alert(" book details are :  "+data);
                                        // resetting the editor after the save action 
                                        // alert("data received is : "+data);

                                         // history.pushState(data, "book-title", "http://localhost:8080/portal/library/"+userName+"/"+categoryName+"/"+bookTrimmedName);
                                         var splittedData = data.split("&&**");
                                         var receivedTopicFromDatabaseArray = splittedData[1];
                                         var pageContent = splittedData[0];
                                         // parsing page content to remove pre tags
                                            var pageContetnsWithPreTage = pageContent.split("pre>");
                                            var pageContentWithoutPre = pageContetnsWithPreTage[1];
                                            var pageContetnsWithPreTageArray = pageContentWithoutPre.split("</");
                                            var pageContentWithoutPreValue = pageContetnsWithPreTageArray[0];
                                         // end of parsing of page contents to remove pre tags
                                         var topicNameArray = receivedTopicFromDatabaseArray.split(":");
                                         var topicName = topicNameArray[1];
                                 $("#newTopicInputIdBooks").val(topicName);
                                     $("#divTextAreaBooks").html(pageContentWithoutPreValue); // textToHtml
                                     $("#topicDropDownBooks").val("1");
                                     $("#newBookIdBooks").val(bookTrimmedName);

                                     // closing wait symbol
                                     //$("#waitSymbolBooks").hide();

                                }   
                                    });

                                    }

                                    else{

                                        // alert("category name is :"+categoryName);
                                         if(categoryName=="Please select"){
                                          // alert("matched");
                                        categoryName = $("#dropDownCategoryBooks").text();

                                         var categoryParsed = categoryName.split("\n");
                                           // alert("topic number is :"+categoryParsed[1]+":");
                                          categoryName = categoryParsed[1].trim();
                                          // alert("category name is ="+categoryName+"=");
                                        }
                                             // //$("#waitSymbolBooks").show();
                                            jQuery.ajax({
                                    url: "http://localhost:8080/portal/portal/login/getBookDetails/"+userNameFetched+"/"+categoryName+"/"+bookTrimmedName,
                                    dataType: 'text',
                                    success: function(data){
                                        // alert("came in the call back function"+data);
                                        // alert(" book details are :  "+data);
                                        // resetting the editor after the save action 
                                         $("#bookLayoutBooks").show(); 
                                         $("#bookTitleWhileReadBooks").text("Book Name : "+bookTrimmedName + " ( Category : "+categoryName+" )");

                                              // parsing page content to remove pre tags
                                            var pageContetnsWithPreTage = data.split("pre>");
                                            var pageContentWithoutPre = pageContetnsWithPreTage[1];
                                            var pageContetnsWithPreTageArray = pageContentWithoutPre.split("</");
                                            var pageContentWithoutPreValue = pageContetnsWithPreTageArray[0];
                                             $("#divTextAreaForReadBooks").html(pageContentWithoutPreValue);
                                             $("#topicDropDownWhileReadBooks").val("1");
                                             $("#topicFetchedWhileReadBooks").text("");
                                               $("#newBookIdBooks").val(bookTrimmedName);
                                              //$("#waitSymbolBooks").hide();
                                            
                                }   
                                    });

                                    }
                       

                  });      // end to show book for reading on clicking on the books in the drop down list    

                  
                  // after the book gets rendered as above , the topic wise content of the books to be fetched in write mode for logged out user first

                 $("#topicDropDownBooks").change(function(){

                  // alert("please confirm selection of category to read other topics of this book");
                var topicNumber = this.value;
                // alert("topic number is : "+topicNumber);
                var categoryName = $("#dropDownCategoryBooks").val();
              

                 if(categoryName=="Please select"){
                    // alert("match in this case");
                    categoryName = categoryFetched;

                 }

                var bookName = $("#newBookIdBooks").val();
                 // alert("topic number is : "+bookName);
                var bookId = bookName+":"+topicNumber;
                

                // inducing the logic for payment felicitation for paid books specially . 
                var paymentFlag = "unpaid"; // mark it 'unpaid'  intitially , it can be switched at ui layer intially to test paid/unpaid features

             
                         // //$("#waitSymbolBooks").show();
                        jQuery.ajax({
                            url: "http://localhost:8080/portal/portal/login/getBookDetailsByBookId/"+userNameFetched+"/"+categoryName+"/"+bookId,
                            dataType: 'text',
                            success: function(data){

                              // alert(data);
                              // console.log(data);

                                 if(topicNumber=="1"){
                                

                                 var splittedData = data.split("&&**");
                                 var receivedTopicFromDatabaseArray = splittedData[1];
                                 var pageContent = splittedData[0];
                                 var topicNameArray = receivedTopicFromDatabaseArray.split(":");
                                 var topicName = topicNameArray[1];
                                   $("#newTopicInputIdBooks").val(topicName);
                                // parsing page content to remove pre tags
                                var pageContetnsWithPreTage = pageContent.split("pre>");
                                var pageContentWithoutPre = pageContetnsWithPreTage[1];
                                var pageContetnsWithPreTageArray = pageContentWithoutPre.split("</");
                                var pageContentWithoutPreValue = pageContetnsWithPreTageArray[0];
                                $("#divTextAreaBooks").html(pageContentWithoutPreValue);

                                  jQuery.ajax({
                            url: "http://localhost:8080/portal/portal/login/getBookDetailsByBookId/"+userNameFetched+"/"+categoryName+"/"+bookName+":2",
                            dataType: 'text',
                            success: function(data){
                                 var dataToBeRendered = data.split("&&**");
                              // alert(dataToBeRendered[0]);
                                    var pageContetnsWithPreTage = dataToBeRendered[0].split("pre>");
                                    var pageContentWithoutPre = pageContetnsWithPreTage[1];
                                    var pageContetnsWithPreTageArray = pageContentWithoutPre.split("</");
                                    var pageContentWithoutPreValue = pageContetnsWithPreTageArray[0];
                             // $("#divTextAreaBooks").text(pageContentWithoutPreValue);
                               $("#divTextAreaBooks").append(pageContentWithoutPreValue);

                            }

                          });
                                 //$("#waitSymbolBooks").hide();
                             }

                             else{  
                              
                                  $("#divTextAreaBooks").text("");
                                   $("#newTopicInputIdBooks").val("");
                                 var splittedData = data.split("&&**");
                                 var receivedTopicFromDatabaseArray = splittedData[1];
                                 var pageContent = splittedData[0];
                                 var topicNameArray = receivedTopicFromDatabaseArray.split(":");
                                 var topicName = topicNameArray[1];
                         $("#newTopicInputIdBooks").val(topicName);
                         // parsing page content to remove pre tags
                                    var pageContetnsWithPreTage = pageContent.split("pre>");
                                    var pageContentWithoutPre = pageContetnsWithPreTage[1];
                                    var pageContetnsWithPreTageArray = pageContentWithoutPre.split("</");
                                    var pageContentWithoutPreValue = pageContetnsWithPreTageArray[0];
                             $("#divTextAreaBooks").text(pageContentWithoutPreValue);
                            
                             
                         }  // end of conceptualized else 





                        }   // end of success call back
                            });

                      // } // commenting out temporarily
                      // above terminating bracket is end of else if use case where payment of the unique book is already done . 

                  });   



                     // displaying books in book drop down when the category gets pre selected for certain logged out user
                        var ddlBooks = "#dropDownBooksBooks";
                        var listOfBooks = "";
                        var firstVariableForDropdown = "Please select book";
                       

                                jQuery.ajax({
                                            url: "http://localhost:8080/portal/portal/login/getBookListForUserAndCategory/"+userName+"/"+categoryName,
                                            dataType: 'text',
                                            success: function(data){
                                               
                                                                        listOfBooks = data;
                                                                        // alert("list of categories is : "+listOfCategories);
                                                                        var parsedListOfBooksRepeated = listOfBooks.split(",");
                                                                        // alert("parsed list of books is  : "+parsedListOfBooks);
                                                                        var parsedListOfBooks=parsedListOfBooksRepeated.filter(function(itm,i,parsedListOfBooksRepeated){
                                                                                return i==parsedListOfBooksRepeated.indexOf(itm);
                                                                            });
                                                                        // alert("parsed list of books is  : "+parsedListOfBooks);
                                                                        $(ddlBooks).empty();
                                                                        $(ddlBooks).append('<option value="' + firstVariableForDropdown + '">' + firstVariableForDropdown + "</option>'");
                                                                        for(var i=1;i<parsedListOfBooks.length;i++){
                                                                                 $(ddlBooks).append('<option value="' + parsedListOfBooks[i] + ' - ( full-view )">' + parsedListOfBooks[i] + " - ( full-view )</option>'");
                                                                                 $(ddlBooks).append('<option value="' + parsedListOfBooks[i] + ' - ( quick-view )">' + parsedListOfBooks[i] + "- ( quick-view )</option>'");
                                                                        }
                                        }   
                                            }); 
                     // end of displaying of books for pre selected categories


                     // start of topic wise contents display while read mode for logged out user

                            $("#topicDropDownWhileReadBooks").change(function(){
                            // alert(" Value of selected book title : "+this.value); 
                            var topicNumber = this.value;


                                  var categoryName = $("#dropDownCategoryBooks").val();
                                  // var bookName = $("#dropDownBooksBooks").val();
                                   var bookName =  $("#newBookIdBooks").val();
                            

                            var bookId = bookName+":"+topicNumber;

                              // alert("category name is : "+categoryName+"username is : "+userName+"bookd id is : "+bookId);

                                    // rough work : "getBookDetailsByBookId/{username}/{category}/{bookId}"
                                     //$("#waitSymbolBooks").show();
                                    jQuery.ajax({
                                        url: "http://localhost:8080/portal/portal/login/getBookDetailsByBookId/"+userNameFetched+"/"+categoryName+"/"+bookId,
                                        dataType: 'text',
                                        success: function(data){

                                            if(topicNumber=="1"){
                                

                                 var splittedData = data.split("&&**");
                                 var receivedTopicFromDatabaseArray = splittedData[1];
                                 var pageContent = splittedData[0];
                                 var topicNameArray = receivedTopicFromDatabaseArray.split(":");
                                 var topicName = topicNameArray[1];
                                   $("#topicFetchedWhileReadBooks").text("");
                                     $("#topicFetchedWhileReadBooks").text(" Topic Name : "+topicName);
                                // parsing page content to remove pre tags
                                var pageContetnsWithPreTage = pageContent.split("pre>");
                                var pageContentWithoutPre = pageContetnsWithPreTage[1];
                                var pageContetnsWithPreTageArray = pageContentWithoutPre.split("</");
                                var pageContentWithoutPreValue = pageContetnsWithPreTageArray[0];
                                $("#divTextAreaForReadBooks").html(pageContentWithoutPreValue);
                                 //$("#waitSymbolBooks").hide();
                                     }

                                     else{
                                            
                                            if(data.length>0){
                                             var splittedData = data.split("&&**");
                                             var receivedTopicFromDatabaseArray = splittedData[1];
                                             var pageContent = splittedData[0];
                                             var topicNameArray = receivedTopicFromDatabaseArray.split(":");
                                             var topicName = topicNameArray[1];
                                     $("#topicFetchedWhileReadBooks").text("");
                                     $("#topicFetchedWhileReadBooks").text(" Topic Name : "+topicName);
                                     // parsing page content to remove pre tags
                                                var pageContetnsWithPreTage = pageContent.split("pre>");
                                                var pageContentWithoutPre = pageContetnsWithPreTage[1];
                                                var pageContetnsWithPreTageArray = pageContentWithoutPre.split("</");
                                                var pageContentWithoutPreValue = pageContetnsWithPreTageArray[0];
                                         $("#divTextAreaForReadBooks").text(pageContentWithoutPreValue);
                                        
                                       }
                                         else{
                                            // alert("topic doesn't exist");
                                             $("#divTextAreaForReadBooks").text(" No contents for this topic ! . It's empty .");
                                              //$("#waitSymbolBooks").hide();
                                             $("#topicFetchedWhileReadBooks").text("");
                                             $("#topicFetchedWhileReadBooks").text(" Topic Name : ");
                                           }
                                          } // end of conceptualized else end case 

                                    }   
                                        });


                      });        

                     // end of topic wise contetns display while read mode for logged out user 


                     // start of method for closing of read view for logged out user

                    $("#closeButtonBooks").click(function(){
                            $("#bookLayoutBooks").hide();
                    });



                          var topicNumber = ($("#topicDropDownBooks").val());
                    $("#fullScreenDivForBooks").scroll(function() {
      
                      if(($(this).scrollTop() + $(this).innerHeight()) >= ($(this)[0].scrollHeight)){

                          // alert("bookScreen scrolled alert");

                          if(topicNumber=="1"){
                             topicNumber = parseInt(topicNumber) + 2;
                          }
                          else{
                           topicNumber = parseInt(topicNumber) + 1;
                         }
                           // alert(topicNumber);
                           jQuery.ajax({
                            url: "http://localhost:8080/portal/portal/login/getBookDetailsByBookId/"+userNameFetched+"/"+categoryFetched+"/"+bookNameEntered+":"+topicNumber,
                            dataType: 'text',
                            async : false,
                            success: function(data){


                               if(data.length==0){
                                // alert("here user");
                                    // doitOne("#divTextAreaBooks");
                                    doitOne3("#divTextAreaBooks");
                                    
                                  }



                                 var dataToBeRendered = data.split("&&**");
                              // alert(dataToBeRendered[0]);
                                    var pageContetnsWithPreTage = dataToBeRendered[0].split("pre>");
                                    var pageContentWithoutPre = pageContetnsWithPreTage[1];
                                    var pageContetnsWithPreTageArray = pageContentWithoutPre.split("</");
                                    var pageContentWithoutPreValue = pageContetnsWithPreTageArray[0];
                             // $("#divTextAreaBooks").text(pageContentWithoutPreValue);
                           
                                $("#divTextAreaBooks").append("<br>")
                                  $("#divTextAreaBooks").append("<br>")
                                    $("#divTextAreaBooks").append("<br>")
                                      $("#divTextAreaBooks").append("CHAPTER : "+topicNumber+"  ! ")
                                       $("#divTextAreaBooks").append("<br>")
                                  $("#divTextAreaBooks").append("<br>")
                                    $("#divTextAreaBooks").append("<br>")
                               $("#divTextAreaBooks").append(pageContentWithoutPreValue);

                            }

                          });


                           
                     }
                   });
                            
                   
                      $("#waitSymbolForBooksTab").hide();
                    $("#waitSymbol").hide();

                    }   


                        }); 


                    



                  

                }
            
            });
            // endOfSearchBooksUser funcionality


            $("#topicDropDownWhileRead").change(function(){
            // alert(" Value of selected book title : "+this.value); 
            var topicNumber = this.value;

            // alert("book name is : "+bookName);
            var userName = username[1];
            var bookNameAndCategoryName = $("#bookTitleWhileRead").text();
            var bookName = bookNameAndCategoryName.split("(");
            var bookNameWithoutLabel = bookName[0].substring(11,bookName[0].length-1).trim();
            var categoryName = bookName[1].substring(11,bookName[1].length-1).trim();
            // alert("book name is ="+bookNameWithoutLabel+"=");
            // alert("category name is ="+categoryName+"=");


            var bookId = bookNameWithoutLabel+":"+topicNumber;

                    // rough work : "getBookDetailsByBookId/{username}/{category}/{bookId}"
                    $("#waitSymbol").show();
                    jQuery.ajax({
                        url: "http://localhost:8080/portal/portal/login/getBookDetailsByBookId/"+userName+"/"+categoryName+"/"+bookId,
                        dataType: 'text',
                        success: function(data){
                           
                            if(data.length>0){
                             var splittedData = data.split("&&**");
                             var receivedTopicFromDatabaseArray = splittedData[1];
                             var pageContent = splittedData[0];
                             var topicNameArray = receivedTopicFromDatabaseArray.split(":");
                             var topicName = topicNameArray[1];
                     $("#topicFetchedWhileRead").text("");
                     $("#topicFetchedWhileRead").text(" Topic Name : "+topicName);
                     // parsing page content to remove pre tags
                                var pageContetnsWithPreTage = pageContent.split("pre>");
                                var pageContentWithoutPre = pageContetnsWithPreTage[1];
                                var pageContetnsWithPreTageArray = pageContentWithoutPre.split("</");
                                var pageContentWithoutPreValue = pageContetnsWithPreTageArray[0];
                         $("#divTextAreaForRead").text(pageContentWithoutPreValue);
                         $("#waitSymbol").hide();
                         // $("#topicDropDown").val("1");
                         // $("#newBookId").val(bookTrimmedName);
                       }
                                       else{
                                            // alert("topic doesn't exist");
                                             $("#divTextAreaForRead").text(" No contents for this topic ! . It's empty .");
                                              $("#waitSymbol").hide();
                                              $("#topicFetchedWhileRead").text("");
                                             $("#topicFetchedWhileRead").text(" Topic Name : ");
                                           }

                    }   
                        });


      });         


 $("#loading").hide();


}); // endOfDocumentReadyMethod


</script>

<script>
// opening default tab and opening tab selectively on click


    var availableTags =  [
    ];
    var availableBookTags = [
    ];
    var variableToBeAccessedDuringScroll = "";

    var userNameForGuestCase = "";



    document.getElementById("buttonForTrendingId").click();
    // alert("one");
   
function openCity(evt, cityName) {

    if(cityName=="fullScreenDivForMyHome"){
     
       
      if(userNameForGuestCase=="guest"){
          $("#newBookButtonId").hide(); 
                           $("#newCategoryInputButtonId").hide();
                           $("#newCategoryInputId").hide();
      }
      
      $("#zones").show();
      $("#searchThinkers").hide();
       $("#searchBooks").hide();
        $("#logoutPlaceHolderThinkers").show();
      // $("registerPlaceHolder").show();



     
    }


   

// wallCoding
     if(cityName=="fullScreenDivForTrending"){


     


 $("#searchThinkers").hide();
        $("#searchBooks").hide();
        
        // commenting this for time now for wall development scroll feature
        var content =  $("#innerDivBooksBookLayoutTrendingWrapper").html();
       if(!(content.indexOf("divForImageFooter") > 0 )){
        
                     
// alert("came here");

 // $("#trending").focus();

                $("#leftDivBooksBookLayoutTrending").empty();
                 $("#innerDivBooksBookLayoutTrending").empty();
                 $("#rightDivBooksBookLayoutTrending").empty();



        //  jquery call to fetch the contents of the first book and handling it's display on the welcome page 
        $("#waitSymbol").show();
        $("#loadingWall").show();


                 displayThreeWayWall("#innerDivBooksBookLayoutTrendingWrapper","divForImage","divForImageLeft","divForImageRight","noWriter");
                           


                    $("#fullScreenDivForTrending").scroll(function() {
      
       if(($(this).scrollTop() + $(this).innerHeight()) >= ($(this)[0].scrollHeight)){

         var categoryVar = $("#hiddenDataFont").text().trim();
           // alert(categoryVar);

        if(categoryVar=='trending'){

            // $("#innerDivBooksBookLayoutTrendingWrapper").empty();
           
       
                  // $("#innerDivBooksBookLayoutTrendingWrapper").empty();
                 doitOne1("#innerDivBooksBookLayoutTrendingWrapper",categoryVar);
             

                  }    




       }


     });
          


    } // end of page load/tab case 

       
    } // end of trending case 

     if(cityName=="fullScreenDivForThinkers"){
      // alert("hello");
      $("#searchBooks").hide();
      $("#searchThinkers").show(10);
       $("#searchThinkers").val("Search thinkers..disabled");
       $("#registerPlaceHolderThinkers").hide();
      $("#logoutPlaceHolderThinkers").hide();
      $("#newCategoryInputIdThinkers").hide();
      $("#newCategoryInputButtonIdThinkers").hide();

      $("#divTextAreaThinkers").prop("readonly","true");
      $("#newBookIdThinkers").prop("disabled","true");
       $("#divTextAreaForReadThinkers").prop("readonly","true");
       $("#newTopicInputIdThinkers").prop("disabled","true");
        $("#newBookButtonIdThinkers").hide(); 
        $("#waitSymbolForThinkersTab").hide();
         $("#waitSymbolForWritersTab").hide();



             jQuery.ajax({
                        url: "http://localhost:8080/portal/portal/login/getAllUsers",
                        dataType: 'text',
                        async:false,
                        success: function(data){
                            // alert("came in the call back function"+data);
                           
                            data = data.substring(1,data.length);
                             // alert(" userList :  "+data);
                            var userListSplittedArray = data.split(",");

                            for(var i=0;i<userListSplittedArray.length;i++){
                              availableTags[i] = userListSplittedArray[i];
                              // alert("helloavtags : "+availableTags[i])
                            }
                            // alert("availableTags"+availableTags);


                            // $( function() {
                                 
                                $( "#searchWriters").autocomplete({
                                  minLength : 3,
                                  source: function(request, response) {
                                    // alert("hello::"+availableTags);
                                    var results = $.ui.autocomplete.filter(availableTags, request.term);

                                    response(results.slice(0, 15));
                                }
                                });
                              // } );



                    }   
                        }); 



                  $("#searchWriters").keypress(function(e) {
                 // $("#newCategoryInputId").val("");
                   e.stopImmediatePropagation();

                   $("#innerDivBooksBookLayoutTrendingWrapperForWriters").empty();
                    
                   if(e.which == 13) {
                    // $("#waitSymbolForWritersTab").show();
                    var writerNameEntered = $("#searchWriters").val();
                    // alert(writerNameEntered);
                    displayThreeWayWall("#innerDivBooksBookLayoutTrendingWrapperForWriters","divForImageReplica","divForImageLeftReplica","divForImageRightReplica",writerNameEntered);
                    // $("#waitSymbolForWritersTab").hide();
               }

             });
       




           
    }

     if(cityName=="fullScreenDivForBooks"){

      $("#searchThinkers").hide();
      $("#searchBooks").show(10);
      $("#searchBooks").val("Hit enter,search books");
      $("#registerPlaceHolderBooks").hide();
      $("#logoutPlaceHolderBooks").hide();
      $("#newCategoryInputIdBooks").hide();
      $("#newCategoryInputButtonIdBooks").hide();
      $("#divTextAreaBooks").prop("readonly","true");
      $("#newBookIdBooks").prop("disabled","true");
      $("#divTextAreaForReadBooks").prop("readonly","true");
      $("#newTopicInputIdBooks").prop("disabled","true");
      $("#newBookButtonIdBooks").hide(); 
      $("#paymentButton").hide();
      $("#purposeOfPaymentCodeId").hide();
      $("#agreementTextId").hide();
      $("#agreeId").hide();
      $("#waitSymbolForBooksTab").hide();


         jQuery.ajax({
                        url: "http://localhost:8080/portal/portal/login/getAllDistinctBooks",
                        dataType: 'text',
                        success: function(data){
                            // alert("came in the call back function"+data);
                           
                            data = data.substring(1,data.length);
                             // alert(" userList :  "+data);
                            var bookListSplittedArray = data.split(",");
                            for(var i=0;i<bookListSplittedArray.length;i++){
                              availableBookTags[i] = bookListSplittedArray[i];
                              // alert("hello : "+availableBookTags[i])
                            }

                             $("#searchBooks").autocomplete({
                             minLength : 3,
                            source: function(request, response) {
                              var results = $.ui.autocomplete.filter(availableBookTags, request.term);

                              response(results.slice(0, 15));
                          }
                          });


                    }   
                        }); 

           



       // history.pushState("thinkers", "book-title", "http://localhost:8080/portal/library/thinkers");

      // $("#registerPlaceHolder").hide();
    }

    var i, tabcontent, tablinks;
    tabcontent = document.getElementsByClassName("tabcontent");
    for (i = 0; i < tabcontent.length; i++) {
        tabcontent[i].style.display = "none";
    }
    tablinks = document.getElementsByClassName("tablinks");
    for (i = 0; i < tablinks.length; i++) {
       // alert("value of i is : "+i);
        tablinks[i].className = tablinks[i].className.replace(" active", "");
    }
    document.getElementById(cityName).style.display = "block";
    evt.currentTarget.className += " active";

     // $("#loading").hide();

}
// Get the element with id="defaultOpen" and click on it


// startOfBlueBooks




// endOfBlueBooks


 function displayThreeWayWall(passedDivHolderArea,divOne,divTwo,divThree,writerName){


    // alert(passedDivHolderArea+divOne+divTwo+divThree);
    // alert("writer name is :"+writerName+":");

     $("#waitSymbolForWritersTab").show();
     jQuery.ajax({
                        url: "http://localhost:8080/portal/portal/login/getBookDetailsListForWallInitialCentral/trending/"+writerName,
                        dataType: 'text',
                        success: function(data){
                          
                         

                               var bookParsedDataForLeftWall = data.split("book###Delimiter@@@");

                               var divNestedWrapper = " <div id='divNestedWrapper' style='left:5%;right:5%;position: absolute; background-color: #A0C5EA ;border-style:none; '> </div>";
                               // var divNewInnerDiv = "";

                              for(var i=0;i<bookParsedDataForLeftWall.length;i++){

                                // alert("first"+bookParsedData.length);

                                 var divForImage = "<div id='"+divOne+"' style='position:absolute;background-color:#fafafa;left:38%;right:38%; '> <div id='divForImageFooter' style='position:absolute;background-color:#A0C5EA ;left:20%;right:20%;top:90%;'></div> </div>";

                                
                                var bookData = bookParsedDataForLeftWall[i];


                                var dataSplitted = bookData.split("&&**");
                              // creation of first book Details 
                              var imageData = dataSplitted[0];
                                 
                            
                              var thinker = dataSplitted[2];
                              var book = dataSplitted[3];
                              var bookDisplay = book;

                         if(bookDisplay==undefined){
                          // alert("here");
                         }
                         else{
                          bookDisplay =  bookDisplay.replace(/_/g, ' ');
                         }
                              

                              // book =  book.val().replace(/_/g, ' ');
                               var bookName = " "+book ;
                                 var bookNameDisplay = " "+bookDisplay ;

                               var welcomeText = "'"+bookNameDisplay+"'";

                                var welcome = $("<span id='welcome'> <font size='4px'  class='bookDescriptionOnWallInner' color=\"black\"> "+welcomeText+"</font></span>")

                               var welcomeTextThinker = " written by - '"+thinker+"'";
                               var welcomeThinker = $("<span id='welcome'> <font size='4px' class='bookDescriptionOnWallInner'  color=\"black\"> "+welcomeTextThinker+"</font></span>")


                              var bookButton  = $("<button name=\'"+bookName+"\'>Read</button>");
                              bookButton.prop("class","buttonForBooks");
                              bookButton.click(function(event){
                                      
                                           var tempValue = event.target.name;
                                           var bookParsedValue = tempValue.split(" ");
                                           var bookvalue = bookParsedValue[1].trim();
                                          
                                         $("#buttonForBooksId").trigger("onclick");
                                         // alert( $(this).attr("value"));
                                             $("#searchBooks").val(tempValue.trim());
                                             // event variable having event category and specific properties 
                                             var e = $.Event( "keypress", { which: 13 } );
                                              $('#searchBooks').trigger(e);

                                            /*  var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[1].className = tablinks[1].className.replace(" active", "");*/
                                               var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[2].className += " active";
                              });


                              

                               if(window.devicePixelRatio==2){

         $(".bookDescriptionOnWallInner").prop("size","6px");
         $(".bookDescriptionOnWallInner").prop("weight","bold");
         $(".buttonForBooks").prop("style","font-size:25px;font-weight:bold;");

                               }

                             


                               var thinkerName = "THINKER NAME : "+thinker;
                              // var thinkerButton = $("<button name=\'"+thinkerName+"\'>"+thinkerName+" </button>");
                               var thinkerButton = $("<button name=\'"+thinkerName+"\'> </button>");
                              thinkerButton.prop("class","buttonForBooksWall");
                              thinkerButton.click(function(event){
                                       
                                              var tempValue = event.target.name;
                                              var thinkerParsedValue = tempValue.split(":");
                                              var thinkerValue  = thinkerParsedValue[1].trim();
                                             $("#buttonForThinkersId").trigger("onclick");
                                             $("#searchThinkers").val(thinkerValue);
                                             // event variable having event category and specific properties 
                                             var e = $.Event( "keypress", { which: 13 } );
                                              $('#searchThinkers').trigger(e);

                                            /*  var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[1].className = tablinks[1].className.replace(" active", "");*/
                                               var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[1].className += " active";
                                            
                              });

                              var thinkerButtonDummy = $("<button name=\'"+thinkerName+"\'> </button>");
                              thinkerButtonDummy.prop("class","buttonForBooksWall");
                              thinkerButtonDummy.click(function(event){
                                       
                                              var tempValue = event.target.name;
                                              var thinkerParsedValue = tempValue.split(":");
                                              var thinkerValue  = thinkerParsedValue[1].trim();
                                             $("#buttonForThinkersId").trigger("onclick");
                                             $("#searchThinkers").val(thinkerValue);
                                             // event variable having event category and specific properties 
                                             var e = $.Event( "keypress", { which: 13 } );
                                              $('#searchThinkers').trigger(e);

                                            /*  var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[1].className = tablinks[1].className.replace(" active", "");*/
                                               var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[1].className += " active";
                                               // alert("here");
                                            
                              });

                           

                               $("#"+divOne+"").append("<br>");
                               $("#"+divOne+"").append(welcome);
                                 imageData =  imageData.replace('style="height: 100%;', 'style="height: 300px;');
                             $("#"+divOne+"").append(imageData);
                                 $("#"+divOne+"").append(welcomeThinker);
                                   $("#"+divOne+"").append("<br>");
                                    $("#"+divOne+"").append("<br>");
                                 $("#"+divOne+"").append(bookButton);
                                 $("#"+divOne+"").append("<br>");
                                 $("#"+divOne+"").append("<br>");
                                  $("#"+divOne+"").append(thinkerButton);
                                   $("#"+divOne+"").append(thinkerButtonDummy);
                                   $("#"+divOne+"").append(thinkerButtonDummy);
                                   $("#"+divOne+"").append("<br>");
                                  $("#"+divOne+"").append("<br>");

                                   // $("#divNestedWrapper").append(divForImage);
                                    // var contents = $("#divNestedWrapper").html();

                                 $(passedDivHolderArea).append(divForImage);
                              

                              } // end of for 1st loop

                               $("#waitSymbol").hide();
                               $("#loadingWall").hide();
                               $("#waitSymbolForWritersTab").hide();


                                  if(window.devicePixelRatio==2){

         $("#bookDescriptionOnWall").prop("size","6px");
         $("#bookDescriptionOnWall").prop("weight","bold");
                               }


                             }

                           });

jQuery.ajax({
                        url: "http://localhost:8080/portal/portal/login/getBookDetailsListForWallInitialLeft/trending/"+writerName,
                        dataType: 'text',
                        success: function(data){

                            // var wallParsedData = data.split("wall###Delimiter@@@");

                              var bookParsedDataForInnerWall = data.split("book###Delimiter@@@");

                                 for(var i=0;i<bookParsedDataForInnerWall.length;i++){

                                // alert("first"+bookParsedData.length);

                                 var divForImageLeft = "<div id='"+divTwo+"' style='position:absolute;background-color:#fafafa;left:10%;right:65%;'> <div id='divForImageFooter' style='position:absolute;background-color:#A0C5EA ;left:20%;right:20%;top:90%;'></div> </div>";

                                


                          

                                var bookData = bookParsedDataForInnerWall[i];


                                var dataSplitted = bookData.split("&&**");
                              // creation of first book Details 
                              var imageData = dataSplitted[0];
                                 
                           
                              var thinker = dataSplitted[2];
                              var book = dataSplitted[3];

                               var bookDisplay = book;

                         if(bookDisplay==undefined){
                          // alert("here");
                         }
                         else{
                          bookDisplay =  bookDisplay.replace(/_/g, ' ');
                         }
                              

                              // book =  book.val().replace(/_/g, ' ');
                               var bookName = " "+book ;
                                 var bookNameDisplay = " "+bookDisplay ;

                               var welcomeText = "'"+bookNameDisplay+"'";
                           

                             
                               var welcome = $("<span id='welcome'> <font size='4px' class='bookDescriptionOnWallLeft'  color=\"black\"> "+welcomeText+"</font></span>")

                                  var welcomeTextThinker = " written by - '"+thinker+"'";
                               var welcomeThinker = $("<span id='welcome'> <font size='4px' class='bookDescriptionOnWallLeft'  color=\"black\"> "+welcomeTextThinker+"</font></span>")


                              var bookButton  = $("<button name=\'"+bookName+"\'> Read</button>");
                              bookButton.prop("class","buttonForBooks");
                              bookButton.click(function(event){
                                      
                                           var tempValue = event.target.name;
                                           var bookParsedValue = tempValue.split(" ");
                                           var bookvalue = bookParsedValue[1].trim();
                                           // alert(event.target.id);
                                           // alert($("$this"))
                                         $("#buttonForBooksId").trigger("onclick");
                                         // alert( $(this).attr("value"));
                                              $("#searchBooks").val(tempValue.trim());
                                             // event variable having event category and specific properties 
                                             var e = $.Event( "keypress", { which: 13 } );
                                              $('#searchBooks').trigger(e);

                                           
                                               var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[2].className += " active";
                              });


                             
                              if(window.devicePixelRatio==2){

         $(".bookDescriptionOnWallLeft").prop("size","6px");
         $(".bookDescriptionOnWallLeft").prop("weight","bold");
         $(".buttonForBooks").prop("style","font-size:25px;font-weight:bold;");

                               }


                              var thinkerName = "THINKER NAME : "+thinker;
                              // var thinkerButton = $("<button name=\'"+thinkerName+"\'>"+thinkerName+" </button>");
                               var thinkerButton = $("<button name=\'"+thinkerName+"\'> </button>");
                              thinkerButton.prop("class","buttonForBooksWall");
                              thinkerButton.click(function(event){
                                       
                                              var tempValue = event.target.name;
                                              var thinkerParsedValue = tempValue.split(":");
                                              var thinkerValue  = thinkerParsedValue[1].trim();
                                             $("#buttonForThinkersId").trigger("onclick");
                                             $("#searchThinkers").val(thinkerValue);
                                             // event variable having event category and specific properties 
                                             var e = $.Event( "keypress", { which: 13 } );
                                              $('#searchThinkers').trigger(e);

                                          
                                               var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[1].className += " active";
                                            
                              });

                              var thinkerButtonDummy = $("<button name=\'"+thinkerName+"\'> </button>");
                              thinkerButtonDummy.prop("class","buttonForBooksWall");
                              thinkerButtonDummy.click(function(event){
                                       
                                              var tempValue = event.target.name;
                                              var thinkerParsedValue = tempValue.split(":");
                                              var thinkerValue  = thinkerParsedValue[1].trim();
                                             $("#buttonForThinkersId").trigger("onclick");
                                             $("#searchThinkers").val(thinkerValue);
                                             // event variable having event category and specific properties 
                                             var e = $.Event( "keypress", { which: 13 } );
                                              $('#searchThinkers').trigger(e);

                                          
                                               var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[1].className += " active";
                                            
                              });

                           

                                $("#"+divTwo+"").append("<br>");
                               $("#"+divTwo+"").append(welcome);
                                 imageData =  imageData.replace('style="height: 100%;', 'style="height: 300px;');
                               $("#"+divTwo+"").append(imageData);
                                  $("#"+divTwo+"").append(welcomeThinker);
                                 $("#"+divTwo+"").append("<br>");
                                   $("#"+divTwo+"").append("<br>");
                               $("#"+divTwo+"").append(bookButton);
                              $("#"+divTwo+"").append("<br>");
                                  $("#"+divTwo+"").append("<br>");
                                  $("#"+divTwo+"").append(thinkerButton);
                                  $("#"+divTwo+"").append(thinkerButtonDummy);
                                   $("#"+divTwo+"").append(thinkerButtonDummy);
                                  $("#"+divTwo+"").append("<br>");
                                   $("#"+divTwo+"").append("<br>");

                                 $(passedDivHolderArea).append(divForImageLeft);
                                   

                              } // end of for 2nd loop


                                 if(window.devicePixelRatio==2){

         $("#bookDescriptionOnWall").prop("size","6px");
         $("#bookDescriptionOnWall").prop("weight","bold");
                               }

                            }

                          });


jQuery.ajax({
                        url: "http://localhost:8080/portal/portal/login/getBookDetailsListForWallInitialRight/trending/"+writerName,
                        dataType: 'text',
                        success: function(data){

                            // var wallParsedData = data.split("wall###Delimiter@@@");


                               var bookParsedDataForRightWall = data.split("book###Delimiter@@@");
                              // start of third loop

                               for(var i=0;i<bookParsedDataForRightWall.length;i++){

                                // alert("first"+bookParsedData.length);

                                 var divForImageRight = "<div id='"+divThree+"' style='position:absolute;background-color:#fafafa;left:65%;right:10%;'> <div id='divForImageFooter' style='position:absolute;background-color:#A0C5EA ;left:20%;right:20%;top:90%;'></div> </div>";

                                


                              
                               

                                var bookData = bookParsedDataForRightWall[i];


                                var dataSplitted = bookData.split("&&**");
                              // creation of first book Details 
                              var imageData = dataSplitted[0];
                                 
                           
                              var thinker = dataSplitted[2];
                              var book = dataSplitted[3];

                               var bookDisplay = book;

                         if(bookDisplay==undefined){
                          // alert("here");
                         }
                         else{
                          bookDisplay =  bookDisplay.replace(/_/g, ' ');
                         }
                              

                              // book =  book.val().replace(/_/g, ' ');
                               var bookName = " "+book ;
                                 var bookNameDisplay = " "+bookDisplay ;

                               var welcomeText = "'"+bookNameDisplay+"'";
                             
                             
                              
                              
                               var welcome = $("<span id='welcome'> <font size='4px' class='bookDescriptionOnWall'  color=\"black\"> "+welcomeText+"</font></span>")

                                 var welcomeTextThinker = " written by - '"+thinker+"'";
                               var welcomeThinker = $("<span id='welcome'> <font size='4px' class='bookDescriptionOnWall'  color=\"black\"> "+welcomeTextThinker+"</font></span>")


                              var bookButton  = $("<button name=\'"+bookName+"\'> Read</button>");
                              bookButton.prop("class","buttonForBooks");
                               // bookButton.prop("class","bookDescriptionOnWall");
                              bookButton.click(function(event){
                                      
                                           var tempValue = event.target.name;
                                           var bookParsedValue = tempValue.split(" ");
                                           var bookvalue = bookParsedValue[1].trim();
                                           // alert(event.target.id);
                                           // alert($("$this"))
                                         $("#buttonForBooksId").trigger("onclick");
                                         // alert( $(this).attr("value"));
                                              $("#searchBooks").val(tempValue.trim());
                                             // event variable having event category and specific properties 
                                             var e = $.Event( "keypress", { which: 13 } );
                                              $('#searchBooks').trigger(e);

                                        
                                               var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[2].className += " active";
                              });


                                

                                if(window.devicePixelRatio==2){

         $(".bookDescriptionOnWall").prop("size","6px");
         $(".bookDescriptionOnWall").prop("weight","bold");
         $(".buttonForBooks").prop("style","font-size:25px;font-weight:bold;");

                               }


                             


                              var thinkerName = "THINKER NAME : "+thinker;
                              // var thinkerButton = $("<button name=\'"+thinkerName+"\'>"+thinkerName+" </button>");
                               var thinkerButton = $("<button name=\'"+thinkerName+"\'> </button>");
                              thinkerButton.prop("class","buttonForBooksWall");
                              thinkerButton.click(function(event){
                                       
                                              var tempValue = event.target.name;
                                              var thinkerParsedValue = tempValue.split(":");
                                              var thinkerValue  = thinkerParsedValue[1].trim();
                                             $("#buttonForThinkersId").trigger("onclick");
                                             $("#searchThinkers").val(thinkerValue);
                                             // event variable having event category and specific properties 
                                             var e = $.Event( "keypress", { which: 13 } );
                                              $('#searchThinkers').trigger(e);

                                           
                                               var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[1].className += " active";
                                            
                              });

                              var thinkerButtonDummy = $("<button name=\'"+thinkerName+"\'> </button>");
                              thinkerButtonDummy.prop("class","buttonForBooksWall");
                              thinkerButtonDummy.click(function(event){
                                       
                                              var tempValue = event.target.name;
                                              var thinkerParsedValue = tempValue.split(":");
                                              var thinkerValue  = thinkerParsedValue[1].trim();
                                             $("#buttonForThinkersId").trigger("onclick");
                                             $("#searchThinkers").val(thinkerValue);
                                             // event variable having event category and specific properties 
                                             var e = $.Event( "keypress", { which: 13 } );
                                              $('#searchThinkers').trigger(e);

                                          
                                               var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[1].className += " active";
                                            
                              });

                           

                               $("#"+divThree+"").append("<br>");
                              $("#"+divThree+"").append(welcome);

                               
                                 imageData =  imageData.replace('style="height: 100%;', 'style="height: 300px;');
                              $("#"+divThree+"").append(imageData);
                               // $("#divForImageRight").append("<br>");
                                 $("#"+divThree+"").append(welcomeThinker);
                                 $("#"+divThree+"").append("<br>");
                                   $("#"+divThree+"").append("<br>");
                                $("#"+divThree+"").append(bookButton);
                                 $("#"+divThree+"").append("<br>");
                                   $("#"+divThree+"").append("<br>");
                                  $("#"+divThree+"").append(thinkerButton);
                                   $("#"+divThree+"").append(thinkerButtonDummy);
                                    $("#"+divThree+"").append(thinkerButtonDummy);
                                    $("#"+divThree+"").append("<br>");
                                    $("#"+divThree+"").append("<br>");

                                 $(passedDivHolderArea).append(divForImageRight);

                              } // end of for 3rd loop


                              // end of third loop




                        

                        /*    $("#waitSymbol").hide();
                           $("#loadingWall").hide();*/

                             if(window.devicePixelRatio==2){

         $("#bookDescriptionOnWall").prop("size","6px");
         $("#bookDescriptionOnWall").prop("weight","bold");
                               }

                                }   // end of success

                        }); // end of ajax call request 







  }





function doitOne1(passedVariable,categoryVariable){

  // alert("in doitOne1"+passedVariable+":"+categoryVariable);


     $("#waitSymbol").show();
                               jQuery.ajax({
                        url: "http://localhost:8080/portal/portal/login/getBookDetailsListForWallScrollLeft/"+categoryVariable,
                        dataType: 'text',
                        success: function(data){
                          
                       // alert(data.length);

                             var bookParsedDataForInnerWall = data.split("book###Delimiter@@@");

                                 for(var i=1;i<bookParsedDataForInnerWall.length;i++){


                                  // alert(i);
                                // alert("first"+bookParsedData.length);

                                 var divForImageLeft = "<div id='divForImageLeft' style='position:absolute;background-color:#fafafa;left:.01%;right:70%;text-align:center'> <div id='divForImageFooter' style='position:absolute;background-color:#A0C5EA ;left:40%;top:90%;text-align:center'></div> </div>";

                                


                          

                                var bookData = bookParsedDataForInnerWall[i];


                                var dataSplitted = bookData.split("&&**");
                              // creation of first book Details 
                              var imageData = dataSplitted[0];
                                 
                           
                              var thinker = dataSplitted[2];
                              var book = dataSplitted[3];

                               var bookDisplay = book;

                         if(bookDisplay==undefined){
                          // alert("here");
                         }
                         else{
                          bookDisplay =  bookDisplay.replace(/_/g, ' ');
                         }
                              

                              // book =  book.val().replace(/_/g, ' ');
                               var bookName = " "+book ;
                                 var bookNameDisplay = " "+bookDisplay ;

                               var welcomeText = "'"+bookNameDisplay+"'";
                           

                             
                               var welcome = $("<span id='welcome'> <font size='4px' class='bookDescriptionOnWallLeft'  color=\"black\"> "+welcomeText+"</font></span>")

                                  var welcomeTextThinker = " written by - '"+thinker+"'";
                               var welcomeThinker = $("<span id='welcome'> <font size='4px' class='bookDescriptionOnWallLeft'  color=\"black\"> "+welcomeTextThinker+"</font></span>")




                              var bookButton  = $("<button name=\'"+bookName+"\'> Read</button>");
                              bookButton.prop("class","buttonForBooks");
                              bookButton.click(function(event){
                                      
                                           var tempValue = event.target.name;
                                           var bookParsedValue = tempValue.split(" ");
                                           var bookvalue = bookParsedValue[1].trim();
                                           // alert(event.target.id);
                                           // alert($("$this"))
                                         $("#buttonForBooksId").trigger("onclick");
                                         // alert( $(this).attr("value"));
                                             $("#searchBooks").val(tempValue.trim());
                                             // event variable having event category and specific properties 
                                             var e = $.Event( "keypress", { which: 13 } );
                                              $('#searchBooks').trigger(e);

                                           
                                               var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[2].className += " active";
                              });

                          

                           if(window.devicePixelRatio==2){

         $(".bookDescriptionOnWallLeft").prop("size","6px");
         $(".bookDescriptionOnWallLeft").prop("weight","bold");
         $(".buttonForBooks").prop("style","font-size:25px;font-weight:bold;");

                               }


                              var thinkerName = "THINKER NAME : "+thinker;
                              // var thinkerButton = $("<button name=\'"+thinkerName+"\'>"+thinkerName+" </button>");
                               var thinkerButton = $("<button name=\'"+thinkerName+"\'> </button>");
                              thinkerButton.prop("class","buttonForBooksWall");
                              thinkerButton.click(function(event){
                                       
                                              var tempValue = event.target.name;
                                              var thinkerParsedValue = tempValue.split(":");
                                              var thinkerValue  = thinkerParsedValue[1].trim();
                                             $("#buttonForThinkersId").trigger("onclick");
                                             $("#searchThinkers").val(thinkerValue);
                                             // event variable having event category and specific properties 
                                             var e = $.Event( "keypress", { which: 13 } );
                                              $('#searchThinkers').trigger(e);

                                          
                                               var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[1].className += " active";
                                            
                              });

                              var thinkerButtonDummy = $("<button name=\'"+thinkerName+"\'> </button>");
                              thinkerButtonDummy.prop("class","buttonForBooksWall");
                              thinkerButtonDummy.click(function(event){
                                       
                                              var tempValue = event.target.name;
                                              var thinkerParsedValue = tempValue.split(":");
                                              var thinkerValue  = thinkerParsedValue[1].trim();
                                             $("#buttonForThinkersId").trigger("onclick");
                                             $("#searchThinkers").val(thinkerValue);
                                             // event variable having event category and specific properties 
                                             var e = $.Event( "keypress", { which: 13 } );
                                              $('#searchThinkers').trigger(e);

                                          
                                               var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[1].className += " active";
                                            
                              });

                           // alert(welcome+welcomeThinker);
                           // alert(imageData);

                               $("#divForImageLeft").append("<br>");
                              $("#divForImageLeft").append(welcome);
                                 imageData =  imageData.replace('style="height: 100%;', 'style="height: 300px;');
                              $("#divForImageLeft").append(imageData);
                                 $("#divForImageLeft").append(welcomeThinker);
                                  $("#divForImageLeft").append("<br>");
                                   $("#divForImageLeft").append("<br>");
                                $("#divForImageLeft").append(bookButton);
                              $("#divForImageLeft").append("<br>");
                                  $("#divForImageLeft").append("<br>");
                                  $("#divForImageLeft").append(thinkerButton);
                                   $("#divForImageLeft").append(thinkerButtonDummy);
                                   $("#divForImageLeft").append(thinkerButtonDummy);
                                   $("#divForImageLeft").append("<br>");
                                    // $("#divForImageLeft").append("<br>");


                                  // $("#divTextArea").append("<br>");
                                  $(passedVariable).append(divForImageLeft);
                                   

                              }

                              $("#waitSymbol").hide();
                            }

                          });

                            // endOfScrollLeft



                            // startOfSCrollRight

                            $("#waitSymbol").show();

                             jQuery.ajax({
                        url: "http://localhost:8080/portal/portal/login/getBookDetailsListForWallScrollRight/"+categoryVariable,
                        dataType: 'text',
                        success: function(data){
                          

                                var bookParsedDataForRightWall = data.split("book###Delimiter@@@");
                              // start of third loop

                               for(var i=1;i<bookParsedDataForRightWall.length;i++){

                                // alert("first"+bookParsedData.length);

                                 var divForImageRight = "<div id='divForImageRight' style='position:absolute;background-color:#fafafa;left:70%;right:.01%;text-align:center'> <div id='divForImageFooter' style='position:absolute;background-color:#A0C5EA ;left:40%;right:20%;top:90%;'></div> </div>";

                                
                               

                                var bookData = bookParsedDataForRightWall[i];


                                var dataSplitted = bookData.split("&&**");
                              // creation of first book Details 
                              var imageData = dataSplitted[0];
                                 
                           
                              var thinker = dataSplitted[2];
                              var book = dataSplitted[3];

                               var bookDisplay = book;

                         if(bookDisplay==undefined){
                          // alert("here");
                         }
                         else{
                          bookDisplay =  bookDisplay.replace(/_/g, ' ');
                         }
                              

                              // book =  book.val().replace(/_/g, ' ');
                               var bookName = " "+book ;
                                 var bookNameDisplay = " "+bookDisplay ;

                               var welcomeText = "'"+bookNameDisplay+"'";
                             
                             
                              
                              
                               var welcome = $("<span id='welcome'> <font size='4px' class='bookDescriptionOnWall'  color=\"black\"> "+welcomeText+"</font></span>")

                                 var welcomeTextThinker = " written by - '"+thinker+"'";
                               var welcomeThinker = $("<span id='welcome'> <font size='4px' class='bookDescriptionOnWall'  color=\"black\"> "+welcomeTextThinker+"</font></span>")


                              var bookButton  = $("<button name=\'"+bookName+"\'> Read</button>");
                              bookButton.prop("class","buttonForBooks");
                               // bookButton.prop("class","bookDescriptionOnWall");
                              bookButton.click(function(event){
                                      
                                           var tempValue = event.target.name;
                                           var bookParsedValue = tempValue.split(" ");
                                           var bookvalue = bookParsedValue[1].trim();
                                           // alert(event.target.id);
                                           // alert($("$this"))
                                         $("#buttonForBooksId").trigger("onclick");
                                         // alert( $(this).attr("value"));
                                            $("#searchBooks").val(tempValue.trim());
                                             // event variable having event category and specific properties 
                                             var e = $.Event( "keypress", { which: 13 } );
                                              $('#searchBooks').trigger(e);

                                        
                                               var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[2].className += " active";
                              });


                               

                                if(window.devicePixelRatio==2){

         $(".bookDescriptionOnWall").prop("size","6px");
         $(".bookDescriptionOnWall").prop("weight","bold");
         $(".buttonForBooks").prop("style","font-size:25px;font-weight:bold;");

                               }


                             


                              var thinkerName = "THINKER NAME : "+thinker;
                              // var thinkerButton = $("<button name=\'"+thinkerName+"\'>"+thinkerName+" </button>");
                               var thinkerButton = $("<button name=\'"+thinkerName+"\'> </button>");
                              thinkerButton.prop("class","buttonForBooksWall");
                              thinkerButton.click(function(event){
                                       
                                              var tempValue = event.target.name;
                                              var thinkerParsedValue = tempValue.split(":");
                                              var thinkerValue  = thinkerParsedValue[1].trim();
                                             $("#buttonForThinkersId").trigger("onclick");
                                             $("#searchThinkers").val(thinkerValue);
                                             // event variable having event category and specific properties 
                                             var e = $.Event( "keypress", { which: 13 } );
                                              $('#searchThinkers').trigger(e);

                                           
                                               var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[1].className += " active";
                                            
                              });

                              var thinkerButtonDummy = $("<button name=\'"+thinkerName+"\'> </button>");
                              thinkerButtonDummy.prop("class","buttonForBooksWall");
                              thinkerButtonDummy.click(function(event){
                                       
                                              var tempValue = event.target.name;
                                              var thinkerParsedValue = tempValue.split(":");
                                              var thinkerValue  = thinkerParsedValue[1].trim();
                                             $("#buttonForThinkersId").trigger("onclick");
                                             $("#searchThinkers").val(thinkerValue);
                                             // event variable having event category and specific properties 
                                             var e = $.Event( "keypress", { which: 13 } );
                                              $('#searchThinkers').trigger(e);

                                          
                                               var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[1].className += " active";
                                            
                              });

                           

                               $("#divForImageRight").append("<br>");
                              $("#divForImageRight").append(welcome);

                               
                                 imageData =  imageData.replace('style="height: 100%;', 'style="height: 300px;');
                              $("#divForImageRight").append(imageData);
                               // $("#divForImageRight").append("<br>");
                                $("#divForImageRight").append(welcomeThinker);
                                 $("#divForImageRight").append("<br>");
                                   $("#divForImageRight").append("<br>");
                                $("#divForImageRight").append(bookButton);
                                 $("#divForImageRight").append("<br>");
                                  $("#divForImageRight").append("<br>");
                                  $("#divForImageRight").append(thinkerButton);
                                   $("#divForImageRight").append(thinkerButtonDummy);
                                   $("#divForImageRight").append(thinkerButtonDummy);
                                   $("#divForImageRight").append("<br>");
                                    // $("#divForImageRight").append("<br>");

                                  $(passedVariable).append(divForImageRight);

                              } // end of for 3rd loop

                              $("#waitSymbol").hide();

                            }

                          });


                            jQuery.ajax({
                        url: "http://localhost:8080/portal/portal/login/getBookDetailsListForWallScrollCentral/"+categoryVariable,
                        dataType: 'text',
                        success: function(data){

                     
                           

                               var bookParsedDataForLeftWall =data.split("book###Delimiter@@@");

                               var divNestedWrapper = " <div id='divNestedWrapper' style='left:5%;right:5%;position: absolute; background-color: #A0C5EA ;border-style:none; '> </div>";
                               // var divNewInnerDiv = "";

                              for(var i=1;i<bookParsedDataForLeftWall.length;i++){

                                // alert("first"+bookParsedData.length);

                                // alert(i);

                                 var divForImage = "<div id='divForImage' style='position:absolute;background-color:#fafafa;left:35%;right:35%;text-align:center '> <div id='divForImageFooter' style='position:absolute;background-color:#A0C5EA ;left:40%;right:20%;top:90%;'></div> </div>";

                                

                                var bookData = bookParsedDataForLeftWall[i];


                                var dataSplitted = bookData.split("&&**");
                              // creation of first book Details 
                              var imageData = dataSplitted[0];
                                 
                           
                              var thinker = dataSplitted[2];
                              var book = dataSplitted[3];
                              var bookDisplay = book;

                         if(bookDisplay==undefined){
                          // alert("here");
                         }
                         else{
                          bookDisplay =  bookDisplay.replace(/_/g, ' ');
                         }
                              

                              // book =  book.val().replace(/_/g, ' ');
                               var bookName = " "+book ;
                                 var bookNameDisplay = " "+bookDisplay ;

                               var welcomeText = "'"+bookNameDisplay+"'";

                                var welcome = $("<span id='welcome'> <font  size='4px' class='bookDescriptionOnWallInner' color=\"black\"> "+welcomeText+"</font></span>")

                               var welcomeTextThinker = " written by - '"+thinker+"'";
                               var welcomeThinker = $("<span id='welcome'> <font  size='4px' class='bookDescriptionOnWallInner'  color=\"black\"> "+welcomeTextThinker+"</font></span>")


                              var bookButton  = $("<button name=\'"+bookName+"\'>Read</button>");
                              bookButton.prop("class","buttonForBooks");
                              bookButton.click(function(event){
                                      
                                           var tempValue = event.target.name;
                                           var bookParsedValue = tempValue.split(" ");
                                           var bookvalue = bookParsedValue[1].trim();
                                           // alert(":"+tempValue+":");
                                           var bookValue = tempValue;
                                           // alert(event.target.id);
                                           // alert($("$this"))
                                         $("#buttonForBooksId").trigger("onclick");
                                         // alert( $(this).attr("value"));
                                              $("#searchBooks").val(tempValue.trim());
                                             // event variable having event category and specific properties 
                                             var e = $.Event( "keypress", { which: 13 } );
                                              $('#searchBooks').trigger(e);

                                            /*  var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[1].className = tablinks[1].className.replace(" active", "");*/
                                               var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[2].className += " active";
                              });


                               

                               if(window.devicePixelRatio==2){

         $(".bookDescriptionOnWallInner").prop("size","6px");
         $(".bookDescriptionOnWallInner").prop("weight","bold");
         $(".buttonForBooks").prop("style","font-size:25px;font-weight:bold;");

                               }

                             


                               var thinkerName = "THINKER NAME : "+thinker;
                              // var thinkerButton = $("<button name=\'"+thinkerName+"\'>"+thinkerName+" </button>");
                               var thinkerButton = $("<button name=\'"+thinkerName+"\'> </button>");
                              thinkerButton.prop("class","buttonForBooksWall");
                              thinkerButton.click(function(event){
                                       
                                              var tempValue = event.target.name;
                                              var thinkerParsedValue = tempValue.split(":");
                                              var thinkerValue  = thinkerParsedValue[1].trim();
                                             $("#buttonForThinkersId").trigger("onclick");
                                             $("#searchThinkers").val(thinkerValue);
                                             // event variable having event category and specific properties 
                                             var e = $.Event( "keypress", { which: 13 } );
                                              $('#searchThinkers').trigger(e);

                                            /*  var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[1].className = tablinks[1].className.replace(" active", "");*/
                                               var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[1].className += " active";
                                            
                              });

                              var thinkerButtonDummy = $("<button name=\'"+thinkerName+"\'> </button>");
                              thinkerButtonDummy.prop("class","buttonForBooksWall");
                              thinkerButtonDummy.click(function(event){
                                       
                                              var tempValue = event.target.name;
                                              var thinkerParsedValue = tempValue.split(":");
                                              var thinkerValue  = thinkerParsedValue[1].trim();
                                             $("#buttonForThinkersId").trigger("onclick");
                                             $("#searchThinkers").val(thinkerValue);
                                             // event variable having event category and specific properties 
                                             var e = $.Event( "keypress", { which: 13 } );
                                              $('#searchThinkers').trigger(e);

                                            /*  var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[1].className = tablinks[1].className.replace(" active", "");*/
                                               var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[1].className += " active";
                                            
                              });

                           

                               $("#divForImage").append("<br>");
                              $("#divForImage").append(welcome);

                             
                              imageData =  imageData.replace('style="height: 100%;', 'style="height: 300px;');
                               // alert(imageData);
                              $("#divForImage").append(imageData);
                                $("#divForImage").append(welcomeThinker);
                                  // $("#divForImage").append("&nbsp&nbsp&nbsp");
                                   $("#divForImage").append("<br>");
                                   $("#divForImage").append("<br>");
                                $("#divForImage").append(bookButton);
                                 $("#divForImage").append("<br>");
                                  $("#divForImage").append("<br>");

                                  $("#divForImage").append(thinkerButton);
                                   $("#divForImage").append(thinkerButtonDummy);
                                   $("#divForImage").append(thinkerButtonDummy);
                                   // $("#divForImage").append("<br>");
                                    $("#divForImage").append("<br>");

                                    // alert($("#divForImage").html());

                                   // $("#divNestedWrapper").append(divForImage);
                                    // var contents = $("#divNestedWrapper").html();

                                 $(passedVariable).append(divForImage);
                              

                              } 
                              // $("#waitSymbol").hide();
                            }

                          });

    

                                            //checkBookSug
}





</script>




<script>




function doit(userName,categoryName,bookTrimmedName,topicNumber){
  // alert("here"+userName);

     jQuery.ajax({
                            url: "http://localhost:8080/portal/portal/login/getBookDetailsByBookId/"+userName+"/"+categoryName+"/"+bookTrimmedName+":"+topicNumber,
                            dataType: 'text',
                            success: function(data){
                               if(data.length==0){
                                // alert("hello now scrolll after first two chapters");

                                // $("#divTextArea").append("<br>");
                                     // startOfScrollLeft
                                     doitOne2("#divTextArea");

                                     // $("#divTextArea").append("hello how are you ?");
                         
                                           

                               }


                                 var dataToBeRendered = data.split("&&**");
                              // alert(dataToBeRendered[0]);
                                    var pageContetnsWithPreTage = dataToBeRendered[0].split("pre>");
                                    var pageContentWithoutPre = pageContetnsWithPreTage[1];
                                    var pageContetnsWithPreTageArray = pageContentWithoutPre.split("</");
                                    var pageContentWithoutPreValue = pageContetnsWithPreTageArray[0];
                            
                                $("#divTextArea").append("<br>")
                                  $("#divTextArea").append("<br>")
                                    $("#divTextArea").append("<br>")
                                      $("#divTextArea").append("CHAPTER : "+topicNumber+"  ! ")
                                       $("#divTextArea").append("<br>")
                                  $("#divTextArea").append("<br>")
                                    $("#divTextArea").append("<br>")
                               $("#divTextArea").append(pageContentWithoutPreValue);

                                // alert(data.length);


                            }

                          });


}


function doitOne(passedVariable){


     $("#waitSymbol").show();
                               jQuery.ajax({
                        url: "http://localhost:8080/portal/portal/login/getBookDetailsListForWallScrollLeft/"+"trending",
                        dataType: 'text',
                        success: function(data){
                          
                       // alert(data.length);

                             var bookParsedDataForInnerWall = data.split("book###Delimiter@@@");

                                 for(var i=1;i<bookParsedDataForInnerWall.length;i++){


                                  // alert(i);
                                // alert("first"+bookParsedData.length);

                                 var divForImageLeft = "<div id='divForImageLeft' style='position:absolute;background-color:#fafafa;left:.01%;right:70%;text-align:center'> <div id='divForImageFooter' style='position:absolute;background-color:#A0C5EA ;left:40%;top:90%;text-align:center'></div> </div>";

                                


                          

                                var bookData = bookParsedDataForInnerWall[i];


                                var dataSplitted = bookData.split("&&**");
                              // creation of first book Details 
                              var imageData = dataSplitted[0];
                                 
                           
                              var thinker = dataSplitted[2];
                              var book = dataSplitted[3];

                               var bookDisplay = book;

                         if(bookDisplay==undefined){
                          // alert("here");
                         }
                         else{
                          bookDisplay =  bookDisplay.replace(/_/g, ' ');
                         }
                              

                              // book =  book.val().replace(/_/g, ' ');
                               var bookName = " "+book ;
                                 var bookNameDisplay = " "+bookDisplay ;

                               var welcomeText = "'"+bookNameDisplay+"'";
                           

                             
                               var welcome = $("<span id='welcome'> <font size='4px' class='bookDescriptionOnWallLeft'  color=\"black\"> "+welcomeText+"</font></span>")

                                  var welcomeTextThinker = " written by - '"+thinker+"'";
                               var welcomeThinker = $("<span id='welcome'> <font size='4px' class='bookDescriptionOnWallLeft'  color=\"black\"> "+welcomeTextThinker+"</font></span>")




                              var bookButton  = $("<button name=\'"+bookName+"\'> Read</button>");
                              bookButton.prop("class","buttonForBooks");
                              bookButton.click(function(event){
                                      
                                           var tempValue = event.target.name;
                                           var bookParsedValue = tempValue.split(" ");
                                           var bookvalue = bookParsedValue[1].trim();
                                           // alert(event.target.id);
                                           // alert($("$this"))
                                         $("#buttonForBooksId").trigger("onclick");
                                         // alert( $(this).attr("value"));
                                             $("#searchBooks").val(tempValue.trim());
                                             // event variable having event category and specific properties 
                                             var e = $.Event( "keypress", { which: 13 } );
                                              $('#searchBooks').trigger(e);

                                           
                                               var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[2].className += " active";
                              });

                          

                           if(window.devicePixelRatio==2){

         $(".bookDescriptionOnWallLeft").prop("size","6px");
         $(".bookDescriptionOnWallLeft").prop("weight","bold");
         $(".buttonForBooks").prop("style","font-size:25px;font-weight:bold;");

                               }


                              var thinkerName = "THINKER NAME : "+thinker;
                              // var thinkerButton = $("<button name=\'"+thinkerName+"\'>"+thinkerName+" </button>");
                               var thinkerButton = $("<button name=\'"+thinkerName+"\'> </button>");
                              thinkerButton.prop("class","buttonForBooksWall");
                              thinkerButton.click(function(event){
                                       
                                              var tempValue = event.target.name;
                                              var thinkerParsedValue = tempValue.split(":");
                                              var thinkerValue  = thinkerParsedValue[1].trim();
                                             $("#buttonForThinkersId").trigger("onclick");
                                             $("#searchThinkers").val(thinkerValue);
                                             // event variable having event category and specific properties 
                                             var e = $.Event( "keypress", { which: 13 } );
                                              $('#searchThinkers').trigger(e);

                                          
                                               var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[1].className += " active";
                                            
                              });

                              var thinkerButtonDummy = $("<button name=\'"+thinkerName+"\'> </button>");
                              thinkerButtonDummy.prop("class","buttonForBooksWall");
                              thinkerButtonDummy.click(function(event){
                                       
                                              var tempValue = event.target.name;
                                              var thinkerParsedValue = tempValue.split(":");
                                              var thinkerValue  = thinkerParsedValue[1].trim();
                                             $("#buttonForThinkersId").trigger("onclick");
                                             $("#searchThinkers").val(thinkerValue);
                                             // event variable having event category and specific properties 
                                             var e = $.Event( "keypress", { which: 13 } );
                                              $('#searchThinkers').trigger(e);

                                          
                                               var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[1].className += " active";
                                            
                              });

                           // alert(welcome+welcomeThinker);
                           // alert(imageData);

                               $("#divForImageLeft").append("<br>");
                              $("#divForImageLeft").append(welcome);
                                 imageData =  imageData.replace('style="height: 100%;', 'style="height: 300px;');
                              $("#divForImageLeft").append(imageData);
                                 $("#divForImageLeft").append(welcomeThinker);
                                  $("#divForImageLeft").append("<br>");
                                   $("#divForImageLeft").append("<br>");
                                $("#divForImageLeft").append(bookButton);
                              $("#divForImageLeft").append("<br>");
                                  $("#divForImageLeft").append("<br>");
                                  $("#divForImageLeft").append(thinkerButton);
                                   $("#divForImageLeft").append(thinkerButtonDummy);
                                   $("#divForImageLeft").append(thinkerButtonDummy);
                                   $("#divForImageLeft").append("<br>");
                                    // $("#divForImageLeft").append("<br>");


                                  // $("#divTextArea").append("<br>");
                                  $(passedVariable).append(divForImageLeft);
                                   

                              }

                              $("#waitSymbol").hide();
                            }

                          });

                            // endOfScrollLeft



                            // startOfSCrollRight

                            $("#waitSymbol").show();

                             jQuery.ajax({
                        url: "http://localhost:8080/portal/portal/login/getBookDetailsListForWallScrollRight/"+"trending",
                        dataType: 'text',
                        success: function(data){
                          

                                var bookParsedDataForRightWall = data.split("book###Delimiter@@@");
                              // start of third loop

                               for(var i=1;i<bookParsedDataForRightWall.length;i++){

                                // alert("first"+bookParsedData.length);

                                 var divForImageRight = "<div id='divForImageRight' style='position:absolute;background-color:#fafafa;left:70%;right:.01%;text-align:center'> <div id='divForImageFooter' style='position:absolute;background-color:#A0C5EA ;left:40%;right:20%;top:90%;'></div> </div>";

                                
                               

                                var bookData = bookParsedDataForRightWall[i];


                                var dataSplitted = bookData.split("&&**");
                              // creation of first book Details 
                              var imageData = dataSplitted[0];
                                 
                           
                              var thinker = dataSplitted[2];
                              var book = dataSplitted[3];

                               var bookDisplay = book;

                         if(bookDisplay==undefined){
                          // alert("here");
                         }
                         else{
                          bookDisplay =  bookDisplay.replace(/_/g, ' ');
                         }
                              

                              // book =  book.val().replace(/_/g, ' ');
                               var bookName = " "+book ;
                                 var bookNameDisplay = " "+bookDisplay ;

                               var welcomeText = "'"+bookNameDisplay+"'";
                             
                             
                              
                              
                               var welcome = $("<span id='welcome'> <font size='4px' class='bookDescriptionOnWall'  color=\"black\"> "+welcomeText+"</font></span>")

                                 var welcomeTextThinker = " written by - '"+thinker+"'";
                               var welcomeThinker = $("<span id='welcome'> <font size='4px' class='bookDescriptionOnWall'  color=\"black\"> "+welcomeTextThinker+"</font></span>")


                              var bookButton  = $("<button name=\'"+bookName+"\'> Read</button>");
                              bookButton.prop("class","buttonForBooks");
                               // bookButton.prop("class","bookDescriptionOnWall");
                              bookButton.click(function(event){
                                      
                                           var tempValue = event.target.name;
                                           var bookParsedValue = tempValue.split(" ");
                                           var bookvalue = bookParsedValue[1].trim();
                                           // alert(event.target.id);
                                           // alert($("$this"))
                                         $("#buttonForBooksId").trigger("onclick");
                                         // alert( $(this).attr("value"));
                                            $("#searchBooks").val(tempValue.trim());
                                             // event variable having event category and specific properties 
                                             var e = $.Event( "keypress", { which: 13 } );
                                              $('#searchBooks').trigger(e);

                                        
                                               var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[2].className += " active";
                              });


                               

                                if(window.devicePixelRatio==2){

         $(".bookDescriptionOnWall").prop("size","6px");
         $(".bookDescriptionOnWall").prop("weight","bold");
         $(".buttonForBooks").prop("style","font-size:25px;font-weight:bold;");

                               }


                             


                              var thinkerName = "THINKER NAME : "+thinker;
                              // var thinkerButton = $("<button name=\'"+thinkerName+"\'>"+thinkerName+" </button>");
                               var thinkerButton = $("<button name=\'"+thinkerName+"\'> </button>");
                              thinkerButton.prop("class","buttonForBooksWall");
                              thinkerButton.click(function(event){
                                       
                                              var tempValue = event.target.name;
                                              var thinkerParsedValue = tempValue.split(":");
                                              var thinkerValue  = thinkerParsedValue[1].trim();
                                             $("#buttonForThinkersId").trigger("onclick");
                                             $("#searchThinkers").val(thinkerValue);
                                             // event variable having event category and specific properties 
                                             var e = $.Event( "keypress", { which: 13 } );
                                              $('#searchThinkers').trigger(e);

                                           
                                               var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[1].className += " active";
                                            
                              });

                              var thinkerButtonDummy = $("<button name=\'"+thinkerName+"\'> </button>");
                              thinkerButtonDummy.prop("class","buttonForBooksWall");
                              thinkerButtonDummy.click(function(event){
                                       
                                              var tempValue = event.target.name;
                                              var thinkerParsedValue = tempValue.split(":");
                                              var thinkerValue  = thinkerParsedValue[1].trim();
                                             $("#buttonForThinkersId").trigger("onclick");
                                             $("#searchThinkers").val(thinkerValue);
                                             // event variable having event category and specific properties 
                                             var e = $.Event( "keypress", { which: 13 } );
                                              $('#searchThinkers').trigger(e);

                                          
                                               var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[1].className += " active";
                                            
                              });

                           

                               $("#divForImageRight").append("<br>");
                              $("#divForImageRight").append(welcome);

                               
                                 imageData =  imageData.replace('style="height: 100%;', 'style="height: 300px;');
                              $("#divForImageRight").append(imageData);
                               // $("#divForImageRight").append("<br>");
                                $("#divForImageRight").append(welcomeThinker);
                                 $("#divForImageRight").append("<br>");
                                   $("#divForImageRight").append("<br>");
                                $("#divForImageRight").append(bookButton);
                                 $("#divForImageRight").append("<br>");
                                  $("#divForImageRight").append("<br>");
                                  $("#divForImageRight").append(thinkerButton);
                                   $("#divForImageRight").append(thinkerButtonDummy);
                                   $("#divForImageRight").append(thinkerButtonDummy);
                                   $("#divForImageRight").append("<br>");
                                    // $("#divForImageRight").append("<br>");

                                  $(passedVariable).append(divForImageRight);

                              } // end of for 3rd loop

                              $("#waitSymbol").hide();

                            }

                          });


                            jQuery.ajax({
                        url: "http://localhost:8080/portal/portal/login/getBookDetailsListForWallScrollCentral/"+"trending",
                        dataType: 'text',
                        success: function(data){

                     
                           

                               var bookParsedDataForLeftWall =data.split("book###Delimiter@@@");

                               var divNestedWrapper = " <div id='divNestedWrapper' style='left:5%;right:5%;position: absolute; background-color: #A0C5EA ;border-style:none; '> </div>";
                               // var divNewInnerDiv = "";

                              for(var i=1;i<bookParsedDataForLeftWall.length;i++){

                                // alert("first"+bookParsedData.length);

                                // alert(i);

                                 var divForImage = "<div id='divForImage' style='position:absolute;background-color:#fafafa;left:35%;right:35%;text-align:center '> <div id='divForImageFooter' style='position:absolute;background-color:#A0C5EA ;left:40%;right:20%;top:90%;'></div> </div>";

                                

                                var bookData = bookParsedDataForLeftWall[i];


                                var dataSplitted = bookData.split("&&**");
                              // creation of first book Details 
                              var imageData = dataSplitted[0];
                                 
                           
                              var thinker = dataSplitted[2];
                              var book = dataSplitted[3];
                              var bookDisplay = book;

                         if(bookDisplay==undefined){
                          // alert("here");
                         }
                         else{
                          bookDisplay =  bookDisplay.replace(/_/g, ' ');
                         }
                              

                              // book =  book.val().replace(/_/g, ' ');
                               var bookName = " "+book ;
                                 var bookNameDisplay = " "+bookDisplay ;

                               var welcomeText = "'"+bookNameDisplay+"'";

                                var welcome = $("<span id='welcome'> <font  size='4px' class='bookDescriptionOnWallInner' color=\"black\"> "+welcomeText+"</font></span>")

                               var welcomeTextThinker = " written by - '"+thinker+"'";
                               var welcomeThinker = $("<span id='welcome'> <font  size='4px' class='bookDescriptionOnWallInner'  color=\"black\"> "+welcomeTextThinker+"</font></span>")


                              var bookButton  = $("<button name=\'"+bookName+"\'>Read</button>");
                              bookButton.prop("class","buttonForBooks");
                              bookButton.click(function(event){
                                      
                                           var tempValue = event.target.name;
                                           var bookParsedValue = tempValue.split(" ");
                                           var bookvalue = bookParsedValue[1].trim();
                                           // alert(":"+tempValue+":");
                                           var bookValue = tempValue;
                                           // alert(event.target.id);
                                           // alert($("$this"))
                                         $("#buttonForBooksId").trigger("onclick");
                                         // alert( $(this).attr("value"));
                                              $("#searchBooks").val(tempValue.trim());
                                             // event variable having event category and specific properties 
                                             var e = $.Event( "keypress", { which: 13 } );
                                              $('#searchBooks').trigger(e);

                                            /*  var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[1].className = tablinks[1].className.replace(" active", "");*/
                                               var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[2].className += " active";
                              });


                               

                               if(window.devicePixelRatio==2){

         $(".bookDescriptionOnWallInner").prop("size","6px");
         $(".bookDescriptionOnWallInner").prop("weight","bold");
         $(".buttonForBooks").prop("style","font-size:25px;font-weight:bold;");

                               }

                             


                               var thinkerName = "THINKER NAME : "+thinker;
                              // var thinkerButton = $("<button name=\'"+thinkerName+"\'>"+thinkerName+" </button>");
                               var thinkerButton = $("<button name=\'"+thinkerName+"\'> </button>");
                              thinkerButton.prop("class","buttonForBooksWall");
                              thinkerButton.click(function(event){
                                       
                                              var tempValue = event.target.name;
                                              var thinkerParsedValue = tempValue.split(":");
                                              var thinkerValue  = thinkerParsedValue[1].trim();
                                             $("#buttonForThinkersId").trigger("onclick");
                                             $("#searchThinkers").val(thinkerValue);
                                             // event variable having event category and specific properties 
                                             var e = $.Event( "keypress", { which: 13 } );
                                              $('#searchThinkers').trigger(e);

                                            /*  var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[1].className = tablinks[1].className.replace(" active", "");*/
                                               var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[1].className += " active";
                                            
                              });

                              var thinkerButtonDummy = $("<button name=\'"+thinkerName+"\'> </button>");
                              thinkerButtonDummy.prop("class","buttonForBooksWall");
                              thinkerButtonDummy.click(function(event){
                                       
                                              var tempValue = event.target.name;
                                              var thinkerParsedValue = tempValue.split(":");
                                              var thinkerValue  = thinkerParsedValue[1].trim();
                                             $("#buttonForThinkersId").trigger("onclick");
                                             $("#searchThinkers").val(thinkerValue);
                                             // event variable having event category and specific properties 
                                             var e = $.Event( "keypress", { which: 13 } );
                                              $('#searchThinkers').trigger(e);

                                            /*  var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[1].className = tablinks[1].className.replace(" active", "");*/
                                               var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[1].className += " active";
                                            
                              });

                           

                               $("#divForImage").append("<br>");
                              $("#divForImage").append(welcome);

                             
                              imageData =  imageData.replace('style="height: 100%;', 'style="height: 300px;');
                               // alert(imageData);
                              $("#divForImage").append(imageData);
                                $("#divForImage").append(welcomeThinker);
                                  // $("#divForImage").append("&nbsp&nbsp&nbsp");
                                   $("#divForImage").append("<br>");
                                   $("#divForImage").append("<br>");
                                $("#divForImage").append(bookButton);
                                 $("#divForImage").append("<br>");
                                  $("#divForImage").append("<br>");

                                  $("#divForImage").append(thinkerButton);
                                   $("#divForImage").append(thinkerButtonDummy);
                                   $("#divForImage").append(thinkerButtonDummy);
                                   // $("#divForImage").append("<br>");
                                    $("#divForImage").append("<br>");

                                    // alert($("#divForImage").html());

                                   // $("#divNestedWrapper").append(divForImage);
                                    // var contents = $("#divNestedWrapper").html();

                                 $(passedVariable).append(divForImage);
                              

                              } 
                              // $("#waitSymbol").hide();
                            }

                          });

    

                                            //checkBookSug
}

function doitOne(passedVariable,categoryVariable){


     $("#waitSymbol").show();
                               jQuery.ajax({
                        url: "http://localhost:8080/portal/portal/login/getBookDetailsListForWallScrollLeft/"+categoryVariable,
                        dataType: 'text',
                        success: function(data){
                          
                       // alert(data.length);

                             var bookParsedDataForInnerWall = data.split("book###Delimiter@@@");

                                 for(var i=1;i<bookParsedDataForInnerWall.length;i++){


                                  // alert(i);
                                // alert("first"+bookParsedData.length);

                                 var divForImageLeft = "<div id='divForImageLeft' style='position:absolute;background-color:#fafafa;left:.01%;right:70%;text-align:center'> <div id='divForImageFooter' style='position:absolute;background-color:#A0C5EA ;left:40%;top:90%;text-align:center'></div> </div>";

                                


                          

                                var bookData = bookParsedDataForInnerWall[i];


                                var dataSplitted = bookData.split("&&**");
                              // creation of first book Details 
                              var imageData = dataSplitted[0];
                                 
                           
                              var thinker = dataSplitted[2];
                              var book = dataSplitted[3];

                               var bookDisplay = book;

                         if(bookDisplay==undefined){
                          // alert("here");
                         }
                         else{
                          bookDisplay =  bookDisplay.replace(/_/g, ' ');
                         }
                              

                              // book =  book.val().replace(/_/g, ' ');
                               var bookName = " "+book ;
                                 var bookNameDisplay = " "+bookDisplay ;

                               var welcomeText = "'"+bookNameDisplay+"'";
                           

                             
                               var welcome = $("<span id='welcome'> <font size='4px' class='bookDescriptionOnWallLeft'  color=\"black\"> "+welcomeText+"</font></span>")

                                  var welcomeTextThinker = " written by - '"+thinker+"'";
                               var welcomeThinker = $("<span id='welcome'> <font size='4px' class='bookDescriptionOnWallLeft'  color=\"black\"> "+welcomeTextThinker+"</font></span>")




                              var bookButton  = $("<button name=\'"+bookName+"\'> Read</button>");
                              bookButton.prop("class","buttonForBooks");
                              bookButton.click(function(event){
                                      
                                           var tempValue = event.target.name;
                                           var bookParsedValue = tempValue.split(" ");
                                           var bookvalue = bookParsedValue[1].trim();
                                           // alert(event.target.id);
                                           // alert($("$this"))
                                         $("#buttonForBooksId").trigger("onclick");
                                         // alert( $(this).attr("value"));
                                             $("#searchBooks").val(tempValue.trim());
                                             // event variable having event category and specific properties 
                                             var e = $.Event( "keypress", { which: 13 } );
                                              $('#searchBooks').trigger(e);

                                           
                                               var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[2].className += " active";
                              });

                          

                           if(window.devicePixelRatio==2){

         $(".bookDescriptionOnWallLeft").prop("size","6px");
         $(".bookDescriptionOnWallLeft").prop("weight","bold");
         $(".buttonForBooks").prop("style","font-size:25px;font-weight:bold;");

                               }


                              var thinkerName = "THINKER NAME : "+thinker;
                              // var thinkerButton = $("<button name=\'"+thinkerName+"\'>"+thinkerName+" </button>");
                               var thinkerButton = $("<button name=\'"+thinkerName+"\'> </button>");
                              thinkerButton.prop("class","buttonForBooksWall");
                              thinkerButton.click(function(event){
                                       
                                              var tempValue = event.target.name;
                                              var thinkerParsedValue = tempValue.split(":");
                                              var thinkerValue  = thinkerParsedValue[1].trim();
                                             $("#buttonForThinkersId").trigger("onclick");
                                             $("#searchThinkers").val(thinkerValue);
                                             // event variable having event category and specific properties 
                                             var e = $.Event( "keypress", { which: 13 } );
                                              $('#searchThinkers').trigger(e);

                                          
                                               var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[1].className += " active";
                                            
                              });

                              var thinkerButtonDummy = $("<button name=\'"+thinkerName+"\'> </button>");
                              thinkerButtonDummy.prop("class","buttonForBooksWall");
                              thinkerButtonDummy.click(function(event){
                                       
                                              var tempValue = event.target.name;
                                              var thinkerParsedValue = tempValue.split(":");
                                              var thinkerValue  = thinkerParsedValue[1].trim();
                                             $("#buttonForThinkersId").trigger("onclick");
                                             $("#searchThinkers").val(thinkerValue);
                                             // event variable having event category and specific properties 
                                             var e = $.Event( "keypress", { which: 13 } );
                                              $('#searchThinkers').trigger(e);

                                          
                                               var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[1].className += " active";
                                            
                              });

                           // alert(welcome+welcomeThinker);
                           // alert(imageData);

                               $("#divForImageLeft").append("<br>");
                              $("#divForImageLeft").append(welcome);
                                 imageData =  imageData.replace('style="height: 100%;', 'style="height: 300px;');
                              $("#divForImageLeft").append(imageData);
                                 $("#divForImageLeft").append(welcomeThinker);
                                  $("#divForImageLeft").append("<br>");
                                   $("#divForImageLeft").append("<br>");
                                $("#divForImageLeft").append(bookButton);
                              $("#divForImageLeft").append("<br>");
                                  $("#divForImageLeft").append("<br>");
                                  $("#divForImageLeft").append(thinkerButton);
                                   $("#divForImageLeft").append(thinkerButtonDummy);
                                   $("#divForImageLeft").append(thinkerButtonDummy);
                                   $("#divForImageLeft").append("<br>");
                                    // $("#divForImageLeft").append("<br>");


                                  // $("#divTextArea").append("<br>");
                                  $(passedVariable).append(divForImageLeft);
                                   

                              }

                              $("#waitSymbol").hide();
                            }

                          });

                            // endOfScrollLeft



                            // startOfSCrollRight

                            $("#waitSymbol").show();

                             jQuery.ajax({
                        url: "http://localhost:8080/portal/portal/login/getBookDetailsListForWallScrollRight/"+categoryVariable,
                        dataType: 'text',
                        success: function(data){
                          

                                var bookParsedDataForRightWall = data.split("book###Delimiter@@@");
                              // start of third loop

                               for(var i=1;i<bookParsedDataForRightWall.length;i++){

                                // alert("first"+bookParsedData.length);

                                 var divForImageRight = "<div id='divForImageRight' style='position:absolute;background-color:#fafafa;left:70%;right:.01%;text-align:center'> <div id='divForImageFooter' style='position:absolute;background-color:#A0C5EA ;left:40%;right:20%;top:90%;'></div> </div>";

                                
                               

                                var bookData = bookParsedDataForRightWall[i];


                                var dataSplitted = bookData.split("&&**");
                              // creation of first book Details 
                              var imageData = dataSplitted[0];
                                 
                           
                              var thinker = dataSplitted[2];
                              var book = dataSplitted[3];

                               var bookDisplay = book;

                         if(bookDisplay==undefined){
                          // alert("here");
                         }
                         else{
                          bookDisplay =  bookDisplay.replace(/_/g, ' ');
                         }
                              

                              // book =  book.val().replace(/_/g, ' ');
                               var bookName = " "+book ;
                                 var bookNameDisplay = " "+bookDisplay ;

                               var welcomeText = "'"+bookNameDisplay+"'";
                             
                             
                              
                              
                               var welcome = $("<span id='welcome'> <font size='4px' class='bookDescriptionOnWall'  color=\"black\"> "+welcomeText+"</font></span>")

                                 var welcomeTextThinker = " written by - '"+thinker+"'";
                               var welcomeThinker = $("<span id='welcome'> <font size='4px' class='bookDescriptionOnWall'  color=\"black\"> "+welcomeTextThinker+"</font></span>")


                              var bookButton  = $("<button name=\'"+bookName+"\'> Read</button>");
                              bookButton.prop("class","buttonForBooks");
                               // bookButton.prop("class","bookDescriptionOnWall");
                              bookButton.click(function(event){
                                      
                                           var tempValue = event.target.name;
                                           var bookParsedValue = tempValue.split(" ");
                                           var bookvalue = bookParsedValue[1].trim();
                                           // alert(event.target.id);
                                           // alert($("$this"))
                                         $("#buttonForBooksId").trigger("onclick");
                                         // alert( $(this).attr("value"));
                                            $("#searchBooks").val(tempValue.trim());
                                             // event variable having event category and specific properties 
                                             var e = $.Event( "keypress", { which: 13 } );
                                              $('#searchBooks').trigger(e);

                                        
                                               var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[2].className += " active";
                              });


                               

                                if(window.devicePixelRatio==2){

         $(".bookDescriptionOnWall").prop("size","6px");
         $(".bookDescriptionOnWall").prop("weight","bold");
         $(".buttonForBooks").prop("style","font-size:25px;font-weight:bold;");

                               }


                             


                              var thinkerName = "THINKER NAME : "+thinker;
                              // var thinkerButton = $("<button name=\'"+thinkerName+"\'>"+thinkerName+" </button>");
                               var thinkerButton = $("<button name=\'"+thinkerName+"\'> </button>");
                              thinkerButton.prop("class","buttonForBooksWall");
                              thinkerButton.click(function(event){
                                       
                                              var tempValue = event.target.name;
                                              var thinkerParsedValue = tempValue.split(":");
                                              var thinkerValue  = thinkerParsedValue[1].trim();
                                             $("#buttonForThinkersId").trigger("onclick");
                                             $("#searchThinkers").val(thinkerValue);
                                             // event variable having event category and specific properties 
                                             var e = $.Event( "keypress", { which: 13 } );
                                              $('#searchThinkers').trigger(e);

                                           
                                               var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[1].className += " active";
                                            
                              });

                              var thinkerButtonDummy = $("<button name=\'"+thinkerName+"\'> </button>");
                              thinkerButtonDummy.prop("class","buttonForBooksWall");
                              thinkerButtonDummy.click(function(event){
                                       
                                              var tempValue = event.target.name;
                                              var thinkerParsedValue = tempValue.split(":");
                                              var thinkerValue  = thinkerParsedValue[1].trim();
                                             $("#buttonForThinkersId").trigger("onclick");
                                             $("#searchThinkers").val(thinkerValue);
                                             // event variable having event category and specific properties 
                                             var e = $.Event( "keypress", { which: 13 } );
                                              $('#searchThinkers').trigger(e);

                                          
                                               var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[1].className += " active";
                                            
                              });

                           

                               $("#divForImageRight").append("<br>");
                              $("#divForImageRight").append(welcome);

                               
                                 imageData =  imageData.replace('style="height: 100%;', 'style="height: 300px;');
                              $("#divForImageRight").append(imageData);
                               // $("#divForImageRight").append("<br>");
                                $("#divForImageRight").append(welcomeThinker);
                                 $("#divForImageRight").append("<br>");
                                   $("#divForImageRight").append("<br>");
                                $("#divForImageRight").append(bookButton);
                                 $("#divForImageRight").append("<br>");
                                  $("#divForImageRight").append("<br>");
                                  $("#divForImageRight").append(thinkerButton);
                                   $("#divForImageRight").append(thinkerButtonDummy);
                                   $("#divForImageRight").append(thinkerButtonDummy);
                                   $("#divForImageRight").append("<br>");
                                    // $("#divForImageRight").append("<br>");

                                  $(passedVariable).append(divForImageRight);

                              } // end of for 3rd loop

                              $("#waitSymbol").hide();

                            }

                          });


                            jQuery.ajax({
                        url: "http://localhost:8080/portal/portal/login/getBookDetailsListForWallScrollCentral/"+categoryVariable,
                        dataType: 'text',
                        success: function(data){

                     
                           

                               var bookParsedDataForLeftWall =data.split("book###Delimiter@@@");

                               var divNestedWrapper = " <div id='divNestedWrapper' style='left:5%;right:5%;position: absolute; background-color: #A0C5EA ;border-style:none; '> </div>";
                               // var divNewInnerDiv = "";

                              for(var i=1;i<bookParsedDataForLeftWall.length;i++){

                                // alert("first"+bookParsedData.length);

                                // alert(i);

                                 var divForImage = "<div id='divForImage' style='position:absolute;background-color:#fafafa;left:35%;right:35%;text-align:center '> <div id='divForImageFooter' style='position:absolute;background-color:#A0C5EA ;left:40%;right:20%;top:90%;'></div> </div>";

                                

                                var bookData = bookParsedDataForLeftWall[i];


                                var dataSplitted = bookData.split("&&**");
                              // creation of first book Details 
                              var imageData = dataSplitted[0];
                                 
                           
                              var thinker = dataSplitted[2];
                              var book = dataSplitted[3];
                              var bookDisplay = book;

                         if(bookDisplay==undefined){
                          // alert("here");
                         }
                         else{
                          bookDisplay =  bookDisplay.replace(/_/g, ' ');
                         }
                              

                              // book =  book.val().replace(/_/g, ' ');
                               var bookName = " "+book ;
                                 var bookNameDisplay = " "+bookDisplay ;

                               var welcomeText = "'"+bookNameDisplay+"'";

                                var welcome = $("<span id='welcome'> <font  size='4px' class='bookDescriptionOnWallInner' color=\"black\"> "+welcomeText+"</font></span>")

                               var welcomeTextThinker = " written by - '"+thinker+"'";
                               var welcomeThinker = $("<span id='welcome'> <font  size='4px' class='bookDescriptionOnWallInner'  color=\"black\"> "+welcomeTextThinker+"</font></span>")


                              var bookButton  = $("<button name=\'"+bookName+"\'>Read</button>");
                              bookButton.prop("class","buttonForBooks");
                              bookButton.click(function(event){
                                      
                                           var tempValue = event.target.name;
                                           var bookParsedValue = tempValue.split(" ");
                                           var bookvalue = bookParsedValue[1].trim();
                                           // alert(":"+tempValue+":");
                                           var bookValue = tempValue;
                                           // alert(event.target.id);
                                           // alert($("$this"))
                                         $("#buttonForBooksId").trigger("onclick");
                                         // alert( $(this).attr("value"));
                                              $("#searchBooks").val(tempValue.trim());
                                             // event variable having event category and specific properties 
                                             var e = $.Event( "keypress", { which: 13 } );
                                              $('#searchBooks').trigger(e);

                                            /*  var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[1].className = tablinks[1].className.replace(" active", "");*/
                                               var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[2].className += " active";
                              });


                               

                               if(window.devicePixelRatio==2){

         $(".bookDescriptionOnWallInner").prop("size","6px");
         $(".bookDescriptionOnWallInner").prop("weight","bold");
         $(".buttonForBooks").prop("style","font-size:25px;font-weight:bold;");

                               }

                             


                               var thinkerName = "THINKER NAME : "+thinker;
                              // var thinkerButton = $("<button name=\'"+thinkerName+"\'>"+thinkerName+" </button>");
                               var thinkerButton = $("<button name=\'"+thinkerName+"\'> </button>");
                              thinkerButton.prop("class","buttonForBooksWall");
                              thinkerButton.click(function(event){
                                       
                                              var tempValue = event.target.name;
                                              var thinkerParsedValue = tempValue.split(":");
                                              var thinkerValue  = thinkerParsedValue[1].trim();
                                             $("#buttonForThinkersId").trigger("onclick");
                                             $("#searchThinkers").val(thinkerValue);
                                             // event variable having event category and specific properties 
                                             var e = $.Event( "keypress", { which: 13 } );
                                              $('#searchThinkers').trigger(e);

                                            /*  var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[1].className = tablinks[1].className.replace(" active", "");*/
                                               var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[1].className += " active";
                                            
                              });

                              var thinkerButtonDummy = $("<button name=\'"+thinkerName+"\'> </button>");
                              thinkerButtonDummy.prop("class","buttonForBooksWall");
                              thinkerButtonDummy.click(function(event){
                                       
                                              var tempValue = event.target.name;
                                              var thinkerParsedValue = tempValue.split(":");
                                              var thinkerValue  = thinkerParsedValue[1].trim();
                                             $("#buttonForThinkersId").trigger("onclick");
                                             $("#searchThinkers").val(thinkerValue);
                                             // event variable having event category and specific properties 
                                             var e = $.Event( "keypress", { which: 13 } );
                                              $('#searchThinkers').trigger(e);

                                            /*  var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[1].className = tablinks[1].className.replace(" active", "");*/
                                               var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[1].className += " active";
                                            
                              });

                           

                               $("#divForImage").append("<br>");
                              $("#divForImage").append(welcome);

                             
                              imageData =  imageData.replace('style="height: 100%;', 'style="height: 300px;');
                               // alert(imageData);
                              $("#divForImage").append(imageData);
                                $("#divForImage").append(welcomeThinker);
                                  // $("#divForImage").append("&nbsp&nbsp&nbsp");
                                   $("#divForImage").append("<br>");
                                   $("#divForImage").append("<br>");
                                $("#divForImage").append(bookButton);
                                 $("#divForImage").append("<br>");
                                  $("#divForImage").append("<br>");

                                  $("#divForImage").append(thinkerButton);
                                   $("#divForImage").append(thinkerButtonDummy);
                                   $("#divForImage").append(thinkerButtonDummy);
                                   // $("#divForImage").append("<br>");
                                    $("#divForImage").append("<br>");

                                    // alert($("#divForImage").html());

                                   // $("#divNestedWrapper").append(divForImage);
                                    // var contents = $("#divNestedWrapper").html();

                                 $(passedVariable).append(divForImage);
                              

                              } 
                              // $("#waitSymbol").hide();
                            }

                          });

    

                                            //checkBookSug
}




function doitOne2(passedVariable){


     $("#waitSymbol").show();
                               jQuery.ajax({
                        url: "http://localhost:8080/portal/portal/login/getBookDetailsListForWallScrollLeft/"+"trending",
                        dataType: 'text',
                        success: function(data){
                          
                       // alert(data.length);

                             var bookParsedDataForInnerWall = data.split("book###Delimiter@@@");

                                 for(var i=1;i<bookParsedDataForInnerWall.length;i++){


                                  // alert(i);
                                // alert("first"+bookParsedData.length);

                                 var divForImageLeft11 = "<div id='divForImageLeft11' style='position:absolute;background-color:#fafafa;left:.01%;right:70%;text-align:center'> <div id='divForImageFooter' style='position:absolute;background-color:#A0C5EA ;left:40%;top:90%;text-align:center'></div> </div>";

                                


                          

                                var bookData = bookParsedDataForInnerWall[i];


                                var dataSplitted = bookData.split("&&**");
                              // creation of first book Details 
                              var imageData = dataSplitted[0];
                                 
                           
                              var thinker = dataSplitted[2];
                              var book = dataSplitted[3];

                               var bookDisplay = book;

                         if(bookDisplay==undefined){
                          // alert("here");
                         }
                         else{
                          bookDisplay =  bookDisplay.replace(/_/g, ' ');
                         }
                              

                              // book =  book.val().replace(/_/g, ' ');
                               var bookName = " "+book ;
                                 var bookNameDisplay = " "+bookDisplay ;

                               var welcomeText = "'"+bookNameDisplay+"'";
                           

                             
                               var welcome11 = $("<span id='welcome11'> <font size='4px' class='bookDescriptionOnWallLeft'  color=\"black\"> "+welcomeText+"</font></span>")

                                  var welcomeTextThinker = " written by - '"+thinker+"'";
                               var welcomeThinker111 = $("<span id='welcome111'> <font size='4px' class='bookDescriptionOnWallLeft'  color=\"black\"> "+welcomeTextThinker+"</font></span>")




                              var bookButton  = $("<button name=\'"+bookName+"\'> Read</button>");
                              bookButton.prop("class","buttonForBooks");
                              bookButton.click(function(event){
                                      
                                           var tempValue = event.target.name;
                                           var bookParsedValue = tempValue.split(" ");
                                           var bookvalue = bookParsedValue[1].trim();
                                           // alert(event.target.id);
                                           // alert($("$this"))
                                         $("#buttonForBooksId").trigger("onclick");
                                         // alert( $(this).attr("value"));
                                             $("#searchBooks").val(tempValue.trim());
                                             // event variable having event category and specific properties 
                                             var e = $.Event( "keypress", { which: 13 } );
                                              $('#searchBooks').trigger(e);

                                           
                                               var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[2].className += " active";
                              });

                          

                           if(window.devicePixelRatio==2){

         $(".bookDescriptionOnWallLeft").prop("size","6px");
         $(".bookDescriptionOnWallLeft").prop("weight","bold");
         $(".buttonForBooks").prop("style","font-size:25px;font-weight:bold;");

                               }


                              var thinkerName = "THINKER NAME : "+thinker;
                              // var thinkerButton = $("<button name=\'"+thinkerName+"\'>"+thinkerName+" </button>");
                               var thinkerButton = $("<button name=\'"+thinkerName+"\'> </button>");
                              thinkerButton.prop("class","buttonForBooksWall");
                              thinkerButton.click(function(event){
                                       
                                              var tempValue = event.target.name;
                                              var thinkerParsedValue = tempValue.split(":");
                                              var thinkerValue  = thinkerParsedValue[1].trim();
                                             $("#buttonForThinkersId").trigger("onclick");
                                             $("#searchThinkers").val(thinkerValue);
                                             // event variable having event category and specific properties 
                                             var e = $.Event( "keypress", { which: 13 } );
                                              $('#searchThinkers').trigger(e);

                                          
                                               var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[1].className += " active";
                                            
                              });

                              var thinkerButtonDummy11 = $("<button name=\'"+thinkerName+"\'> </button>");
                              thinkerButtonDummy11.prop("class","buttonForBooksWall");
                              thinkerButtonDummy11.click(function(event){
                                       
                                              var tempValue = event.target.name;
                                              var thinkerParsedValue = tempValue.split(":");
                                              var thinkerValue  = thinkerParsedValue[1].trim();
                                             $("#buttonForThinkersId").trigger("onclick");
                                             $("#searchThinkers").val(thinkerValue);
                                             // event variable having event category and specific properties 
                                             var e = $.Event( "keypress", { which: 13 } );
                                              $('#searchThinkers').trigger(e);

                                          
                                               var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[1].className += " active";
                                            
                              });

                           // alert(welcome+welcomeThinker);
                           // alert(imageData);

                               $("#divForImageLeft11").append("<br>");
                              $("#divForImageLeft11").append(welcome11);
                                 imageData =  imageData.replace('style="height: 100%;', 'style="height: 300px;');
                              $("#divForImageLeft11").append(imageData);
                                 $("#divForImageLeft11").append(welcomeThinker111);
                                  $("#divForImageLeft11").append("<br>");
                                   $("#divForImageLeft11").append("<br>");
                                $("#divForImageLeft11").append(bookButton);
                              $("#divForImageLeft11").append("<br>");
                                  $("#divForImageLeft11").append("<br>");
                                  // $("#divForImageLeft11").append(thinkerButton);
                                   $("#divForImageLeft11").append(thinkerButtonDummy11);
                                   $("#divForImageLeft11").append(thinkerButtonDummy11);
                                   $("#divForImageLeft11").append("<br>");
                                    // $("#divForImageLeft").append("<br>");


                                  // $("#divTextArea").append("<br>");
                                  $(passedVariable).append(divForImageLeft11);
                                   

                              }

                              $("#waitSymbol").hide();
                            }

                          });

                            // endOfScrollLeft
                               jQuery.ajax({
                        url: "http://localhost:8080/portal/portal/login/getBookDetailsListForWallScrollRight/"+"trending",
                        dataType: 'text',
                        success: function(data){
                          

                                var bookParsedDataForRightWall = data.split("book###Delimiter@@@");
                              // start of third loop

                               for(var i=1;i<bookParsedDataForRightWall.length;i++){

                                // alert("first"+bookParsedData.length);

                                 var divForImageRight11 = "<div id='divForImageRight11' style='position:absolute;background-color:#fafafa;left:70%;right:.01%;text-align:center'> <div id='divForImageFooter' style='position:absolute;background-color:#A0C5EA ;left:40%;right:20%;top:90%;'></div> </div>";

                                
                               

                                var bookData = bookParsedDataForRightWall[i];


                                var dataSplitted = bookData.split("&&**");
                              // creation of first book Details 
                              var imageData = dataSplitted[0];
                                 
                           
                              var thinker = dataSplitted[2];
                              var book = dataSplitted[3];

                               var bookDisplay = book;

                         if(bookDisplay==undefined){
                          // alert("here");
                         }
                         else{
                          bookDisplay =  bookDisplay.replace(/_/g, ' ');
                         }
                              

                              // book =  book.val().replace(/_/g, ' ');
                               var bookName = " "+book ;
                                 var bookNameDisplay = " "+bookDisplay ;

                               var welcomeText = "'"+bookNameDisplay+"'";
                             
                             
                              
                              
                               var welcome11 = $("<span id='welcome11'> <font size='4px' class='bookDescriptionOnWall'  color=\"black\"> "+welcomeText+"</font></span>")

                                 var welcomeTextThinker = " written by - '"+thinker+"'";
                               var welcomeThinker111 = $("<span id='welcome111'> <font size='4px' class='bookDescriptionOnWall'  color=\"black\"> "+welcomeTextThinker+"</font></span>")


                              var bookButton  = $("<button name=\'"+bookName+"\'> Read</button>");
                              bookButton.prop("class","buttonForBooks");
                               // bookButton.prop("class","bookDescriptionOnWall");
                              bookButton.click(function(event){
                                      
                                           var tempValue = event.target.name;
                                           var bookParsedValue = tempValue.split(" ");
                                           var bookvalue = bookParsedValue[1].trim();
                                           // alert(event.target.id);
                                           // alert($("$this"))
                                         $("#buttonForBooksId").trigger("onclick");
                                         // alert( $(this).attr("value"));
                                            $("#searchBooks").val(tempValue.trim());
                                             // event variable having event category and specific properties 
                                             var e = $.Event( "keypress", { which: 13 } );
                                              $('#searchBooks').trigger(e);

                                        
                                               var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[2].className += " active";
                              });


                               

                                if(window.devicePixelRatio==2){

         $(".bookDescriptionOnWall").prop("size","6px");
         $(".bookDescriptionOnWall").prop("weight","bold");
         $(".buttonForBooks").prop("style","font-size:25px;font-weight:bold;");

                               }


                             


                              var thinkerName = "THINKER NAME : "+thinker;
                              // var thinkerButton = $("<button name=\'"+thinkerName+"\'>"+thinkerName+" </button>");
                               var thinkerButton = $("<button name=\'"+thinkerName+"\'> </button>");
                              thinkerButton.prop("class","buttonForBooksWall");
                              thinkerButton.click(function(event){
                                       
                                              var tempValue = event.target.name;
                                              var thinkerParsedValue = tempValue.split(":");
                                              var thinkerValue  = thinkerParsedValue[1].trim();
                                             $("#buttonForThinkersId").trigger("onclick");
                                             $("#searchThinkers").val(thinkerValue);
                                             // event variable having event category and specific properties 
                                             var e = $.Event( "keypress", { which: 13 } );
                                              $('#searchThinkers').trigger(e);

                                           
                                               var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[1].className += " active";
                                            
                              });

                              var thinkerButtonDummy11 = $("<button name=\'"+thinkerName+"\'> </button>");
                              thinkerButtonDummy11.prop("class","buttonForBooksWall");
                              thinkerButtonDummy11.click(function(event){
                                       
                                              var tempValue = event.target.name;
                                              var thinkerParsedValue = tempValue.split(":");
                                              var thinkerValue  = thinkerParsedValue[1].trim();
                                             $("#buttonForThinkersId").trigger("onclick");
                                             $("#searchThinkers").val(thinkerValue);
                                             // event variable having event category and specific properties 
                                             var e = $.Event( "keypress", { which: 13 } );
                                              $('#searchThinkers').trigger(e);

                                          
                                               var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[1].className += " active";
                                            
                              });

                           

                               $("#divForImageRight11").append("<br>");
                              $("#divForImageRight11").append(welcome11);

                               
                                 imageData =  imageData.replace('style="height: 100%;', 'style="height: 300px;');
                              $("#divForImageRight11").append(imageData);
                               // $("#divForImageRight").append("<br>");
                                $("#divForImageRight11").append(welcomeThinker111);
                                 $("#divForImageRight11").append("<br>");
                                   $("#divForImageRight11").append("<br>");
                                $("#divForImageRight11").append(bookButton);
                                 $("#divForImageRight11").append("<br>");
                                  $("#divForImageRight11").append("<br>");
                                  // $("#divForImageRight11").append(thinkerButton);
                                   $("#divForImageRight11").append(thinkerButtonDummy11);
                                   $("#divForImageRight11").append(thinkerButtonDummy11);
                                   $("#divForImageRight11").append("<br>");
                                    // $("#divForImageRight").append("<br>");

                                  $(passedVariable).append(divForImageRight11);

                              } // end of for 3rd loop

                              $("#waitSymbol").hide();

                            }

                          });


                            jQuery.ajax({
                        url: "http://localhost:8080/portal/portal/login/getBookDetailsListForWallScrollCentral/"+"trending",
                        dataType: 'text',
                        success: function(data){

                     
                           

                               var bookParsedDataForLeftWall =data.split("book###Delimiter@@@");

                               var divNestedWrapper = " <div id='divNestedWrapper' style='left:5%;right:5%;position: absolute; background-color: #A0C5EA ;border-style:none; '> </div>";
                               // var divNewInnerDiv = "";

                              for(var i=1;i<bookParsedDataForLeftWall.length;i++){

                                // alert("first"+bookParsedData.length);

                                // alert(i);

                                 var divForImage11 = "<div id='divForImage11' style='position:absolute;background-color:#fafafa;left:35%;right:35%;text-align:center '> <div id='divForImageFooter' style='position:absolute;background-color:#A0C5EA ;left:40%;right:20%;top:90%;'></div> </div>";

                                

                                var bookData = bookParsedDataForLeftWall[i];


                                var dataSplitted = bookData.split("&&**");
                              // creation of first book Details 
                              var imageData = dataSplitted[0];
                                 
                           
                              var thinker = dataSplitted[2];
                              var book = dataSplitted[3];
                              var bookDisplay = book;

                         if(bookDisplay==undefined){
                          // alert("here");
                         }
                         else{
                          bookDisplay =  bookDisplay.replace(/_/g, ' ');
                         }
                              

                              // book =  book.val().replace(/_/g, ' ');
                               var bookName = " "+book ;
                                 var bookNameDisplay = " "+bookDisplay ;

                               var welcomeText = "'"+bookNameDisplay+"'";

                                var welcome11 = $("<span id='welcome11'> <font  size='4px' class='bookDescriptionOnWallInner' color=\"black\"> "+welcomeText+"</font></span>")

                               var welcomeTextThinker = " written by - '"+thinker+"'";
                               var welcomeThinker111 = $("<span id='welcome111'> <font  size='4px' class='bookDescriptionOnWallInner'  color=\"black\"> "+welcomeTextThinker+"</font></span>")


                              var bookButton  = $("<button name=\'"+bookName+"\'>Read</button>");
                              bookButton.prop("class","buttonForBooks");
                              bookButton.click(function(event){
                                      
                                           var tempValue = event.target.name;
                                           var bookParsedValue = tempValue.split(" ");
                                           var bookvalue = bookParsedValue[1].trim();
                                           // alert(":"+tempValue+":");
                                           var bookValue = tempValue;
                                           // alert(event.target.id);
                                           // alert($("$this"))
                                         $("#buttonForBooksId").trigger("onclick");
                                         // alert( $(this).attr("value"));
                                              $("#searchBooks").val(tempValue.trim());
                                             // event variable having event category and specific properties 
                                             var e = $.Event( "keypress", { which: 13 } );
                                              $('#searchBooks').trigger(e);

                                            /*  var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[1].className = tablinks[1].className.replace(" active", "");*/
                                               var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[2].className += " active";
                              });


                               

                               if(window.devicePixelRatio==2){

         $(".bookDescriptionOnWallInner").prop("size","6px");
         $(".bookDescriptionOnWallInner").prop("weight","bold");
         $(".buttonForBooks").prop("style","font-size:25px;font-weight:bold;");

                               }

                             


                               var thinkerName = "THINKER NAME : "+thinker;
                              // var thinkerButton = $("<button name=\'"+thinkerName+"\'>"+thinkerName+" </button>");
                               var thinkerButton = $("<button name=\'"+thinkerName+"\'> </button>");
                              thinkerButton.prop("class","buttonForBooksWall");
                              thinkerButton.click(function(event){
                                       
                                              var tempValue = event.target.name;
                                              var thinkerParsedValue = tempValue.split(":");
                                              var thinkerValue  = thinkerParsedValue[1].trim();
                                             $("#buttonForThinkersId").trigger("onclick");
                                             $("#searchThinkers").val(thinkerValue);
                                             // event variable having event category and specific properties 
                                             var e = $.Event( "keypress", { which: 13 } );
                                              $('#searchThinkers').trigger(e);

                                            /*  var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[1].className = tablinks[1].className.replace(" active", "");*/
                                               var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[1].className += " active";
                                            
                              });

                              var thinkerButtonDummy11 = $("<button name=\'"+thinkerName+"\'> </button>");
                              thinkerButtonDummy11.prop("class","buttonForBooksWall");
                              thinkerButtonDummy11.click(function(event){
                                       
                                              var tempValue = event.target.name;
                                              var thinkerParsedValue = tempValue.split(":");
                                              var thinkerValue  = thinkerParsedValue[1].trim();
                                             $("#buttonForThinkersId").trigger("onclick");
                                             $("#searchThinkers").val(thinkerValue);
                                             // event variable having event category and specific properties 
                                             var e = $.Event( "keypress", { which: 13 } );
                                              $('#searchThinkers').trigger(e);

                                            /*  var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[1].className = tablinks[1].className.replace(" active", "");*/
                                               var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[1].className += " active";
                                            
                              });

                           

                               $("#divForImage11").append("<br>");
                              $("#divForImage11").append(welcome11);

                             
                              imageData =  imageData.replace('style="height: 100%;', 'style="height: 300px;');
                               // alert(imageData);
                              $("#divForImage11").append(imageData);
                                $("#divForImage11").append(welcomeThinker111);
                                  // $("#divForImage").append("&nbsp&nbsp&nbsp");
                                   $("#divForImage11").append("<br>");
                                   $("#divForImage11").append("<br>");
                                $("#divForImage11").append(bookButton);
                                 $("#divForImage11").append("<br>");
                                  $("#divForImage11").append("<br>");

                                  // $("#divForImage11").append(thinkerButton);
                                   $("#divForImage11").append(thinkerButtonDummy11);
                                   $("#divForImage11").append(thinkerButtonDummy11);
                                   // $("#divForImage").append("<br>");
                                    $("#divForImage11").append("<br>");

                                    // alert($("#divForImage").html());

                                   // $("#divNestedWrapper").append(divForImage);
                                    // var contents = $("#divNestedWrapper").html();

                                 $(passedVariable).append(divForImage11);
                              

                              } 
                              // $("#waitSymbol").hide();
                            }

                          });


}





function doitOne3(passedVariable){

    $("#waitSymbolForBooksTab").show();
     $("#waitSymbolForBooksTab").show();
     $("#waitSymbol").show();
                               jQuery.ajax({
                        url: "http://localhost:8080/portal/portal/login/getBookDetailsListForSearchScroll/"+"trending",
                        dataType: 'text',
                        async : false,
                        success: function(data){
                            $("#waitSymbolForBooksTab").show();
                          
                       // alert(data.length);

                             var bookParsedDataForInnerWall = data.split("book###Delimiter@@@");

                                 for(var i=1;i<bookParsedDataForInnerWall.length;i++){


                                  // alert(i);
                                // alert("first"+bookParsedData.length);

                                 var divForImageLeft112 = "<div id='divForImageLeft112' style='position:absolute;background-color:#fafafa;left:.01%;right:.01%;text-align:center;outline:none;black-space: pre-wrap;'  > <div id='divForImageFooter' style='position:absolute;background-color:#A0C5EA ;left:40%;top:90%;text-align:center'></div> </div>";

                                


                          

                                var bookData = bookParsedDataForInnerWall[i];


                                var dataSplitted = bookData.split("&&**");
                              // creation of first book Details 
                              var imageData = dataSplitted[0];
                                 
                           
                              var thinker = dataSplitted[2];
                              var book = dataSplitted[3];

                              var rectifiedBookName = dataSplitted[4];


                              // console.log(dataSplitted[4]);


                                 // alert(thinker+book);

                               var bookDisplay = book;

                         if(bookDisplay==undefined){
                          // alert("here");
                         }
                         else{
                          bookDisplay =  bookDisplay.replace(/_/g, ' ');
                         }
                              

                              // book =  book.val().replace(/_/g, ' ');
                               var bookName = " "+book ;
                                 var bookNameDisplay = " "+bookDisplay ;

                               var welcomeText = "'"+bookNameDisplay+"'";



                           

                             
                               var welcome112 = $("<span id='welcome112'> <font size='4px' class='bookDescriptionOnWallLeft'  color=\"black\"> "+welcomeText+"</font></span>")

                               // alert(thinker);

                           // console.log(thinker);

                               var thinkerParsed = "";
                               if(thinker.length>0){

                                thinker = thinker.replace('<pre>',' ');
                                thinker = thinker.replace('</pre>',' ');

                               }

                               // alert(thinker);

                                  var welcomeTextThinker = " thought by  - '"+thinker+"'";


                               var welcomeThinker1112 = $("<span  id='welcome1112'   align='center'> <font size='4px' class='bookDescriptionOnWallLeft'  color=\"black\"> "+welcomeTextThinker+"</font></span>")




                              var bookButton  = $("<button name=\'"+bookName+"\'> Read</button>");
                              bookButton.prop("class","buttonForBooks");
                              bookButton.click(function(event){
                                      
                                           var tempValue = event.target.name;
                                           var bookParsedValue = tempValue.split(" ");
                                           var bookvalue = bookParsedValue[1].trim();
                                           // alert(event.target.id);
                                           // alert($("$this"))
                                         $("#buttonForBooksId").trigger("onclick");
                                         // alert( $(this).attr("value"));
                                             $("#searchBooks").val(tempValue.trim());
                                             // event variable having event category and specific properties 
                                             var e = $.Event( "keypress", { which: 13 } );
                                              $('#searchBooks').trigger(e);

                                           
                                               var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[2].className += " active";
                              });

                          

                           if(window.devicePixelRatio==2){

         $(".bookDescriptionOnWallLeft").prop("size","6px");
         $(".bookDescriptionOnWallLeft").prop("weight","bold");
         $(".buttonForBooks").prop("style","font-size:25px;font-weight:bold;");

                               }


                              var thinkerName = "THINKER NAME : "+thinker;
                              // var thinkerButton = $("<button name=\'"+thinkerName+"\'>"+thinkerName+" </button>");
                               var thinkerButton = $("<button name=\'"+thinkerName+"\'> </button>");
                              thinkerButton.prop("class","buttonForBooksWall");
                              thinkerButton.click(function(event){
                                       
                                              var tempValue = event.target.name;
                                              var thinkerParsedValue = tempValue.split(":");
                                              var thinkerValue  = thinkerParsedValue[1].trim();
                                             $("#buttonForThinkersId").trigger("onclick");
                                             $("#searchThinkers").val(thinkerValue);
                                             // event variable having event category and specific properties 
                                             var e = $.Event( "keypress", { which: 13 } );
                                              $('#searchThinkers').trigger(e);

                                          
                                               var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[1].className += " active";
                                            
                              });

                              var thinkerButtonDummy112 = $("<button name=\'"+thinkerName+"\'> </button>");
                              thinkerButtonDummy112.prop("class","buttonForBooksWall");
                              thinkerButtonDummy112.click(function(event){
                                       
                                              var tempValue = event.target.name;
                                              var thinkerParsedValue = tempValue.split(":");
                                              var thinkerValue  = thinkerParsedValue[1].trim();
                                             $("#buttonForThinkersId").trigger("onclick");
                                             $("#searchThinkers").val(thinkerValue);
                                             // event variable having event category and specific properties 
                                             var e = $.Event( "keypress", { which: 13 } );
                                              $('#searchThinkers').trigger(e);

                                          
                                               var  tablinks = document.getElementsByClassName("tablinks");
                                               tablinks[1].className += " active";
                                            
                              });

                          
                               $("#divForImageLeft112").append("<br>");
                              $("#divForImageLeft112").append(rectifiedBookName);
                                 imageData =  imageData.replace('style="height: 50%;', 'style="height: 100px;');
                              $("#divForImageLeft112").append(imageData);
                                 $("#divForImageLeft112").append(thinker);
                                  $("#divForImageLeft112").append("<br>");
                                   $("#divForImageLeft112").append("<br>");
                                // $("#divForImageLeft112").append(bookButton);
                              $("#divForImageLeft112").append("<br>");
                                  $("#divForImageLeft112").append("<br>");
                                  // $("#divForImageLeft11").append(thinkerButton);
                                   $("#divForImageLeft112").append(thinkerButtonDummy112);
                                   $("#divForImageLeft112").append(thinkerButtonDummy112);
                                   $("#divForImageLeft112").append("<br>");
                                    // $("#divForImageLeft").append("<br>");


                                  // $("#divTextArea").append("<br>");
                                  $(passedVariable).append(divForImageLeft112);
                                   

                              }

                              $("#waitSymbol").hide();
                              $("#waitSymbolForBooksTab").hide();
                            }

                          });


        

                            


}











  </script>








   <script src="http://code.jquery.com/ui/1.10.2/jquery-ui.js" ></script> 
     <script src="https://d2xwmjc4uy2hr5.cloudfront.net/im-embed/im-embed.min.js"></script>
<link href="http://code.jquery.com/ui/1.10.2/themes/smoothness/jquery-ui.css" rel="Stylesheet"></link>






</head>

</html>

